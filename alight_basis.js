/**
 * Angular Light 1.0.2-alpha
 * (c) 2016 Oleg Nechaev
 * Released under the MIT License.
 * 2017-11-30, http://angularlight.org/ 
 */!function(){"use strict";function e(){function e(e,t){var n,r=[],i=!1,o=t.cd,a=t.callback;if(t.filterConf.args.length){var l=[];t.filterConf.args.forEach(function(e,t){var n=o.watch(e,function(e){r[t+1]=e,u()});n.$.isStatic||l.push(n)});var c=!1,u=function(){c||(c=!0,o.watch("$onScanOnce",function(){if(c=!1,i){var t=e.apply(null,r);s.isPromise(t)?t.then(function(e){a(e),o.scan()}):a(t)}}))};l.length&&(n=function(){l.forEach(function(e){return e.stop()})})}else var u=function(){var t=e(r[0]);s.isPromise(t)?t.then(function(e){a(e),o.scan()}):a(t)};var f={onChange:function(e){i=!0,r[0]=e,u()},onStop:n,watchMode:t.watchMode};return f}function t(e,t,n,r){var i=null,o=r.oneTime;if(r.isArray?i="array":r.deep&&(i="deep"),!n){var a={el:r.element,ea:r.elementAttr};n=function(t){v(e.scope,a,t)}}for(var l=c.utils.parsFilter(t.filter),s=[],u=l.result.length-1;u>=0;u--){var f=c.core.getFilter(l.result[u].name,e),p=c.core.buildFilterNode(e,l.result[u],f,n);p.watchMode&&(i=p.watchMode),p.onStop&&s.push(p.onStop),n=p.onChange}return r={oneTime:o},"array"===i?r.isArray=!0:"deep"===i&&(r.deep=!0),s.length&&(r.onStop=function(){s.forEach(function(e){return e()}),s.length=0}),e.watch(t.expression,n,r)}function n(e,t,n,r){r.setValue(r.attrArgument,t)}function r(e,t){return function(n,r,i,o){o.fastBinding=!0;var a,l=function(){o.setValue(i,e(r)),a.refresh(),o.scan()};o.on(r,"input",l),o.on(r,"change",l),a=o.watch(i,function(e){return t(r,e)},{readOnly:!0})}}function i(e,t,n,r){var i,o,a=r.takeAttr("al-value");i=a?r.eval(a):r.takeAttr("value"),r.on(t,"change",function(){r.setValue(n,i),o.refresh(),r.scan()}),o=r.watch(n,function(e){t.checked=i===e},{readOnly:!0})}function o(e,t,n,r){function i(e){var n=r.takeAttr(e);return c.option.removeAttribute&&(t.removeAttribute(e),r.fbElement&&r.fbElement.removeAttribute(e)),n}function o(e,t){var n=i(t);if(n)return l.opt[e]=n,!0;var r=i(":"+t)||i("al-attr."+t);return r?(l.watch.push([r,e]),!0):void 0}function a(e,t,n){for(var r in t.fbData.opt)e[r]=t.fbData.opt[r];for(var i=function(r){var i=r[1];t.watch(r[0],function(t){e[i]=t,n()})},o=0,a=t.fbData.watch;o<a.length;o++){var l=a[o];i(l)}}var l=r.fbData={opt:{},watch:[]};o("value","value")?r.fastBinding=function(e,t,n,r){function i(){return t.checked=l&&l.indexOf(c.value)>=0,"$scanNoChanges"}var o,l=null,c={};a(c,r,i),o=r.watch(n,function(e){l=e,Array.isArray(l)||(l=null),i()},{isArray:!0}),r.on(t,"change",function(){if(l||(l=[],r.setValue(n,l)),t.checked)l.indexOf(c.value)<0&&l.push(c.value);else{var e=l.indexOf(c.value);e>=0&&l.splice(e,1)}o.refresh(),r.scan()})}:(o("true","true-value"),o("false","false-value"),r.fastBinding=function(e,t,n,r){function i(){return t.checked=o===c["true"],"$scanNoChanges"}var o,l,c={"true":!0,"false":!1};a(c,r,i),l=r.watch(n,function(e){o=e,i()}),r.on(t,"change",function(){o=t.checked?c["true"]:c["false"],r.setValue(n,o),l.refresh(),r.scan()})}),r.fastBinding(e,t,n,r)}function a(e,t,n,r){function i(){for(var e in l)if(l[e]===a)return void(t.value=e);t.selectedIndex=-1}var o=r["new"](),a=null,l={},c=0;o.$select={add:function(e){return c++,l[c]=e,i(),c},remove:function(e){delete l[e],i()}},r.on(t,"change",function(){a=event.target.value,c&&(a=l[a]),r.setValue(n,a),s.refresh(),r.scan()});var s=r.watch(n,function(e){a=e,c?i():t.value=a});r.bind(o)}function l(e,t,n,r){r.on(t,"input",function(e){e.component&&(r.setValue(n,e.value),r.scan())})}var c=function(e,t){return c.bootstrap(e,t)};c.version="1.0.2-alpha",c.filters={},c.text={},c.core={},c.utils={},c.option={globalController:!1,removeAttribute:!0,domOptimization:!0,domOptimizationRemoveEmpty:!0,fastBinding:!0},c.debug={scan:0,directive:!1,watch:!1,watchText:!1,parser:!1},c.ctrl=c.controllers={},c.d=c.directives={al:{},bo:{},$global:{}},c.hooks={directive:[],binding:[]},c.priority={al:{app:2e3,checked:20,"class":30,css:30,focused:20,"if":700,ifnot:700,model:25,radio:25,repeat:1e3,"for":1e3,select:20,stop:-10,value:20,on:10},$component:5,$attribute:-5};var s=c.f$={},u=function(e,t){var n=e.indexOf(t);n>=0?e.splice(n,1):console.warn("trying to remove not exist item")};!function(){s.before=function(e,t){var n=e.parentNode;n.insertBefore(t,e)},s.after=function(e,t){var n=e.parentNode,r=e.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)},s.remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},s.on=function(e,t,n){e.addEventListener(t,n,!1)},s.off=function(e,t,n){e.removeEventListener(t,n,!1)},s.isFunction=function(e){return e&&"[object Function]"===Object.prototype.toString.call(e)},s.isObject=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},s.isPromise=function(e){return e&&s.isFunction(e.then)},s.isElement=function(e){return e instanceof HTMLElement},s.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},s.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")},s.rawAjax=function(e){var t=new XMLHttpRequest;t.open(e.type||"GET",e.url,!0,e.username,e.password);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);e.success&&(t.onload=function(){t.status>=200&&t.status<400?e.success(t.responseText):e.error&&e.error()}),e.error&&(t.onerror=e.error),t.send(e.data||null)},s.ajaxCache={},s.ajax=function(e){if(e.username||e.password||e.headers||e.data||!e.cache)return s.rawAjax(e);var t=e.type||"GET",n=t+":"+e.url,r=s.ajaxCache[n];return r||(s.ajaxCache[n]=r={callback:[]}),r.result?void(e.success&&e.success(r.result)):(r.callback.push(e),void(r.loading||(r.loading=!0,s.rawAjax({type:t,url:e.url,success:function(e){r.loading=!1,r.result=e;for(var t=0;t<r.callback.length;t++)r.callback[t].success&&r.callback[t].success(e);r.callback.length=0},error:function(){r.loading=!1;for(var e=0;e<r.callback.length;e++)r.callback[e].error&&r.callback[e].error();r.callback.length=0}}))))},function(){var e='@charset "UTF-8";[al-cloak],[hidden],.al-hide{display:none !important;}',t=document.querySelectorAll("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}()}(),s.ready=function(){function e(){n=!0,s.off(document,"DOMContentLoaded",e);for(var r=0;r<t.length;r++)t[r]();t.length=0}var t=[],n=!1;return s.on(document,"DOMContentLoaded",e),function(e){n?e():t.push(e)}}(),c.core.getFilter=function(e,t){var n=t.locals[e];if(n&&(s.isFunction(n)||n.init||n.fn))return n;if(n=c.filters[e])return n;throw"Filter not found: "+e},c.core.buildFilterNode=function(t,n,r,i){if(s.isFunction(r))return e(r,{cd:t,filterConf:n,callback:i});if(r.init)return r.init.call(t,t.scope,n.raw,{setValue:i,conf:n,changeDetector:t});if(s.isFunction(r.fn))return e(r.fn,{cd:t,filterConf:n,callback:i,watchMode:r.watchMode});throw"Wrong filter: "+n.name};var f,p,h,d,m,v,g,b,y,w,x,k;c.ChangeDetector=function(e){var t,n;return n=new h,t=new f(n,e||{}),n.topCD=t,t},h=function(){return this.watchers={any:[],finishBinding:[],finishScan:[],finishScanOnce:[],onScanOnce:[]},this.status=null,this.extraLoop=!1,this.finishBinding_lock=!1,this.lateScan=!1,this.topCD=null,this},h.prototype.destroy=function(){return this.watchers.any.length=0,this.watchers.finishBinding.length=0,this.watchers.finishScan.length=0,this.watchers.finishScanOnce.length=0,this.watchers.onScanOnce.length=0,this.topCD?this.topCD.destroy():void 0},f=function(e,t){this.scope=t,this.locals=t,this.root=e,this.watchList=[],this.destroy_callbacks=[],this.parent=null,this.children=[],this.rwatchers={any:[],finishScan:[],elEvents:[]}},f.prototype["new"]=function(e,t){var n,r,i;return t=t||{},i=this,null==e&&(e=i.scope),r=new f(i.root,e),r.parent=i,e===i.scope&&(t.locals?(n=i._ChildLocals,n||(i._ChildLocals=n=function(){return this.$$root=e,this},n.prototype=i.locals),r.locals=new n):r.locals=i.locals),i.children.push(r),r},f.prototype.destroy=function(){var e,t,n,r,i,o,a,l,c,f,p,h,d,m,v,g,b,y,w,x,k,D,$,C,A;for(e=this,C=e.root,e.scope=null,e.parent&&u(e.parent.children,e),y=e.destroy_callbacks,o=0,c=y.length;c>o;o++)(r=y[o])();for(w=e.children.slice(),a=0,f=w.length;f>a;a++)t=w[a],t.destroy();for(e.destroy_callbacks.length=0,x=e.watchList,l=0,p=x.length;p>l;l++)n=x[l],n.onStop&&n.onStop();for(e.watchList.length=0,k=e.rwatchers.any,v=0,h=k.length;h>v;v++)A=k[v],u(C.watchers.any,A);for(e.rwatchers.any.length=0,D=e.rwatchers.finishScan,g=0,d=D.length;d>g;g++)A=D[g],u(C.watchers.finishScan,A);for(e.rwatchers.finishScan.length=0,$=this.rwatchers.elEvents,b=0,m=$.length;m>b;b++)i=$[b],s.off(i[0],i[1],i[2]);this.rwatchers.elEvents.length=0,C.topCD===e&&(C.topCD=null,C.destroy())},d=function(e){return this.cb=e},x=function(e,t,n){var r,i;return r=e.root,i=new d(n),e.rwatchers[t].push(i),r.watchers[t].push(i),{stop:function(){return u(e.rwatchers[t],i),u(r.watchers[t],i)}}},f.prototype.on=function(e,t,n){return s.on(e,t,n),this.rwatchers.elEvents.push([e,t,n])},b={$any:function(e,t){return x(e,"any",t)},$finishScan:function(e,t){return x(e,"finishScan",t)},$finishScanOnce:function(e,t){e.root.watchers.finishScanOnce.push(t)},$onScanOnce:function(e,t){e.root.watchers.onScanOnce.push(t)},$destroy:function(e,t){e.destroy_callbacks.push(t)},$finishBinding:function(e,t){e.root.watchers.finishBinding.push(t)}},k=function(){},f.prototype.watch=function(e,n,r){var i,o,a,l,f,p,h,d,m,g,y;if(f=b[e])return f(this,n);if(r=r||{},r===!0&&(r={isArray:!0}),r.init&&console.warn("watch.init is depricated"),i=this,g=i.root,y=i.scope,s.isFunction(e)?(l=e,d=c.utils.getId(),p=!0):(p=!1,l=null,e=e.trim(),"::"===e.slice(0,2)&&(e=e.slice(2),r.oneTime=!0),d=e,d=r.deep?"d#"+d:r.isArray?"a#"+d:"v#"+d),c.debug.watch&&console.log("$watch",e),h=!1,!p)if(r.watchText)l=r.watchText.fn;else{if(o=c.utils.compile.expression(e),o.filter)return t(i,o,n,r);h=o.isSimple&&0===o.simpleVariables.length,l=o.fn}return r.deep&&(r.isArray=!1),a={isStatic:h,isArray:Boolean(r.isArray),extraLoop:!r.readOnly,deep:r.deep===!0?10:r.deep,value:k,callback:n,exp:l,src:""+e,onStop:r.onStop||null,el:r.element||null,ea:r.elementAttr||null},h?i.watch("$onScanOnce",function(){return v(y,a,a.exp(y))}):i.watchList.push(a),m={$:a,stop:function(){var t,n;if(r.onStop)try{r.onStop()}catch(n){t=n,c.exceptionHandler(t,"Error in onStop of watcher: "+e,e)}if(!a.isStatic)return u(i.watchList,a)},refresh:function(){var e;return e=a.exp(i.locals),a.value=e&&a.deep?c.utils.clone(e,a.deep):e&&a.isArray?e.slice():e}},r.oneTime&&(a.callback=function(e){return void 0!==e?(m.stop(),n(e)):void 0}),m},f.prototype.watchGroup=function(e,t){var n,r,i,o,a,l;if(n=this,!t&&s.isFunction(e)&&(t=e,e=null),l=!1,r=function(){return l?void 0:(l=!0,n.watch("$onScanOnce",function(){return l=!1,t()}))},e)for(i=0,a=e.length;a>i;i++)o=e[i],n.watch(o,r);return r},g=function(){return window.performance?function(){return Math.floor(performance.now())}:function(){return(new Date).getTime()}}(),y=function(e,t){var n,r,i,o,a,l;if(null===e||null===t)return!0;if(o=typeof e,a=typeof t,o!==a)return!0;if("object"===o){if(e.length!==t.length)return!0;for(n=r=0,i=e.length;i>r;n=++r)if(l=e[n],l!==t[n])return!0}return!1},v=function(e,t,n){t.el?t.ea?t.el.setAttribute(t.ea,n):t.el.nodeValue=n:t.callback.call(e,n)},m=function(e,t,n,r){var i,o;return i={src:n.src,scope:t.scope,locals:t.locals},n.el&&(i.element=n.el),o=1===r?"$scan, error in callback: ":"$scan, error in expression: ",c.exceptionHandler(e,o+n.src,i)},p=function(){},w=function(e,t){var n,r,i,o,a,l,s,u,f,h,d,v,g,b,w,x,D,$,C,A;if(D=e.root,u=!1,o=0,$=0,e){for(w=[],f=0,i=e;i;){for(g=i.locals,$+=i.watchList.length,x=i.watchList.slice(),h=0,v=x.length;v>h;h++){A=x[h],d=A.value;try{C=A.exp(g)}catch(l){a=l,C=p}if(d!==C){if(b=!1,A.isArray?(n=Array.isArray(d),r=Array.isArray(C),n===r?n?y(d,C)&&(b=!0,A.value=C.slice()):(b=!0,A.value=C):(b=!0,A.value=r?C.slice():C)):A.deep?c.utils.equal(d,C,A.deep)||(b=!0,A.value=c.utils.clone(C,A.deep)):(b=!0,A.value=C),b)if(b=!1,C===p)m(a,i,A);else{o++;try{A.el?A.ea?null!=C?A.el.setAttribute(A.ea,C):A.el.removeAttribute(A.ea):A.el.nodeValue=C:(d===k&&(d=void 0),"$scanNoChanges"!==A.callback.call(i.scope,C,d)&&A.extraLoop&&(u=!0))}catch(s){a=s,m(a,i,A,1)}}c.debug.scan>1&&console.log("changed:",A.src)}}w.push.apply(w,i.children),i=w[f++]}t.total=$,t.changes=o,t.extraLoop=u}},f.prototype.digest=function(){var e,t,n,r,i,o,a,l,s,u;for(l=this.root,i=10,u=0,c.debug.scan&&(s=g()),a={total:0,changes:0,extraLoop:!1,src:"",scope:null,element:null};i;){if(i--,l.extraLoop=!1,l.watchers.onScanOnce.length)for(o=l.watchers.onScanOnce.slice(),l.watchers.onScanOnce.length=0,n=0,r=o.length;r>n;n++)e=o[n],e.call(l);if(w(this,a),u+=a.changes,!a.extraLoop&&!l.extraLoop&&!l.watchers.onScanOnce.length)break}return c.debug.scan&&(t=g()-s,console.log("$scan: loops: ("+(10-i)+"), last-loop changes: "+a.changes+", watches: "+a.total+" / "+t+"ms")),a.mainLoop=i,a.totalChanges=u,a},f.prototype.scan=function(e){var t,n,r,i,o,a,l,u,f,p,h,d,m;if(m=this.root,e=e||{},!c.option.zone||e.zone){if(s.isFunction(e)&&(e={callback:e}),e.callback&&m.watchers.finishScanOnce.push(e.callback),e.late){if(m.lateScan)return;return m.lateScan=!0,void c.nextTick(function(){return m.lateScan?m.topCD.scan():void 0})}if("scaning"===m.status)return void(m.extraLoop=!0);if(m.lateScan=!1,m.status="scaning",d=m.topCD?m.topCD.digest():{},d.totalChanges)for(p=m.watchers.any,i=0,l=p.length;l>i;i++)(n=p[i])();for(m.status=null,h=m.watchers.finishScan,o=0,u=h.length;u>o;o++)(t=h[o])();for(r=m.watchers.finishScanOnce.slice(),m.watchers.finishScanOnce.length=0,a=0,f=r.length;f>a;a++)t=r[a],t.call(m);if(0===d.mainLoop)throw"Infinity loop detected";return d}},c.core.ChangeDetector=f,f.prototype.compile=function(e,t){return c.utils.compile.expression(e,t).fn},f.prototype.setValue=function(e,t){var n,r,i,o,a,l,s,u,f,p,h;n=this,o=n.compile(e+" = $value",{input:["$value"],no_return:!0});try{return o(n.locals,t)}catch(i){if(r=i,f="can't set variable: "+e,c.debug.parser&&console.warn(f),(""+r).indexOf("TypeError")>=0&&(h=e.match(/^([\w\d\.]+)\.[\w\d]+$/),h&&h[1])){for(u=n.locals,p=h[1].split("."),a=0,s=p.length;s>a;a++)l=p[a],void 0===u[l]&&(u[l]={}),u=u[l];try{return void o(n.locals,t)}catch(d){}}return c.exceptionHandler(r,f,{name:e,value:t})}},f.prototype.eval=function(e){var t;return(t=this.compile(e))(this.locals)},f.prototype.getValue=function(e){return this.eval(e)},function(){var e;return c.text.$base=function(e){var t,n,r,i,o;if(i=e.point,t=e.cd,o=t.scope,n=o.$ns&&o.$ns.text?o.$ns.text[e.name]:c.text[e.name],!n)throw"No directive alight.text."+e.name;return r={changeDetector:t,setter:function(t){return e.update?(i.value=null===t?"":""+t,e.update()):void 0},setterRaw:function(t){return e.updateRaw?(i.value=null===t?"":""+t,e.updateRaw()):void 0},"finally":function(t){return e["finally"]?(i.value=null===t?"":""+t,i.type="text",e["finally"](),e.update=null,e["finally"]=null):void 0}},n.call(t,r.setter,e.exp,o,r)},e=function(e,t,n){var r,i,o,a,l,s,u,f,p,h,d,m,g,b,y,w,x,k,D,$,C,A,E,_,T,N,B,S,O;if(n=n||{},i=this,c.debug.watchText&&console.log("$watchText",e),_=c.utils.compile.buildSimpleText(e,null))return void i.watch(e,t,{watchText:_,element:n.element,elementAttr:n.elementAttr});for(l=c.utils.parsText(e),S=0,r=!0,C=!1,u=f=s=function(){},g=0,w=l.length;w>g;g++)if(a=l[g],"expression"===a.type)if(p=a.list.join("|"),D=p.match(/^([^\w\d\s\$"'\(\u0410-\u044F\u0401\u0451]+)/))a.isDir=!0,$=D[1],"#"===$?(m=p.indexOf(" "),0>m?($=p.substring(1),p=""):($=p.slice(1,m),p=p.slice(m))):p=p.substring($.length),c.text.$base({name:$,exp:p,cd:i,point:a,update:function(){return u()},updateRaw:function(){return f()},"finally":function(){return u(),s()}}),C=!0,"text"!==a.type&&(r=!1);else if(o=c.utils.compile.expression(p,{string:!0}),o.filter)S++,r=!1,a.watched=!0,function(e){return i.watch(p,function(t){return null==t&&(t=""),e.value=t,u()})}(a);else{if(a.fn=o.fn,!o.rawExpression)throw"Error";o.isSimple&&0===o.simpleVariables.length?(a.type="text",a.value=a.fn()):(a.re=o.rawExpression,S++)}if(r){if(!S){for(N="",b=0,x=l.length;x>b;b++)a=l[b],N+=a.value;return void i.watch("$onScanOnce",function(){return v(i.scope,{callback:t,el:n.element,ea:n.elementAttr},N)})}return _=C?c.utils.compile.buildSimpleText(null,l):c.utils.compile.buildSimpleText(e,l),void i.watch(e,t,{watchText:{fn:_.fn},element:n.element,elementAttr:n.elementAttr})}if(O={callback:t,el:n.element,ea:n.elementAttr},l.scope=i.scope,d=c.utils.compile.buildText(e,l),f=function(){return v(i.scope,O,d())},S){for(B=null,E="",u=function(){E=d()},s=function(){var e,t;for(m=!0,e=0,t=l.length;t>e;e++)if(a=l[e],"expression"===a.type){m=!1;break}m&&(i.watch("$finishScanOnce",function(){return B.stop()}),n.onStatic&&n.onStatic())},A=function(){return E},y=0,k=l.length;k>y;y++)if(a=l[y],"expression"===a.type){if(a.isDir||a.watched)continue;a.watched=!0,function(e,t){return i.watch(t,function(t){return null==t&&(t=""),e.value=t,u()})}(a,a.list.join(" | "))}u(),B=i.watch(A,t,{element:n.element,elementAttr:n.elementAttr})}else T=!1,h=function(){return T=!1,f()},(u=function(){return T?void 0:(T=!0,i.watch("$onScanOnce",h))})()},f.prototype.watchText=e}();var D;D={TR:1,TD:1,LI:1},c.utils.optmizeElement=function(e,t){var n,r,i,o,a,l,u,f,p,h,d,m,v,g,b,y,w,x,k,$;if(1===e.nodeType){for(t=t||!c.option.domOptimizationRemoveEmpty,"PRE"===e.nodeName&&(t=!0),o=e.firstChild,!o||3!==o.nodeType||o.nodeValue.trim()||t||(s.remove(o),o=e.firstChild),y=!1;o;)g=o.nextSibling,!y||3!==o.nodeType||o.nodeValue.trim()||t?(y=1===o.nodeType&&D[o.nodeName],c.utils.optmizeElement(o,t)):s.remove(o),o=g;o=e.lastChild,!o||3!==o.nodeType||o.nodeValue.trim()||t||s.remove(o)}else if(3===e.nodeType){if(k=e.data,m=c.utils.pars_start_tag,l=k.indexOf(m),0>l)return;if(k.slice(l+m.length).indexOf(m)<0)return;for(b="t",n={value:""},x=[n],i=c.utils.parsText(k),u=0,p=i.length;p>u;u++)r=i[u],"text"===r.type?n.value+=r.value:(a=r.list.join("|"),$=c.utils.pars_start_tag+a+c.utils.pars_finish_tag,d=a.match(/^([^\w\d\s\$"'\(\u0410-\u044F\u0401\u0451]+)/),d?("t"===b||"d"===b?n.value+=$:(n={value:$},x.push(n)),b="d"):1===r.list.length?("t"===b||"v"===b?n.value+=$:(n={value:$},x.push(n)),b="v"):"t"===b?n.value+=$:(n={value:$},x.push(n)));if(x.length<2)return;for(o=e,o.data=x[0].value,w=x.slice(1),f=0,h=w.length;h>f;f++)r=w[f],v=document.createTextNode(r.value),s.after(o,v),o=v}};var $,C,A,E,_,T,N,B;!function(){var e;return c.hooks.attribute=e=[],e.push({code:"dataPrefix",fn:function(){"data-"===this.attrName.slice(0,5)&&(this.attrName=this.attrName.slice(5))}}),e.push({code:"colonNameSpace",fn:function(){var e,t;this.directive||this.name||(t=this.attrName.match(/^(\w+)[\-\:](.+)$/),t?(this.ns=t[1],e=t[2]):(this.ns="$global",e=this.attrName),t=e.match(/^([^\.]+)\.(.*)$/),t&&(e=t[1],this.attrArgument=t[2]),this.name=e.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}))}}),e.push({code:"getGlobalDirective",fn:function(){var e;if(!this.directive){if(e=c.d[this.ns],!e)return this.result="noNS",void(this.stop=!0);this.directive=e[this.name],this.directive||(this.result="$global"===this.ns?"noNS":"noDirective",this.stop=!0)}}}),e.push({code:"cloneDirective",fn:function(){var e,t,n,r,i,o;if(i=this.directive,r=this.ns,n=this.name,e={},s.isFunction(i))e.init=i;else{if(!s.isObject(i))throw"Wrong directive: "+r+"."+n;for(t in i)o=i[t],e[t]=o}if(e.priority=i.priority||c.priority[r]&&c.priority[r][n]||0,e.restrict=i.restrict||"A",e.restrict.indexOf(this.attrType)<0)throw"Directive has wrong binding (attribute/element): "+n;this.directive=e}}),e.push({code:"preprocessor",fn:function(){var e,t,n;n=this.ns,t=this.name,e=this.directive,e.$init=function(r,i,o,a){var l,s;return l=function(){var e,t,n,r,i;for(r=s.procLine,t=n=0,i=r.length;i>n;t=++n)if(e=r[t],e.fn.call(s),s.isDeferred){s.procLine=r.slice(t+1);break}return s.async=!0,null},s={element:i,value:o,cd:r,env:a,ns:n,name:t,doBinding:!1,directive:e,isDeferred:!1,procLine:c.hooks.directive,makeDeferred:function(){return s.isDeferred=!0,s.doBinding=!0,s.retStopBinding=!0,s.async=!1,function(){return s.isDeferred=!1,s.async?l():void 0}}},e.stopBinding&&(a.stopBinding=!0),l(),s.retStopBinding?"stopBinding":void 0}}})}(),function(){var e;return e=c.hooks.directive,e.push({code:"init",fn:function(){var e;this.directive.init&&(c.debug.directive&&this.directive.scope&&console.warn(this.ns+"-"+this.name+" uses scope and init together, probably you need use link instead of init"),this.env.changeDetector=this.cd,e=this.directive.init.call(this.env,this.cd.scope,this.element,this.value,this.env),e&&e.start&&e.start())}}),e.push({code:"templateUrl",fn:function(){var e,t;t=this,this.directive.templateUrl&&(e=this.makeDeferred(),s.ajax({cache:!0,url:this.directive.templateUrl,success:function(n){return t.directive.template=n,e()},error:e}))}}),e.push({code:"template",fn:function(){var e;this.directive.template&&(1===this.element.nodeType?this.element.innerHTML=this.directive.template:8===this.element.nodeType&&(e=document.createElement("p"),e.innerHTML=this.directive.template.trim(),e=e.firstChild,s.after(this.element,e),this.element=e,this.doBinding=!0))}}),e.push({code:"scope",fn:function(){var e,t;if(this.directive.scope){switch(t=this.cd,this.directive.scope){case!0:e=t["new"]({$parent:t.scope});break;case"root":e=c.ChangeDetector({$parent:t.scope}),t.watch("$destroy",function(){return e.destroy()});break;default:throw"Wrong scope value: "+this.directive.scope}this.env.parentChangeDetector=t,this.cd=e,this.doBinding=!0,this.retStopBinding=!0}}}),e.push({code:"link",fn:function(){var e;this.directive.link&&(this.env.changeDetector=this.cd,e=this.directive.link.call(this.env,this.cd.scope,this.element,this.value,this.env),e&&e.start&&e.start())}}),e.push({code:"scopeBinding",fn:function(){this.doBinding&&!this.env.stopBinding&&c.bind(this.cd,this.element,{skip_attr:this.env.skippedAttr()})}})}(),B=function(){var e;return e=function(e,t,n){var r;"A"===t.attr_type?(r=n||{},r.priority=c.priority.$attribute,r.is_attr=!0,r.name=e,r.attrName=e,r.element=t.element,t.list.push(r)):"M"===t.attr_type&&t.list.push(n)},function(t,n){var r,i,o,a,l;if(n.skip_attr.indexOf(t)>=0)return e(t,n,{skip:!0});for(i={attrName:t,attrType:n.attr_type,element:n.element,cd:n.cd,result:null},l=c.hooks.attribute,o=0,a=l.length;a>o&&(r=l[o],r.fn.call(i),!i.stop);o++);return"noNS"===i.result?void e(t,n):"noDirective"===i.result?"E"===n.attr_type?void n.list.push({name:t,priority:-10,attrName:t,noDirective:!0}):void e(t,n,{noDirective:!0}):void n.list.push({name:t,directive:i.directive,priority:i.directive.priority,attrName:t,attrArgument:i.attrArgument})}}(),N=function(e,t){return e.priority===t.priority?0:e.priority>t.priority?-1:1},C=function(e,t,n,r){var i;return i=n,i.indexOf(c.utils.pars_start_tag)<0?void 0:(e.watchText(i,null,{element:t,elementAttr:r}),!0)},T=function(e,t){var n;return n=t.data,n.indexOf(c.utils.pars_start_tag)<0?void 0:(e.watchText(n,null,{element:t}),n)},A=function(e,t){var n,r,i,o,a,l,s,u,f,p,h;if(p=t.nodeValue.trim(),"directive:"===p.slice(0,10)){if(p=p.slice(10).trim(),u=p.indexOf(" "),u>=0?(i=p.slice(0,+(u-1)+1||9e9),h=p.slice(u+1)):(i=p,h=""),n={list:f=[],element:t,attr_type:"M",cd:e,skip_attr:[]},B(i,n),r=f[0],r.noDirective)throw"Comment directive not found: "+i;o=r.directive,l=new $({element:t,attrName:r.attrName,attrArgument:r.attrArgument||null,attributes:f}),c.debug.directive&&console.log("bind",r.attrName,h,r);try{o.$init(e,t,h,l)}catch(s){a=s,c.exceptionHandler(a,"Error in directive: "+r.name,{value:h,env:l,cd:e,scope:e.scope,element:t})}return l.skipToElement?{directive:1,skipToElement:l.skipToElement}:{directive:1,skipToElement:null}}},$=function(e){var t,n;for(t in e)n=e[t],this[t]=n;return this},$.prototype.takeAttr=function(e,t){var n,r,i,o,a;for(1===arguments.length&&(t=!0),o=this.attributes,r=0,i=o.length;i>r;r++)if(n=o[r],n.attrName===e)return t&&(n.skip=!0),a=this.element.getAttribute(e),a||!0},$.prototype.skippedAttr=function(){var e,t,n,r,i;for(r=this.attributes,i=[],t=0,n=r.length;n>t;t++)e=r[t],e.skip&&i.push(e.attrName);return i},$.prototype.scan=function(e){return this.changeDetector.scan(e)},$.prototype.on=function(e,t,n){return this.changeDetector.on(e,t,n)},$.prototype.watch=function(e,t,n){return this.changeDetector.watch(e,t,n)},$.prototype.watchGroup=function(e,t){return this.changeDetector.watchGroup(e,t)},$.prototype.watchText=function(e,t,n){return this.changeDetector.watchText(e,t,n)},$.prototype.getValue=function(e){return this.changeDetector.getValue(e)},$.prototype.setValue=function(e,t){return this.changeDetector.setValue(e,t)},$.prototype.eval=function(e){return this.changeDetector.eval(e)},$.prototype["new"]=function(e,t){return t===!0?t={locals:!0}:e===!0&&null==t&&(e=null,t={locals:!0}),this.changeDetector["new"](e,t)},$.prototype.bind=function(){var e,t,n,r,i,o,a;for(this.stopBinding=!0,n=0,i=0,o=arguments.length;o>i;i++)e=arguments[i],e instanceof f&&(t=e,n+=1),s.isElement(e)&&(r=e,n+=1);return a=arguments[n],a||(a={skip:this.skippedAttr()}),r||(r=this.element),t||(t=this.changeDetector),c.bind(t,r,a)},E=function(){return function(e,t,n){var r,i,o,a,l,u,f,p,h,d,m,v,g,b,y,w,x,k,D,A,E,T,S,O,L,M,j,F,V,H;if(y={attr:[],dir:[],children:[]},l={directive:0,hook:0,skipToElement:null,fb:y},n=n||{},j=!1,V=n.skip_attr,n.skip===!0?n.skip_top=!0:V||(V=n.skip||[]),V instanceof Array||(V=[V]),!n.skip_top){for(r={list:E=[],element:t,skip_attr:V,attr_type:"E",cd:e},o=t.nodeName.toLowerCase(),B(o,r),("script"===o||"style"===o)&&(j=!0),r.attr_type="A",L=t.attributes,x=0,k=L.length;k>x;x++)i=L[x],B(i.name,r);if(n.attachDirective){M=n.attachDirective;for(o in M)a=M[o],B(o,r)}for(E=E.sort(N),T=0,D=E.length;D>T;T++)if(h=E[T],!h.skip){if(h.noDirective)throw"Directive not found: "+h.name;if(h.skip=!0,H=n.attachDirective&&n.attachDirective[h.attrName]?n.attachDirective[h.attrName]:t.getAttribute(h.attrName),h.is_attr)C(e,t,H,h.attrName)&&y.attr.push({attrName:h.attrName,value:H});else{d=h.directive,v=new $({element:t,attrName:h.attrName,attrArgument:h.attrArgument||null,attributes:E,stopBinding:!1,elementCanBeRemoved:n.elementCanBeRemoved,fbElement:n.fbElement}),c.debug.directive&&console.log("bind",h.attrName,H,h);try{"stopBinding"===d.$init(e,t,H,v)&&(j=!0)}catch(g){m=g,c.exceptionHandler(m,"Error in directive: "+h.attrName,{value:H,env:v,cd:e,scope:e.scope,element:t})}if(v.fastBinding?(b=s.isFunction(v.fastBinding)?v.fastBinding:d.init,y.dir.push({fb:b,attrName:h.attrName,value:H,attrArgument:v.attrArgument,fbData:v.fbData})):l.directive++,v.stopBinding){j=!0;break}v.skipToElement&&(l.skipToElement=v.skipToElement)}}}if(!j)for(F=null,f=function(){var e,n,r,i;for(r=t.childNodes,i=[],n=0,e=r.length;e>n;n++)u=r[n],i.push(u);return i}(),w=S=0,A=f.length;A>S;w=++S)u=f[w],u&&(F?F===u&&(F=null):(n.fbElement&&(p={fbElement:n.fbElement.childNodes[w]}),O=_(e,u,p),l.directive+=O.directive,l.hook+=O.hook,F=O.skipToElement,O.fb&&(O.fb.text||O.fb.attr&&O.fb.attr.length||O.fb.dir&&O.fb.dir.length||O.fb.children&&O.fb.children.length)&&y.children.push({index:w,fb:O.fb})));return l}}(),_=function(e,t,n){var r,i,o,a,l,s,u;if(s={directive:0,hook:0,skipToElement:null,fb:null},c.hooks.binding.length)for(l=c.hooks.binding,i=0,o=l.length;o>i;i++)if(r=l[i],s.hook+=1,a=r.fn(e,t,n),a&&a.owner)return s;return 1===t.nodeType?(a=E(e,t,n),s.directive+=a.directive,s.hook+=a.hook,s.skipToElement=a.skipToElement,s.fb=a.fb):3===t.nodeType?(u=T(e,t,n),u&&(s.fb={text:u})):8===t.nodeType&&(a=A(e,t,n),a&&(s.directive+=a.directive,s.skipToElement=a.skipToElement)),s},c.nextTick=function(){var e,t,n;return n=null,t=[],e=function(){var e,r,i,o,a,l,s,u;for(n=null,r=t.slice(),t.length=0,l=0,s=r.length;s>l;l++){a=r[l],e=a[0],u=a[1];try{e.call(u)}catch(o){i=o,c.exceptionHandler(i,"$nextTick, error in function",{fn:e,self:u})}}return null},function(r){return t.push([r,this]),n?void 0:n=setTimeout(e,0)}}(),c.bind=function(e,t,n){var r,i,o,a,l,s,u;if(!e)throw"No changeDetector";if(!t)throw"No element";if(n=n||{},c.option.domOptimization&&!n.noDomOptimization&&c.utils.optmizeElement(t),u=e.root,i=!u.finishBinding_lock,i&&(u.finishBinding_lock=!0,u.bindingResult={directive:0,hook:0}),s=_(e,t,n),u.bindingResult.directive+=s.directive,u.bindingResult.hook+=s.hook,e.digest(),i){for(u.finishBinding_lock=!1,l=u.watchers.finishBinding.slice(),u.watchers.finishBinding.length=0,o=0,a=l.length;a>o;o++)(r=l[o])();s.total=u.bindingResult}return s},c.bootstrap=function(e,t){if(!e)return c.bootstrap("[al-app]"),c.bootstrap("[al\\:app]"),void c.bootstrap("[data-al-app]");var n;if(e instanceof c.core.ChangeDetector)n=e,e=t;else if(t instanceof c.core.ChangeDetector)n=t;else if(s.isFunction(t)){var r={};n=c.ChangeDetector(r),t.call(n,r)}else t&&(n=c.ChangeDetector(t));if(Array.isArray(e)){for(var i=void 0,o=0,a=e;o<a.length;o++){var l=a[o];i=c.bootstrap(l,n)}return i}if("string"==typeof e){for(var i=void 0,u=document.querySelectorAll(e),f=0,p=u;f<p.length;f++){var h=p[f];i=c.bootstrap(h,n)}return i}if(n||(n=c.ChangeDetector()),s.isElement(e)){for(var d,m,v=0,g=["al-app","al:app","data-al-app"];v<g.length&&(d=g[v],m=e.getAttribute(d),e.removeAttribute(d),!m);v++);var b;return m&&(b={skip_attr:[d],attachDirective:{}},c.d.al.ctrl?b.attachDirective["al-ctrl"]=m:b.attachDirective[m+"!"]=""),c.bind(n,e,b),n}c.exceptionHandler("Error in bootstrap","Error input arguments",{input:e})};var S,O;c.utils.getId=function(){var e,t;return t=function(){var e,t,n,r,i,o;for(o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=Math.floor((new Date).valueOf()/1e3)-1388512800,i="";n>0;)e=Math.floor(n/62),r=62*e,t=n-r,n=e,i=o[t]+i;return i}(),e=1,function(){return t+"#"+e++}}(),c.utils.clone=S=function(e,t){var n,r,i,o;if(null==t&&(t=128),1>t)return null;if(!e)return e;if("object"==typeof e){if(e instanceof Array)return i=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(S(n,t-1));return o}();if(e instanceof Date)return new Date(e.valueOf());if(e.nodeType&&"function"==typeof e.cloneNode)return e;i={};for(r in e)o=e[r],"$"!==r[0]&&(i[r]=S(o,t-1));return i}return e},c.utils.equal=O=function(e,t,n){var r,i,o,a,l,c,s,u;if(null==n&&(n=128),1>n)return!0;if(!e||!t)return e===t;if(c=typeof e,s=typeof t,c!==s)return!1;if("object"===c){if(e instanceof Array){if(e.length!==t.length)return!1;for(r=i=0,a=e.length;a>i;r=++i)if(u=e[r],!O(u,t[r],n-1))return!1;return!0}if(e instanceof Date)return e.valueOf()===t.valueOf();if(e.nodeType&&"function"==typeof e.cloneNode)return e===t;l={};for(o in e)if(u=e[o],"$"!==o[0]&&(l[o]=!0,!O(u,t[o],n-1)))return!1;for(o in t)if(u=t[o],"$"!==o[0]&&!l[o]&&!O(u,e[o],n-1))return!1;return!0}return e===t},c.exceptionHandler=function(e,t,n){var r;return r=[],t&&r.push(t),e&&e.message&&r.push(e.message),n&&r.push(n),e&&r.push(e.stack?e.stack:e),console.error.apply(console,r)},function(){var e,t,n,r,i,o;return o=function(){var e,t,n,r;for(r={},e=0,n=arguments.length;n>e;e++)t=arguments[e],r[t]=!0;return r},i=o("instanceof","typeof","in","null","true","false","undefined","return"),t=function(){var e;return e=/[a-zA-Z\u0410-\u044F\u0401\u0451_\.\$]/,function(t){return t.match(e)}}(),n=function(e){return e.charCodeAt()>=48&&e.charCodeAt()<=57},r=function(){var e;return e=o("+","-",">","<","=","&","|","^","!","~"),function(t){return e[t]||!1}}(),e=o("=","+=","-=","++","--","|=","^=","&=","!=","<<=",">>="),c.utils.parsExpression=function(a,l){var s,u,f,p,h,d,m,v,g,b;return l=l||{},h=o.apply(null,l.input||[]),b=1,d=function(i){var o,a,l,c,s,u,f,p,h,m,v,g,y,w,x,k,D,$,C,A,E,_;for(y=i.line,x=i.result||[],m=i.index||0,g=i.level||0,$=i.stopKey||null,E="",v=null,_=[],k="",f="",D=!1,w="",C="",A="",h="",c=0,p=null,u=function(){return h&&x.push({type:"free",value:h}),h=""};m<=y.length;)if(l=y[m-1],o=y[m++]||"",a=y[m],(D&&h||!o)&&u(),"string"!==D){if("key"===D){if(t(o)||n(o)){E+=o;continue}if("["===o){if(E+=o,s=d({line:y,index:m,level:g+1,stopKey:"]"}),!s.stopKeyOk)throw"Error expression";m=s.index,E+="###"+s.uniq+"###]",_.push(s);continue}if("?"===o&&("."===a||"("===a||"["===a)){E+=o;continue}if("("===o){if(E+=o,s=d({line:y,index:m,level:g+1,stopKey:")"}),!s.stopKeyOk)throw"Error expression";
m=s.index,E+="###"+s.uniq+"###)",_.push(s);continue}v={type:"key",value:E,start:m-E.length-1,finish:m-1,children:_},x.push(v),D="",E="",_=[]}else if("sign"===D){if(r(o)){k+=o;continue}if("|"===k&&0===g&&0===c){p=y.substring(m-1),m=y.length+1;continue}(e[k]||"="===k[0]&&"="!==k[1])&&(v.assignment=!0),x.push({type:"sign",value:k}),D="",k=""}else if("digit"===D){if(n(o)||"."===o){f+=o;continue}x.push({type:"digit",value:f}),f=""}if(t(o))D="key",E+=o;else if(r(o))D="sign",k+=o;else if(n(o))D="digit",f+=o;else if('"'!==o&&"'"!==o){if(o===$)return u(),{result:x,index:m,stopKeyOk:!0,uniq:b++};"("===o&&c++,")"===o&&c--,"{"!==o?(":"===o&&"}"===$&&(v.type="free"),h+=o):(u(),s=d({line:y,index:m,level:g+1,stopKey:"}"}),x.push({type:"{}",child:s}),m=s.index)}else C=o,D="string",A+=o}else{if(o===C&&"\\"!==l){A+=o,x.push({type:"string",value:A}),A="",C="",D="";continue}A+=o}return u(),{result:x,index:m,filter:p}},f=d({line:a}),m={isSimple:!f.filter,simpleVariables:[]},f.filter?(m.expression=a.substring(0,a.length-f.filter.length-1),m.filter=f.filter):m.expression=a,v=function(e){var t;return t=e.split(/[\.\[\(\?]/),{count:t.length,firstPart:t[0]}},g=function(e,t){return t?"($$="+e+",$$==null)?undefined:":"($$=$$"+e+",$$==null)?undefined:"},p=function(e){return e.split(/[\.\[\(\?]/)[0]},u=function(e){var t,n,r,o,a,l,c,s,u,f;if("this"===e)return"$$scope";if(t=p(e),o=i[t]||h[t],"this"===t&&(e="$$scope"+e.slice(4),o=!0),s=e.split("?"),1===s.length)return o?e:"$$scope."+e;for(o?(f=g(s[0],!0),n=s[0]):(f=g("scope."+s[0]),n="scope."+s[0]),u=s.slice(1,s.length-1),r=0,l=u.length;l>r;r++)c=u[r],"("===c[0]?f+=g(n+c,o):(f+=g(c),n+=c);return a=s[s.length-1],"("===a[0]?(o||(f+="$$"),f+=n+a):f+="$$"+a,"("+f+")"},s=function(e){var t,n,r,o,a,l,c,f,p,d,g,b,y;for(b="",d=e.result,o=0,c=d.length;c>o;o++)if(r=d[o],"key"!==r.type)b+="{}"!==r.type?r.value:"{"+s(r.child)+"}";else{if(r.assignment?(y=v(r.value),p="this"===y.firstPart?"$$scope"+r.value.substring(4):h[y.firstPart]?r.value:y.count<2?"($$scope.$$root || $$scope)."+r.value:"$$scope."+r.value,m.isSimple=!1):i[r.value]?p=r.value:(p=u(r.value),m.simpleVariables.push(p)),r.children.length)for(g=r.children,a=0,f=g.length;f>a;a++)t=g[a],l="###"+t.uniq+"###",n=s(t),p=p.split(l).join(n);b+=p}return b},m.result=s(f),c.debug.parser&&console.log(a,m),m},c.utils.parsFilter=function(e){var t,n,r;for(r=[],e=e.trim();e;){if(t=e.match(/^(\w+)([^\w])(.*)$/),!t){if(t=e.match(/^(\w+)$/),!t)return null;r.push({name:t[1],args:[],raw:""});break}"|"===t[2]?(r.push({name:t[1],args:[],raw:""}),e=t[3]):(n=c.utils.parsArguments(t[3],{stop:"|"}),r.push({name:t[1],args:n.result,raw:t[3].slice(0,n.length)}),e=t[3].slice(n.length+1).trim())}return{result:r}},c.utils.parsArguments=function(e,t){var n,r,i,o,a,l,c,s;for(t=t||{},a=0,i=[],r="",o=0,c=!1,s=!1,l=function(){r&&(i.push(r),r="")};a<=e.length;)if(n=e[a]||"",a++,c)r+=n,'"'===n&&(c=!1);else if(s)r+=n,"'"===n&&(s=!1);else if('"'!==n)if("'"!==n)if(o)r+=n,"("===n&&o++,")"===n&&o--;else if(" "!==n&&","!==n){if(t.stop&&t.stop===n){l();break}"("===n&&(o=1),r+=n}else l();else r+=n,s=!0;else r+=n,c=!0;return l(),{result:i,length:a-1}}}(),function(){var e,t,n;return c.utils.pars_start_tag="{{",c.utils.pars_finish_tag="}}",n=function(e){var t,n,r,i,o,a,l,s,u;return u=c.utils.pars_start_tag,n=c.utils.pars_finish_tag,l=[],i=0,a=0,r=function(t){var n;return t=t||1,n=e.substring(a,i-t),a=i,n},s=null,o=function(t,a,c){var u,f,p,h;for(t||(s={type:"expression",list:[]},l.push(s)),h=null,u=null;i<e.length;){if(h=u,u=e[i],i+=1,f=h+u,p=e[i],u===a)return;if(!c){if(f===n&&0===t)return s.list.push(r(2)),!0;"("===u?o(t+1,")"):"{"===u?o(t+1,"}"):'"'===u?o(t+1,'"',!0):"'"===u?o(t+1,"'",!0):"|"===u&&0===t&&("|"===p?i+=1:s.list.push(r()))}}},t=function(){var t,n,a,c,s;for(a=null,t=null;i<e.length;)if(a=t,t=e[i],i+=1,n=a+t,n===u){if(s=r(2),s&&l.push({type:"text",value:s}),!o(0))throw"Wrong expression"+e;t=null}return c=r(-1),c?l.push({type:"text",value:c}):void 0},t(),c.debug.parser&&console.log("parsText",l),l},e={},t=function(e){var t,n,r;return r=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)t=e[r],n={type:t.type,value:t.value},t.list&&(n.list=t.list.slice()),o.push(n);return o}()},c.utils.parsText=function(r){var i;return i=e[r],i||(e[r]=i=n(r)),t(i)}}(),function(){var e;return c.utils.compile=e={},e.cache={},e.Function=Function,e.expression=function(t,n){var r,i,o,a,l,s,u,f,p;if(n=n||{},t=t.trim(),u=t+"#",u+=n.no_return?"+":"-",u+=n.string?"s":"v",n.input&&(u+=n.input.join(",")),s=e.cache[u])return s;s=c.utils.parsExpression(t,{input:n.input}),a=s.result,f=n.no_return||!1,f?p="var $$;"+a:n.string&&!s.filter?(p="var $$, __ = ("+a+"); return '' + (__ || (__ == null?'':__))",s.rawExpression="(__="+a+") || (__ == null?'':__)"):p="var $$;return ("+a+")";try{n.input?(r=n.input.slice(),r.unshift("$$scope"),r.push(p),l=e.Function.apply(null,r)):l=e.Function("$$scope",p)}catch(o){throw i=o,c.exceptionHandler(i,"Wrong expression: "+t,{src:t,cfg:n}),"Wrong expression: "+a}return s.fn=l,e.cache[u]=s},e.cacheText={},e.buildText=function(t,n){var r,i,o,a,l,c,s;if(o=e.cacheText[t])return function(){return o.call(n)};for(s=[],l=a=0,c=n.length;c>a;l=++a)r=n[l],"expression"===r.type?s.push(r.fn?"this["+l+"].fn(this.scope)":"((x=this["+l+"].value) || (x == null?'':x))"):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),s.push('"'+i+'"'));return s=s.join(" + "),o=e.Function("var x; return ("+s+")"),e.cacheText[t]=o,function(){return o.call(n)}},e.cacheSimpleText={},e.buildSimpleText=function(t,n){var r,i,o,a,l,c,s,u,f;if(c=t?e.cacheSimpleText[t]:null,c||!n)return c||null;for(u=[],f=[],l=a=0,s=n.length;s>a;l=++a)r=n[l],"expression"===r.type?(u.push("("+r.re+")"),r.simpleVariables&&f.push.apply(f,r.simpleVariables)):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),u.push('"'+i+'"'));return u=u.join(" + "),o=e.Function("$$scope","var $$, __; return ("+u+")"),c={fn:o,simpleVariables:f},t&&(e.cacheSimpleText[t]=c),c}}();var L,M,j;j=function(e){var t,n,r,i;if(!e.length)return"el";for(i="el",n=0,r=e.length;r>n;n++)t=e[n],i+=".childNodes["+t+"]";return i},M=function(e){var t,n,r,i,o,a,l;for(r=c.utils.parsText(e),i=0,a=r.length;a>i;i++)if(n=r[i],"expression"===n.type){if(n.list.length>1)return null;if(o=n.list[0],"#"===o[0])return null;if("="===o[0])return null;if("::"===o.slice(0,2))return null;if(t=c.utils.compile.expression(o,{string:!0}),!t.rawExpression)throw"Error";n.re=t.rawExpression}return l=c.utils.compile.buildSimpleText(e,r),l.fn},c.core.fastBinding=function(e){return c.option.fastBinding&&!e.directive&&!e.hook&&e.fb?new L(e):void 0},L=function(e){var t,n,r,i;return n=this,r=[],n.fastWatchFn=[],t=[],i=function(e,o){var a,l,c,s,u,f,p,h,d,m,v,g,b,y,w,x;if(e.dir)for(y=j(t),v=e.dir,s=0,h=v.length;h>s;s++)a=v[s],r.push("s.dir("+n.fastWatchFn.length+", "+y+");"),n.fastWatchFn.push(a);if(e.attr)for(g=e.attr,u=0,d=g.length;d>u;u++)c=g[u],x=c.value,f=c.attrName,y=j(t),l=M(x),w=x.replace(/"/g,'\\"').replace(/\n/g,"\\n"),l?(r.push('s.fw("'+w+'", '+n.fastWatchFn.length+", "+y+', "'+f+'");'),n.fastWatchFn.push(l)):r.push("s.wt('"+w+"', "+y+", '"+f+"');");if(e.text&&(y=j(t),l=M(e.text),w=e.text.replace(/"/g,'\\"').replace(/\n/g,"\\n"),l?(r.push('s.fw("'+w+'", '+n.fastWatchFn.length+", "+y+");"),n.fastWatchFn.push(l)):r.push('s.wt("'+w+'", '+y+");")),e.children)for(b=e.children,p=0,m=b.length;m>p;p++)c=b[p],t.length=o+1,t[o]=c.index,i(c.fb,o+1)},i(e.fb,0),r=r.join("\n"),n.resultFn=c.utils.compile.Function("s","el","f$",r),this},L.prototype.bind=function(e,t){this.currentCD=e,this.resultFn(this,t,s)},L.prototype.dir=function(e,t){var n,r,i,o;r=this.fastWatchFn[e],n=this.currentCD,i=new $({attrName:r.attrName,attrArgument:r.attrArgument,changeDetector:n,fbData:r.fbData}),o=r.fb.call(i,n.scope,t,r.value,i),o&&o.start&&o.start()},L.prototype.fw=function(e,t,n,r){var i,o,a,l;i=this.currentCD,o=this.fastWatchFn[t],a=o(i.locals),l={isStatic:!1,isArray:!1,extraLoop:!1,deep:!1,value:a,callback:null,exp:o,src:e,onStop:null,el:n,ea:r||null},i.watchList.push(l),v(i.scope,l,a)},L.prototype.wt=function(e,t,n){this.currentCD.watchText(e,null,{element:t,elementAttr:n})},function(){var e,t,n,r,i,o,a,l;return c.hooks.attribute.unshift({code:"events",fn:function(){var e;e=this.attrName.match(/^\@([\w\.\-]+)$/),e&&(this.ns="al",this.name="on",this.attrArgument=e[1])}}),c.hooks.eventModifier={},l=function(e,t){return c.hooks.eventModifier[e]={event:["keydown","keypress","keyup"],fn:function(e,n){e[t]||(n.stop=!0)}}},l("alt","altKey"),l("control","ctrlKey"),l("ctrl","ctrlKey"),l("meta","metaKey"),l("shift","shiftKey"),c.hooks.eventModifier.self=function(e,t){return e.target!==t.element?t.stop=!0:void 0},c.hooks.eventModifier.once={beforeExec:function(e,t){return t.unbind()}},n=function(e,t){var n,r,i,o,a,l;if(l={},"string"==typeof e?l.event=e:"object"==typeof e&&e.event&&(l.event=e.event),"string"==typeof l.event&&(l.event=l.event.split(/\s+/)),t&&l.event){for(i=!1,a=l.event,r=0,o=a.length;o>r;r++)if(n=a[r],t.indexOf(n)>=0){i=!0;break}if(!i)return null}return s.isFunction(e)?l.fn=e:e.fn&&(l.fn=e.fn),e.beforeExec&&(l.beforeExec=e.beforeExec),e.init&&(l.init=e.init),l},c.d.al.on=function(t,n,r,o){var l,u;o.attrArgument&&(c.option.removeAttribute&&(n.removeAttribute(o.attrName),o.fbElement&&o.fbElement.removeAttribute(o.attrName)),u=o.attrArgument.split(".")[0],l=function(){},l.prototype=a(o.attrArgument,e[u]),r&&(l.prototype.fn=o.changeDetector.compile(r,{no_return:!0,input:["$event","$element","$value"]})),l.prototype.expression=r,o.fastBinding=function(e,t,n,r){var o,a,c,u,f,p,h;for(u=new l,u.scope=e,u.element=t,u.cd=a=r.changeDetector,o=function(e){return i(u,e)},h=u.eventList,f=0,p=h.length;p>f;f++)c=h[f],s.on(t,c,o);u.initFn&&u.initFn(e,t,n,r),u.unbind=function(){var e,n,r;for(r=u.eventList,e=0,n=r.length;n>e;e++)c=r[e],s.off(t,c,o)},r.changeDetector.watch("$destroy",u.unbind)},o.fastBinding(t,n,r,o))},o={enter:13,tab:9,"delete":46,backspace:8,esc:27,space:32,up:38,down:40,left:37,right:39},e={click:{stop:!0,prevent:!0},dblclick:{stop:!0,prevent:!0},submit:{stop:!0,prevent:!0},keyup:{filterByKey:!0},keypress:{filterByKey:!0},keydown:{filterByKey:!0}},a=function(e,t){var r,i,a,l,s,u,f,p,h;for(t=t||{},i={attrArgument:e,throttle:null,throttleTime:0,debounce:null,debounceId:null,initFn:null,eventList:null,stop:t.stop||!1,prevent:t.prevent||!1,scan:!0,modifiers:[]},r=e.split("."),a=r[0],l=null,p=c.hooks.eventModifier[a],p&&(p=n(p),p.event&&(i.eventList=p.event,p.fn&&i.modifiers.push(p),p.init&&(i.initFn=p.init))),i.eventList||(i.eventList=[a]),h=r.slice(1),s=0,f=h.length;f>s;s++)u=h[s],"stop"!==u?"prevent"!==u?"nostop"!==u?"noprevent"!==u?"noscan"!==u?"throttle-"!==u.substring(0,9)?"debounce-"!==u.substring(0,9)?(p=c.hooks.eventModifier[u],p?(p=n(p,i.eventList),p&&i.modifiers.push(p)):t.filterByKey&&(null===l&&(l={}),o[u]&&(u=o[u]),l[u]=!0)):i.debounce=Number(u.substring(9)):i.throttle=Number(u.substring(9)):i.scan=!1:i.prevent=!1:i.stop=!1:i.prevent=!0:i.stop=!0;return i.filterByKey=l,i},r=function(e,t){var n;return n=e.element,"checkbox"===n.type?n.checked:"radio"===n.type?n.value||n.checked:t.component?t.value:n.value},t=function(e,t){var n,i,o,a,l,s;for(s=e.modifiers,o=0,a=s.length;a>o;o++)l=s[o],l.beforeExec&&l.beforeExec(t,e);if(e.fn)try{e.fn(e.cd.locals,t,e.element,r(e,t))}catch(i){n=i,c.exceptionHandler(n,"Error in event: "+e.attrArgument+" = "+e.expression,{attr:e.attrArgument,exp:e.expression,scope:e.scope,cd:e.cd,element:e.element,event:t})}e.scan&&e.cd.scan()},i=function(e,n){var r,i,o,a,l,c;if(!e.filterByKey||e.filterByKey[n.keyCode]){if(e.modifiers.length)for(r=function(){},r.prototype=e,i=new r,i.stop=!1,c=e.modifiers,o=0,a=c.length;a>o;o++)if(l=c[o],l.fn&&(l.fn(n,i),i.stop))return;e.prevent&&n.preventDefault(),e.stop&&n.stopPropagation(),e.debounce?(e.debounceId&&clearTimeout(e.debounceId),e.debounceId=setTimeout(function(){return e.debounceId=null,t(e,n)},e.debounce)):e.throttle?e.throttleTime<Date.now()&&(e.throttleTime=Date.now()+e.throttle,t(e,n)):t(e,n)}}}(),c.hooks.attribute.unshift({code:"directDirective",fn:function(){var e=this.attrName.match(/^(.*)\!$/);if(e){var t=e[1].replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),n=this.cd.locals[t]||c.ctrl[t]||c.option.globalController&&window[t];s.isFunction(n)?this.directive=function(e,t,r,i){var o=i.changeDetector;if(r){for(var a=c.utils.parsArguments(r),l=Array(a.result.length),s=0;s<a.result.length;s++)l[s]=c.utils.compile.expression(a.result[s],{input:["$element","$env"]}).fn(o.locals,t,i);n.apply(o,l)}else n.call(o,e,t,r,i)}:(this.result="noDirective",this.stop=!0)}}}),c.hooks.attribute.unshift({code:"elementVariable",fn:function(){var e=this.attrName.match(/^#([\w\.]*)$/);e&&(this.directive=n,this.attrArgument=e[1])}}),c.d.al["if"]=function(e,t,n,r){if(r.elementCanBeRemoved)return c.exceptionHandler(null,r.attrName+" cant control element because of "+r.elementCanBeRemoved,{scope:e,element:t,value:n,env:r}),{};r.stopBinding=!0;var i={item:null,childCD:null,base_element:null,top_element:null,start:function(){i._name=n,i.controller=r.changeDetector.ifController,i.initControl(),i.prepare(),i.watchModel()},initControl:function(){i.index=0,i.controller=r.changeDetector.ifController={index:1,active:null,whoActive:[],last:null,update:function(){for(var e,t=0,n=i.controller.whoActive;t<n.length;t++){var r=n[t];if(r){e=r;break}}e||(e=i.controller.last),i.controller.active!==e&&(i.controller.active&&i.controller.active.removeBlock(),i.controller.active=e,e&&e.insertBlock())}}},prepare:function(){i.base_element=t,i.top_element=document.createComment(" "+r.attrName+": "+n+" "),s.before(t,i.top_element),s.remove(t)},updateDom:function(e){i.controller.whoActive[i.index]=e?i:null,i.controller.update()},removeBlock:function(){i.childCD&&(i.childCD.destroy(),i.childCD=null,i.removeDom(i.item),i.item=null)},insertBlock:function(){i.childCD||(i.item=i.base_element.cloneNode(!0),i.insertDom(i.top_element,i.item),i.childCD=r["new"](),c.bind(i.childCD,i.item,{skip_attr:r.skippedAttr(),elementCanBeRemoved:r.attrName}))},watchModel:function(){return r.watch(n,i.updateDom,{readOnly:!0})},removeDom:function(e){return s.remove(e)},insertDom:function(e,t){return s.after(e,t)}};return i},c.d.al.elseIf=function(e,t,n,r){var i=c.d.al["if"](e,t,n,r);return i.initControl=function(){i.index=i.controller.index++},i},c.d.al["else"]=function(e,t,n,r){var i=c.d.al["if"](e,t,n,r);return i.initControl=function(){i.controller.last=i},i.watchModel=function(){},i},c.d.al.repeat=c.d.al["for"]={restrict:"AM",init:function(e,t,n,r){var i,o;return r.elementCanBeRemoved?(c.exceptionHandler(null,r.attrName+" can't control element because of "+r.elementCanBeRemoved,{scope:e,element:t,value:n,env:r}),{}):(r.stopBinding=!0,i=r.changeDetector,o={start:function(){o.parsExpression(),o.prepareDom(),o.buildUpdateDom(),o.watchModel()},parsExpression:function(){var e,t;if(t=n.trim(),"("===t[0])if(o.objectMode=!0,e=t.match(/\((\w+),\s*(\w+)\)\s+in\s+(.+)\s+orderBy:(.+)\s*$/))o.objectKey=e[1],o.objectValue=e[2],o.expression=e[3]+(" | toArray:"+o.objectKey+","+o.objectValue+" | orderBy:"+e[4]),o.nameOfKey="$item",o.trackExpression="$item."+o.objectKey;else{if(e=t.match(/\((\w+),\s*(\w+)\)\s+in\s+(.+)\s*$/),!e)throw"Wrong repeat: "+n;o.objectKey=e[1],o.objectValue=e[2],o.expression=e[3]+(" | toArray:"+o.objectKey+","+o.objectValue),o.nameOfKey="$item",o.trackExpression="$item."+o.objectKey}else{if(e=t.match(/(.*) track by ([\w\.\$\(\)]+)/),e&&(o.trackExpression=e[2],t=e[1]),e=t.match(/\s*(\w+)\s+in\s+(.+)/),!e)throw"Wrong repeat: "+n;o.nameOfKey=e[1],o.expression=e[2]}},watchModel:function(){var e;e=o.objectMode?{deep:!0}:{isArray:!0},o.watch=i.watch(o.expression,o.updateDom,e)},prepareDom:function(){var e,i,a,l,u,f;if(8===t.nodeType){for(o.top_element=t,o.element_list=i=[],e=t.nextSibling;e;){if(8===e.nodeType&&(u=e.nodeValue,f=u.trim().split(/\s+/),"/directive:"===f[0]&&"al-repeat"===f[1])){r.skipToElement=e;break}i.push(e),e=e.nextSibling}for(a=0,l=i.length;l>a;a++)e=i[a],s.remove(e)}else o.base_element=t,o.top_element=document.createComment(" "+n+" "),s.before(t,o.top_element),s.remove(t),c.option.removeAttribute&&t.removeAttribute(r.attrName)},makeChild:function(e,t,n){var r;return r=i["new"](null,{locals:!0}),o.updateLocals(r,e,t,n),r},updateLocals:function(e,t,n,r){var i;i=e.locals,o.objectMode?(i[o.objectKey]=t[o.objectKey],i[o.objectValue]=t[o.objectValue]):i[o.nameOfKey]=t,i.$index=n,i.$first=0===n,i.$last=n===r.length-1},rawUpdateDom:function(e,t){var n,r,i,o,a,l;for(r=0,a=e.length;a>r;r++)n=e[r],s.remove(n);for(o=0,l=t.length;l>o;o++)i=t[o],s.after(i.after,i.element)},buildUpdateDom:function(){return o.updateDom=function(){var e,n,a,l,s,u,f,p,h,d,m,v,g;return m=[],u=0,a=null,g=0,v=r.skippedAttr(),"$index"===o.trackExpression?(f={},h=function(){return f[u]||null},p=function(e){null!=e.$id&&delete f[e.$id]},d=function(e,t){t.$id=u,f[u]=t}):o.trackExpression?(f={},e=function(){var e;return e=i.compile(o.trackExpression,{input:["$id",o.nameOfKey]}),function(t,n){return e(i.scope,t,n)}}(),n=function(e){var t;return(t=e.$alite_id)?t:t=e.$alite_id=c.utils.getId()},h=function(t){var r;return r=e(n,t),null!=r?f[r]:null},p=function(e){var t;t=e.$id,null!=t&&delete f[t]},d=function(t,r){var i;i=e(n,t),r.$id=i,f[i]=r}):window.Map?(f=new Map,h=function(e){return f.get(e)},p=function(e){f["delete"](e.item)},d=function(e,t){f.set(e,t)}):(f={},h=function(e){var t;return"object"!=typeof e?f[e]||null:(t=e.$alite_id)?f[t]:null},p=function(e){var t;t=e.$id,f[t]&&(e.$id=null,delete f[t])},d=function(e,t){var n;"object"==typeof e?(n=c.utils.getId(),e.$alite_id=n,t.$id=n,f[n]=t):(t.$id=e,f[e]=t)}),l=[],s=function(e){var t,n;if(n=typeof e,"object"!==n){if("number"===n)t=Math.floor(e);else if("string"===n&&(t=Math.floor(e),isNaN(t)))return[];if(t<l.length)l.length=t;else for(;l.length<t;)l.push(l.length);return l}return e&&e.length?e:[]},o.element_list?function(e){var t,n,i,a,l,f,g,b,y,w,x,k,D,$,C,A,E,_,T,N,B,S,O,L,M,j,F,V,H,K,R,I,W,U,z,q,P,G;for(M=s(e),A=o.top_element,a=[],K=[],y=0,E=m.length;E>y;y++)H=m[y],H.active=!1;for(u=D=0,_=M.length;_>D;u=++D)x=M[u],H=h(x),H&&(H.active=!0);for(l=[],$=0,T=m.length;T>$;$++)if(H=m[$],!H.active){for(H.prev&&(H.prev.next=H.next),H.next&&(H.next.prev=H.prev),p(H),H.CD.destroy(),q=H.element_list,C=0,N=q.length;N>C;C++)f=q[C],l.push(f);H.next=null,H.prev=null,H.element_list=null}for(t=[],W=null,z=null,U=!1,g=o.element_list.length-1,u=j=0,B=M.length;B>j;u=++j)if(x=M[u],k=x,H=h(x)){if(o.updateLocals(H.CD,x,u,M),H.prev===z){if(U)for(P=H.element_list,F=0,S=P.length;S>F;F++)f=P[F],a.push({element:f,after:A}),A=f;z=H,A=H.element_list[g],H.active=!0,K.push(H);continue}for(H.prev=z,z&&(z.next=H),G=H.element_list,R=0,O=G.length;O>R;R++)f=G[R],a.push({element:f,after:A}),A=f;U=!0,z=H,H.active=!0,K.push(H)}else i=o.makeChild(k,u,M),b=function(){var e,r,l,c;for(l=o.element_list,c=[],r=0,e=l.length;e>r;r++)n=l[r],f=n.cloneNode(!0),t.push({cd:i,el:f}),a.push({element:f,after:A}),c.push(A=f);return c}(),H={CD:i,element_list:b,prev:z,next:null,active:!0,item:x},d(x,H),z?(V=z.next,z.next=H,H.next=V,V&&(V.prev=H)):0===u&&m[0]&&(V=m[0],H.next=V,V.prev=H),z=H,K.push(H);for(m=K,o.rawUpdateDom(l,a),l.length=0,a.length=0,I=0,L=t.length;L>I;I++)w=t[I],c.bind(w.cd,w.el,{skip_attr:v,elementCanBeRemoved:r.attrName,noDomOptimization:!0})}:function(e){var n,i,l,f,b,y,w,x,k,D,$,C,A,E,_,T,N,B,S,O,L,M,j;for(T=s(e),C=o.top_element,g++,l=[],S=[],n=[],O=null,M=null,L=!1,u=y=0,A=T.length;A>y;u=++y)if(x=T[u],k=x,B=h(x)){if(o.updateLocals(B.CD,x,u,T),B.prev===M){L&&l.push({element:B.element,after:M.element}),M=B,C=B.element,B.version=g,S.push(B);continue}B.prev=M,M&&(M.next=B),l.push({element:B.element,after:C}),L=!0,C=B.element,M=B,B.version=g,S.push(B)}else i=o.makeChild(k,u,T),t=o.base_element.cloneNode(!0),null===a?(b=o.base_element.cloneNode(!0),j=c.bind(i,t,{skip_attr:v,elementCanBeRemoved:r.attrName,noDomOptimization:!0,fbElement:b}),a=c.core.fastBinding(j)||!1,a&&(o.base_element=b)):n.push({cd:i,el:t}),l.push({element:t,after:C}),B={CD:i,element:t,prev:M,next:null,version:g,item:x},C=t,d(x,B),M?(N=M.next,M.next=B,B.next=N,N&&(N.prev=B)):0===u&&m[0]&&(N=m[0],B.next=N,N.prev=B),M=B,S.push(B);for(f=[],D=0,E=m.length;E>D;D++)B=m[D],B.version!==g&&(B.prev&&(B.prev.next=B.next),B.next&&(B.next.prev=B.prev),p(B),B.CD.destroy(),f.push(B.element),B.next=null,B.prev=null,B.element=null);for(m=S,o.rawUpdateDom(f,l),f.length=0,l.length=0,$=0,_=n.length;_>$;$++)w=n[$],a?a.bind(w.cd,w.el):c.bind(w.cd,w.el,{skip_attr:v,elementCanBeRemoved:r.attrName,noDomOptimization:!0})}}()}})}},c.d.al.init=function(e,t,n,r){var i,o,a,l,s,u;c.option.removeAttribute&&(t.removeAttribute(r.attrName),r.fbElement&&r.fbElement.removeAttribute(r.attrName)),i=r.changeDetector,u=["$element"],"window"===r.attrArgument&&u.push("window");try{s=i.compile(n,{no_return:!0,input:u}),r.fastBinding=l=function(e,t,n,r){return s(r.changeDetector.locals,t,window)},l(e,t,n,r)}catch(a){o=a,c.exceptionHandler(o,"al-init, error in expression: "+n,{exp:n,scope:e,cd:i,element:t}),r.fastBinding=function(){}}},c.d.al.app={stopBinding:!0},c.d.al.stop={restrict:"AE",stopBinding:!0},c.d.al.cloak=function(e,t,n,r){t.removeAttribute(r.attrName),n&&s.removeClass(t,n)},c.d.al.html={restrict:"AM",priority:100,modifier:{},link:function(e,t,n,r){var i;return r.elementCanBeRemoved&&8!==t.nodeType?(c.exceptionHandler(null,r.attrName+" can't control element because of "+r.elementCanBeRemoved,{scope:e,element:t,value:n,env:r}),{}):(r.stopBinding=!0,i={baseElement:null,topElement:null,activeElement:null,childCD:null,name:n,watchMode:null,start:function(){i.parsing(),i.prepare(),i.watchModel()},parsing:function(){var o,a,l,s;if(r.attrArgument)for(s=r.attrArgument.split("."),o=0,a=s.length;a>o;o++)l=s[o],"literal"!==l?"tpl"!==l?c.d.al.html.modifier[l]&&c.d.al.html.modifier[l](i,{scope:e,element:t,inputName:n,env:r}):i.watchMode="tpl":i.watchMode="literal"},prepare:function(){8===t.nodeType?(i.baseElement=null,i.topElement=t,r.watch("$destroy",i.removeBlock)):(i.baseElement=t,i.topElement=document.createComment(" "+r.attrName+": "+n+" "),s.before(t,i.topElement),s.remove(t))},removeBlock:function(){var e,t,n,r;if(i.childCD&&(i.childCD.destroy(),i.childCD=null),i.activeElement){if(Array.isArray(i.activeElement))for(r=i.activeElement,t=0,n=r.length;n>t;t++)e=r[t],i.removeDom(e);else i.removeDom(i.activeElement);i.activeElement=null}},insertBlock:function(e){var t,n,o;if(i.baseElement)i.activeElement=i.baseElement.cloneNode(!1),i.activeElement.innerHTML=e,i.insertDom(i.topElement,i.activeElement),i.childCD=r.changeDetector["new"](),c.bind(i.childCD,i.activeElement,{skip_attr:r.skippedAttr(),elementCanBeRemoved:r.attrName});else for(o=document.createElement("body"),o.innerHTML=e,t=i.topElement,i.activeElement=[],i.childCD=r.changeDetector["new"]();n=o.firstChild;)i.insertDom(t,n),t=n,i.activeElement.push(n),c.bind(i.childCD,t,{skip_attr:r.skippedAttr(),elementCanBeRemoved:r.attrName})},updateDom:function(e){i.removeBlock(),e&&i.insertBlock(e)},removeDom:function(e){s.remove(e)},insertDom:function(e,t){s.after(e,t)},watchModel:function(){"literal"===i.watchMode?i.updateDom(i.name):"tpl"===i.watchMode?r.watchText(i.name,i.updateDom):r.watch(i.name,i.updateDom)}})}},c.d.al.html.modifier.id=function(e){return e.updateDom=function(t){var n,r;e.removeBlock(),r=document.getElementById(t),r&&(n=r.innerHTML,n&&e.insertBlock(n))}},c.d.al.html.modifier.url=function(e){return e.loadHtml=function(e){s.ajax(e)},e.updateDom=function(t){return t?void e.loadHtml({cache:!0,url:t,success:function(t){e.removeBlock(),e.insertBlock(t)},error:e.removeBlock}):void e.removeBlock()}},c.d.al.html.modifier.scope=function(e,t){var n,r,i,o;if(n=e.name.split(":"),2===n.length)e.name=n[0],o=n[1];else{if(n=e.name.match(/(.+)\:\s*\:\:([\d\w]+)$/))i=!0;else if(i=!1,n=e.name.match(/(.+)\:\s*([\.\w]+)$/),!n)throw"Wrong expression "+e.name;e.name=n[1],o=n[2]}return r="outer",e.insertBlock=function(n){var a,l,s;e.activeElement=e.baseElement.cloneNode(!1),e.activeElement.innerHTML=n,e.insertDom(e.topElement,e.activeElement),l=t.env.changeDetector,a=e.childCD=l["new"](null,{locals:!0}),a.locals[r]=null,s=l.watch(o,function(e){return a.locals[r]=e},{oneTime:i}),e.childCD.watch("$destroy",function(){return s.stop()}),c.bind(e.childCD,e.activeElement,{skip_attr:t.env.skippedAttr()})}},c.d.al.html.modifier.inline=function(e,t){var n;return n=e.prepare,e.prepare=function(){return n(),t.env.setValue(e.name,e.baseElement.innerHTML)}},function(){var e;return c.hooks.attribute.unshift({code:"attribute",fn:function(){var e,t;e=this.attrName.match(/^\:([\w\.\-]+)$/),e&&(t=e[1],"html"===t.split(".")[0]?(this.name="html",t=t.substring(5)):this.name="attr",this.ns="al",this.attrArgument=t)}}),e={checked:"checked",readonly:"readOnly",value:"value",selected:"selected",muted:"muted",disabled:"disabled",hidden:"hidden"},c.d.al.attr=function(t,n,r,i){var o,a,l,u,f,p,h,d,m,v;if(i.attrArgument){if("option"===n.nodeName.toLowerCase()&&"value"===i.attrArgument)return c.d.al.model.selectHandler(t,n,r,i);if(l=i.attrArgument.split("."),a=l[0],h=e[a],f=l.indexOf("tpl")>0,c.option.removeAttribute&&(n.removeAttribute(i.attrName),i.fbElement&&i.fbElement.removeAttribute(i.attrName)),o={readOnly:!0},d=null,"style"===a){if(!l[1])throw"Style is not declared";m=l[1].replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),d=function(e,t){return null==t&&(t=""),e.style[m]=t}}else"class"===a&&l.length>1?(f=!1,p=l.slice(1),d=function(e,t){var n,r,i,o,a;if(t)for(r=0,o=p.length;o>r;r++)n=p[r],s.addClass(e,n);else for(i=0,a=p.length;a>i;i++)n=p[i],s.removeClass(e,n)}):"focus"===a?d=function(e,t){return t?e.focus():e.blur()}:h?d=function(e,t){return void 0===t&&(t=null),e[h]!==t?e[h]=t:void 0}:(o.element=n,o.elementAttr=a);v=f?"watchText":"watch",u=d?function(e,t,n,i){return i.changeDetector[v](r,function(e){return d(t,e)},o)}:function(e,t,n,i){return i.changeDetector[v](r,null,{readOnly:!0,element:t,elementAttr:a})},u(t,n,r,i),i.fastBinding=u}}}();var F=r(function(e){return e.value},function(e,t){null==t&&(t=""),e.value=t}),V=r(function(e){return e.valueAsNumber},function(e,t){e.valueAsNumber=t}),H=r(function(e){return e.valueAsDate},function(e,t){e.valueAsDate=t}),K={text:F,range:V,number:V,checkbox:o,radio:i,date:H,time:V,"datetime-local":V};return c.d.al.model=function(e,t,n,r){var i=t.nodeName.toLowerCase();if("input"===i){var o=K[t.type]||K.text;o(e,t,n,r)}else"select"===i?a(e,t,n,r):l(e,t,n,r)},c.d.al.model.selectHandler=function(e,t,n,r){for(var i=4,o=null,a=r.changeDetector;i-->0;){if(a.$select){o=a.$select;break}a=a.parent}if(!o)throw"Select model not found";var l=r.getValue(n),c=o.add(l);t.value=c,r.watch("$destroy",function(){o.remove(c)})},c.filters.json={watchMode:"deep",fn:function(e){return JSON.stringify(c.utils.clone(e),null,4)}},c.filters.filter=function(e,t,n){var r,i,o,a,l,c,s,u,f,p,h,d;if(2===arguments.length)l=null,d=t;else{if(3!==arguments.length)return e;l=t,d=n}if(!e||null==d||""===d)return e;if(u=[],p=(""+d).toLowerCase(),l)for(i=0,c=e.length;c>i;i++)r=e[i],r[l]===d?u.push(r):(f=(""+r[l]).toLowerCase(),f.indexOf(p)>=0&&u.push(r));else for(o=0,s=e.length;s>o;o++){r=e[o];for(a in r)h=r[a],h===d?u.push(r):(f=(""+h).toLowerCase(),f.indexOf(p)>=0&&u.push(r))}return u},c.filters.orderBy=function(e,t,n){return!e instanceof Array?null:(n=n?1:-1,e.sort(function(e,r){return e[t]<r[t]?-n:e[t]>r[t]?n:0}))},c.filters.toArray={init:function(e,t,n){var r,i,o;return 2===n.conf.args.length?(r=n.conf.args[0],o=n.conf.args[1]):(r="key",o="value"),i=[],{watchMode:"deep",onChange:function(e){var t,a,l;i.length=0;for(a in e)l=e[a],t={},t[r]=a,t[o]=l,i.push(t);return n.setValue(i)}}}},c.text["="]=function(e,t,n,r){var i;if(i=c.utils.compile.expression(t),i.filters)throw"Conflict: bindonce and filters, use one-time binding";r["finally"](i.fn(r.changeDetector.locals))},c.text["::"]=function(e,t,n,r){r.changeDetector.watch(t,function(e){return r["finally"](e)},{oneTime:!0})},function(){function e(e){return e.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()})}function t(t){var n,i=t.listener,o=t.childCD,a=t.name,l=t.parentName,c=t.parentCD,s={};if(a=e(a),i&&i!==!0)if(r.isFunction(i))n=i;else{if(n=i.onChange,"copy"===i||"copy"===i.watchMode)return void(n?n(l):o.scope[a]=l);("array"===i||"array"===i.watchMode)&&(s.isArray=!0),("deep"===i||"deep"===i.watchMode)&&(s.deep=!0)}n||(n=function(e){o.scope[a]=e,o.scan()}),c.watch(l,n,s)}function n(e){function n(e,n){if("$model"===e)t({childCD:p,parentCD:f,listener:n,name:"$model",parentName:x.value}),x=null;else{var r=":"+e,i=h.takeAttr(r);if(!i){if(i=h.takeAttr(e),!i)return;n="copy"}t({childCD:p,listener:n,name:e,parentName:i,parentCD:f})}}function i(){B||f.digest(),c.bind(p,l,{skip:!0})}var o=e.attrName,a=e.constructor,l=(e._parentScope,e.element),s=(e._value,e.parentEnv),u={},f=s.changeDetector["new"](),p=c.ChangeDetector(u),h=new $({element:l,attributes:s.attributes,changeDetector:p,parentChangeDetector:f,sendEvent:function(e,t){var n=new CustomEvent(e);n.value=t,n.component=!0,l.dispatchEvent(n)}});try{var d=a.call(h,u,l,h)||{}}catch(m){return void c.exceptionHandler(m,"Error in component <"+o+">: ",{element:l,scope:u,cd:p})}d.onStart&&p.watch("$finishBinding",function(){d.onStart(),p.scan()});var v=!1;f.watch("$destroy",function(){v=!0,p.destroy()}),p.watch("$destroy",function(){d.onDestroy&&d.onDestroy(),v||f.destroy()});for(var g=0,b=l.attributes;g<b.length;g++){var y=b[g];if("#"===y.name[0]){var w=y.name.slice(1);if(w){d.api?f.setValue(w,d.api):f.setValue(w,u);break}}}var x=l.attributes["al-model"];if(d.props)if(Array.isArray(d.props))for(var k=0,D=d.props;k<D.length;k++){var C=D[k];n(C,!0)}else for(var C in d.props)n(C,d.props[C]);else for(var A=0,E=l.attributes;A<E.length;A++){var y=E[A],_=y.name,T=y.value;if(T){var N=_.match(/^\:(.*)$/);N&&t({childCD:p,name:N[1],parentName:T,parentCD:f})}}x&&n("$model");var B=!1;if(f.watch("$onScanOnce",function(){return B=!0}),d.template&&(l.innerHTML=d.template),d.templateId){var S=document.getElementById(d.templateId);if(!S)throw"No template "+d.templateId;l.innerHTML=S.innerHTML}d.templateUrl?r.ajax({url:d.templateUrl,cache:!0,success:function(e){l.innerHTML=e,i(!0)},error:function(){console.error("Template is not loaded",d.templateUrl)}}):i()}var r=c.f$;c.component=function(t,r){var i,o,a=t.match(/^(\w+)[\-](.+)$/);a?(i=a[1],o=a[2]):(i="$global",o=t),o=e(o),c.d[i]||(c.d[i]={}),c.d[i][o]={restrict:"E",stopBinding:!0,priority:c.priority.$component,init:function(e,i,o,a){n({attrName:t,constructor:r,_parentScope:e,element:i,_value:o,parentEnv:a})}}}}(),c}var t=e();t.makeInstance=e,"function"==typeof alightInitCallback?alightInitCallback(t):"function"==typeof define?define(function(){return t}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t:(t.option.globalController=!0,window.alight=t,t.f$.ready(t.bootstrap))}();