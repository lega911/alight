/**
 * Angular Light 0.13.0
 * (c) 2016 Oleg Nechaev
 * Released under the MIT License.
 * 2016-12-04, http://angularlight.org/ 
 */!function(){"use strict";function e(){function e(e,t){var n,r=[],i=!1,o=t.cd,a=t.callback;if(t.filterConf.args.length){var l=[];t.filterConf.args.forEach(function(e,t){var n=o.watch(e,function(e){r[t+1]=e,s()});n.$.isStatic||l.push(n)});var c=!1,s=function(){c||(c=!0,o.watch("$onScanOnce",function(){if(c=!1,i){var t=e.apply(null,r);window.Promise&&t instanceof Promise?t.then(function(e){a(e),o.scan()}):a(t)}}))};l.length&&(n=function(){l.forEach(function(e){return e.stop()})})}else var s=function(){var t=e(r[0]);window.Promise&&t instanceof Promise?t.then(function(e){a(e),o.scan()}):a(t)};var u={onChange:function(e){i=!0,r[0]=e,s()},onStop:n,watchMode:t.watchMode};return u}function t(e,t,n,r){var i=null,a=r.oneTime;r.isArray?i="array":r.deep&&(i="deep");for(var l=o.utils.parsFilter(t.filter),c=[],s=l.result.length-1;s>=0;s--){var u=o.core.getFilter(l.result[s].name,e),f=o.core.buildFilterNode(e,l.result[s],u,n);f.watchMode&&(i=f.watchMode),f.onStop&&c.push(f.onStop),n=f.onChange}return r={oneTime:a},"array"===i?r.isArray=!0:"deep"===i&&(r.deep=!0),c.length&&(r.onStop=function(){c.forEach(function(e){return e()}),c.length=0}),e.watch(t.expression,n,r)}function n(){throw"Scope is off"}function r(){throw"Scope is off"}function i(e,t){return t()}var o=function(e,t){return o.bootstrap(e,t)};o.filters={},o.text={},o.core={},o.utils={},o.option={injectScope:!1,globalController:!1,removeAttribute:!0},o.ctrl=o.controllers={},o.d=o.directives={al:{},bo:{},$global:{}},o.hooks={directive:[],binding:[]},o.priority={al:{app:2e3,checked:20,"class":30,css:30,focused:20,"if":700,ifnot:700,model:20,radio:20,repeat:1e3,select:20,stop:-10,value:20,on:10},$component:5,$attribute:-5};var a=o.f$={},l=function(e,t){var n=e.indexOf(t);n>=0?e.splice(n,1):console.warn("trying to remove not exist item")};!function(){a.before=function(e,t){var n=e.parentNode;n.insertBefore(t,e)},a.after=function(e,t){var n=e.parentNode,r=e.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)},a.remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},a.on=function(e,t,n){e.addEventListener(t,n,!1)},a.off=function(e,t,n){e.removeEventListener(t,n,!1)},a.isFunction=function(e){return e&&"[object Function]"===Object.prototype.toString.call(e)},a.isObject=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},a.isElement=function(e){return e instanceof HTMLElement},a.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},a.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")},a.rawAjax=function(e){var t=new XMLHttpRequest;t.open(e.type||"GET",e.url,!0,e.username,e.password);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);e.success&&(t.onload=function(){t.status>=200&&t.status<400?e.success(t.responseText):e.error&&e.error()}),e.error&&(t.onerror=e.error),t.send(e.data||null)},a.ajaxCache={},a.ajax=function(e){if(e.username||e.password||e.headers||e.data||!e.cache)return a.rawAjax(e);var t=e.type||"GET",n=t+":"+e.url,r=a.ajaxCache[n];return r||(a.ajaxCache[n]=r={callback:[]}),r.result?void(e.success&&e.success(r.result)):(r.callback.push(e),void(r.loading||(r.loading=!0,a.rawAjax({type:t,url:e.url,success:function(e){r.loading=!1,r.result=e;for(var t=0;t<r.callback.length;t++)r.callback[t].success&&r.callback[t].success(e);r.callback.length=0},error:function(){r.loading=!1;for(var e=0;e<r.callback.length;e++)r.callback[e].error&&r.callback[e].error();r.callback.length=0}}))))},function(){var e='@charset "UTF-8";[al-cloak],[hidden],.al-hide{display:none !important;}',t=document.querySelectorAll("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}()}(),a.ready=function(){function e(){n=!0,a.off(document,"DOMContentLoaded",e);for(var r=0;r<t.length;r++)t[r]();t.length=0}var t=[],n=!1;return a.on(document,"DOMContentLoaded",e),function(e){n?e():t.push(e)}}(),o.core.getFilter=function(e,t){var n=!1,r=t.scope,i=null;if(r.$ns&&r.$ns.filters&&(i=r.$ns.filters[e],i||r.$ns.inheritGlobal||(n=!0)),i||n||(i=o.filters[e]),!i)throw"Filter not found: "+e;return i},o.core.buildFilterNode=function(t,n,r,i){if(a.isFunction(r))return e(r,{cd:t,filterConf:n,callback:i});if(r.init)return r.init.call(t,t.scope,n.raw,{setValue:i,conf:n,changeDetector:t});if(a.isFunction(r.fn))return e(r.fn,{cd:t,filterConf:n,callback:i,watchMode:r.watchMode});throw"Wrong filter: "+n.name};var c,s,u,f,p,h,d,m,v,g,y;o.ChangeDetector=function(e){var t,n;return n=new u,t=new c(n,e||{}),n.topCD=t,t},u=function(){return this.watchers={any:[],finishBinding:[],finishScan:[],finishScanOnce:[],onScanOnce:[]},this.status=null,this.extraLoop=!1,this.finishBinding_lock=!1,this.lateScan=!1,this.topCD=null,this},u.prototype.destroy=function(){return this.watchers.any.length=0,this.watchers.finishBinding.length=0,this.watchers.finishScan.length=0,this.watchers.finishScanOnce.length=0,this.watchers.onScanOnce.length=0,this.topCD?this.topCD.destroy():void 0},c=function(e,t){return this.scope=t,this.locals=t,this.root=e,this.watchList=[],this.destroy_callbacks=[],this.parent=null,this.children=[],this.rwatchers={any:[],finishScan:[]},o.option.injectScope&&o.Scope&&o.Scope({changeDetector:this,customScope:t}),this},c.prototype["new"]=function(e,t){var n,r,i;return t=t||{},i=this,null==e&&(e=i.scope),r=new c(i.root,e),r.parent=i,e===i.scope&&(t.locals?(n=i._ChildLocals,n||(i._ChildLocals=n=function(){return this.$$root=e,this},n.prototype=i.locals),r.locals=new n):r.locals=i.locals),i.children.push(r),r},c.prototype.destroy=function(){var e,t,n,r,i,o,a,c,s,u,f,p,h,d,m,v,g,y,b,w,x;for(e=this,w=e.root,e.scope=null,e.parent&&l(e.parent.children,e),m=e.destroy_callbacks,i=0,c=m.length;c>i;i++)(r=m[i])();for(v=e.children.slice(),o=0,s=v.length;s>o;o++)t=v[o],t.destroy();for(e.destroy_callbacks.length=0,g=e.watchList,a=0,u=g.length;u>a;a++)n=g[a],n.onStop&&n.onStop();for(e.watchList.length=0,y=e.rwatchers.any,h=0,f=y.length;f>h;h++)x=y[h],l(w.watchers.any,x);for(e.rwatchers.any.length=0,b=e.rwatchers.finishScan,d=0,p=b.length;p>d;d++)x=b[d],l(w.watchers.finishScan,x);e.rwatchers.finishScan.length=0,w.topCD===e&&(w.topCD=null,w.destroy())},f=function(e){return this.cb=e},g=function(e,t,n){var r,i;return r=e.root,i=new f(n),e.rwatchers[t].push(i),r.watchers[t].push(i),{stop:function(){return l(e.rwatchers[t],i),l(r.watchers[t],i)}}},y=function(){},c.prototype.watch=function(e,n,r){var i,c,s,u,f,p,d,m,v,b;if(r=r||{},r===!0&&(r={isArray:!0}),r.init&&console.warn("watch.init is depticated"),i=this,v=i.root,b=i.scope,a.isFunction(e))u=e,d=o.utils.getId(),f=!0;else{if(f=!1,u=null,e=e.trim(),"::"===e.slice(0,2)&&(e=e.slice(2),r.oneTime=!0),d=e,"$any"===d)return g(i,"any",n);if("$finishScan"===d)return g(i,"finishScan",n);if("$finishScanOnce"===d)return v.watchers.finishScanOnce.push(n);if("$onScanOnce"===d)return v.watchers.onScanOnce.push(n);if("$destroy"===d)return i.destroy_callbacks.push(n);if("$finishBinding"===d)return v.watchers.finishBinding.push(n);d=r.deep?"d#"+d:r.isArray?"a#"+d:"v#"+d}if(o.debug.watch&&console.log("$watch",e),p=!1,!f)if(r.watchText)u=r.watchText.fn;else{if(c=o.utils.compile.expression(e),c.filter)return t(i,c,n,r);p=c.isSimple&&0===c.simpleVariables.length,u=c.fn}return r.deep&&(r.isArray=!1),s={isStatic:p,isArray:Boolean(r.isArray),extraLoop:!r.readOnly,deep:r.deep===!0?10:r.deep,value:y,callback:n,exp:u,src:""+e,onStop:r.onStop||null,el:r.element||null,ea:r.elementAttr||null},p?i.watch("$onScanOnce",function(){return h(b,s,s.exp(b))}):i.watchList.push(s),m={$:s,stop:function(){var t,n;if(r.onStop)try{r.onStop()}catch(n){t=n,o.exceptionHandler(t,"Error in onStop of watcher: "+e,e)}if(!s.isStatic)return l(i.watchList,s)},refresh:function(){var e;return e=s.exp(b),s.value=e&&s.deep?o.utils.clone(e,s.deep):e&&s.isArray?e.slice():e}},r.oneTime&&(s.callback=function(e){return void 0!==e?(m.stop(),n(e)):void 0}),m},c.prototype.watchGroup=function(e,t){var n,r,i,o,l,c;if(n=this,!t&&a.isFunction(e)&&(t=e,e=null),c=!1,r=function(){return c?void 0:(c=!0,n.watch("$onScanOnce",function(){return c=!1,t()}))},e)for(i=0,l=e.length;l>i;i++)o=e[i],n.watch(o,r);return r},d=function(){return window.performance?function(){return Math.floor(performance.now())}:function(){return(new Date).getTime()}}(),m=function(e,t){var n,r,i,o,a,l;if(null===e||null===t)return!0;if(o=typeof e,a=typeof t,o!==a)return!0;if("object"===o){if(e.length!==t.length)return!0;for(n=r=0,i=e.length;i>r;n=++r)if(l=e[n],l!==t[n])return!0}return!1},h=function(e,t,n){t.el?t.ea?t.el.setAttribute(t.ea,n):t.el.nodeValue=n:t.callback.call(e,n)},p=function(e,t,n,r){var i,a;return i={src:n.src,scope:t.scope,locals:t.locals},n.el&&(i.element=n.el),a=1===r?"$scan, error in callback: ":"$scan, error in expression: ",o.exceptionHandler(e,a+n.src,i)},s=function(){},v=function(e,t){var n,r,i,a,l,c,u,f,h,d,v,g,b,w,x,k,D,$,C,A,B;if(D=e.root,f=!1,a=0,C=0,e){for(x=[],h=0,i=e;i;){for($=i.scope,b=i.locals,C+=i.watchList.length,k=i.watchList.slice(),d=0,g=k.length;g>d;d++){B=k[d],v=B.value;try{A=B.exp(b)}catch(c){l=c,A=s}if(v!==A){if(w=!1,B.isArray?(n=Array.isArray(v),r=Array.isArray(A),n===r?n?m(v,A)&&(w=!0,B.value=A.slice()):(w=!0,B.value=A):(w=!0,B.value=r?A.slice():A)):B.deep?o.utils.equal(v,A,B.deep)||(w=!0,B.value=o.utils.clone(A,B.deep)):(w=!0,B.value=A),w)if(w=!1,A===s)p(l,i,B);else{a++;try{B.el?B.ea?null!=A?B.el.setAttribute(B.ea,A):B.el.removeAttribute(B.ea):B.el.nodeValue=A:(v===y&&(v=void 0),"$scanNoChanges"!==B.callback.call($,A,v)&&B.extraLoop&&(f=!0))}catch(u){l=u,p(l,i,B,1)}}o.debug.scan>1&&console.log("changed:",B.src)}}x.push.apply(x,i.children),i=x[h++]}t.total=C,t.changes=a,t.extraLoop=f}},c.prototype.digest=function(){var e,t,n,r,i,a,l,c,s,u;for(c=this.root,i=10,u=0,o.debug.scan&&(s=d()),l={total:0,changes:0,extraLoop:!1,src:"",scope:null,element:null};i;){if(i--,c.extraLoop=!1,c.watchers.onScanOnce.length)for(a=c.watchers.onScanOnce.slice(),c.watchers.onScanOnce.length=0,n=0,r=a.length;r>n;n++)e=a[n],e.call(c);if(v(this,l),u+=l.changes,!l.extraLoop&&!c.extraLoop&&!c.watchers.onScanOnce.length)break}return o.debug.scan&&(t=d()-s,console.log("$scan: loops: ("+(10-i)+"), last-loop changes: "+l.changes+", watches: "+l.total+" / "+t+"ms")),l.mainLoop=i,l.totalChanges=u,l},c.prototype.scan=function(e){var t,n,r,i,l,c,s,u,f,p,h,d,m;if(m=this.root,e=e||{},a.isFunction(e)&&(e={callback:e}),e.callback&&m.watchers.finishScanOnce.push(e.callback),e.late){if(m.lateScan)return;return m.lateScan=!0,void o.nextTick(function(){return m.lateScan?m.topCD.scan():void 0})}if("scaning"===m.status)return void(m.extraLoop=!0);if(m.lateScan=!1,m.status="scaning",d=m.topCD?m.topCD.digest():{},d.totalChanges)for(p=m.watchers.any,i=0,s=p.length;s>i;i++)(n=p[i])();for(m.status=null,h=m.watchers.finishScan,l=0,u=h.length;u>l;l++)(t=h[l])();for(r=m.watchers.finishScanOnce.slice(),m.watchers.finishScanOnce.length=0,c=0,f=r.length;f>c;c++)t=r[c],t.call(m);if(0===d.mainLoop)throw"Infinity loop detected";return d},o.core.ChangeDetector=c,c.prototype.compile=function(e,t){return o.utils.compile.expression(e,t).fn},c.prototype.setValue=function(e,t){var n,r,i,a,l,c,s,u,f,p,h;n=this,a=n.compile(e+" = $value",{input:["$value"],no_return:!0});try{return a(n.locals,t)}catch(i){if(r=i,f="can't set variable: "+e,o.debug.parser&&console.warn(f),(""+r).indexOf("TypeError")>=0&&(h=e.match(/^([\w\d\.]+)\.[\w\d]+$/),h&&h[1])){for(u=n.locals,p=h[1].split("."),l=0,s=p.length;s>l;l++)c=p[l],void 0===u[c]&&(u[c]={}),u=u[c];try{return void a(n.locals,t)}catch(d){}}return o.exceptionHandler(r,f,{name:e,value:t})}},c.prototype.eval=function(e){var t;return(t=this.compile(e))(this.locals)},c.prototype.getValue=function(e){return this.eval(e)},o.core.cd_getRoot=n,o.core.cd_getActive=r,o.core.scopeWrap=i,function(){var e,t;return o.utils.optmizeElement=e=function(t){var n,r,i,l,c,s,u,f,p,h,d,m,v,g,y,b,w,x,k;if(1===t.nodeType)for(l=t.firstChild;l;)g=l.nextSibling,e(l),l=g;else if(3===t.nodeType){if(x=t.data,m=o.utils.pars_start_tag,s=x.indexOf(m),0>s)return;if(x.slice(s+m.length).indexOf(m)<0)return;for(y="t",n={value:""},w=[n],i=o.utils.parsText(x),u=0,p=i.length;p>u;u++)r=i[u],"text"===r.type?n.value+=r.value:(c=r.list.join("|"),k="{{"+c+"}}",d=c.match(/^([^\w\d\s\$"'\(\u0410-\u044F\u0401\u0451]+)/),d?("t"===y||"d"===y?n.value+=k:(n={value:k},w.push(n)),y="d"):1===r.list.length?("t"===y||"v"===y?n.value+=k:(n={value:k},w.push(n)),y="v"):"t"===y?n.value+=k:(n={value:k},w.push(n)));if(w.length<2)return;for(l=t,l.data=w[0].value,b=w.slice(1),f=0,h=b.length;h>f;f++)r=b[f],v=document.createTextNode(r.value),a.after(l,v),l=v}},o.text.$base=function(e){var t,n,r,a,l;if(a=e.point,t=e.cd,l=t.scope,n=l.$ns&&l.$ns.text?l.$ns.text[e.name]:o.text[e.name],!n)throw"No directive alight.text."+e.name;return r={changeDetector:t,setter:function(t){return e.update?(a.value=null===t?"":""+t,e.update()):void 0},setterRaw:function(t){return e.updateRaw?(a.value=null===t?"":""+t,e.updateRaw()):void 0},"finally":function(t){return e["finally"]?(a.value=null===t?"":""+t,a.type="text",e["finally"](),e.update=null,e["finally"]=null):void 0}},i(t,function(){return n(r.setter,e.exp,l,r)})},t=function(e,t,n){var r,i,a,l,c,s,u,f,p,d,m,v,g,y,b,w,x,k,D,$,C,A,B,E,T,S,_,N,M;if(n=n||{},i=this,o.debug.watchText&&console.log("$watchText",e),E=o.utils.compile.buildSimpleText(e,null))return void i.watch(e,t,{watchText:E,element:n.element,elementAttr:n.elementAttr});for(c=o.utils.parsText(e),N=0,r=!0,C=!1,u=f=s=function(){},g=0,w=c.length;w>g;g++)if(l=c[g],"expression"===l.type)if(p=l.list.join("|"),D=p.match(/^([^\w\d\s\$"'\(\u0410-\u044F\u0401\u0451]+)/))l.isDir=!0,$=D[1],"#"===$?(v=p.indexOf(" "),0>v?($=p.substring(1),p=""):($=p.slice(1,v),p=p.slice(v))):p=p.substring($.length),o.text.$base({name:$,exp:p,cd:i,point:l,update:function(){return u()},updateRaw:function(){return f()},"finally":function(){return u(),s()}}),C=!0,"text"!==l.type&&(r=!1);else if(a=o.utils.compile.expression(p,{string:!0}),a.filter)N++,r=!1,l.watched=!0,function(e){return i.watch(p,function(t){return null==t&&(t=""),e.value=t,u()})}(l);else{if(l.fn=a.fn,!a.rawExpression)throw"Error";a.isSimple&&0===a.simpleVariables.length?(l.type="text",l.value=l.fn()):(l.re=a.rawExpression,N++)}if(r){if(!N){for(S="",y=0,x=c.length;x>y;y++)l=c[y],S+=l.value;return void i.watch("$onScanOnce",function(){return h(i.scope,{callback:t,el:n.element,ea:n.elementAttr},S)})}return E=C?o.utils.compile.buildSimpleText(null,c):o.utils.compile.buildSimpleText(e,c),void i.watch(e,t,{watchText:{fn:E.fn},element:n.element,elementAttr:n.elementAttr})}if(M={callback:t,el:n.element,ea:n.elementAttr},c.scope=i.scope,m=o.utils.compile.buildText(e,c),f=function(){return h(i.scope,M,m())},N){for(_=null,B="",u=function(){B=m()},s=function(){var e,t;for(v=!0,e=0,t=c.length;t>e;e++)if(l=c[e],"expression"===l.type){v=!1;break}v&&(i.watch("$finishScanOnce",function(){return _.stop()}),n.onStatic&&n.onStatic())},A=function(){return B},b=0,k=c.length;k>b;b++)if(l=c[b],"expression"===l.type){if(l.isDir||l.watched)continue;l.watched=!0,function(e,t){return i.watch(t,function(t){return null==t&&(t=""),e.value=t,u()})}(l,l.list.join(" | "))}u(),_=i.watch(A,t,{element:n.element,elementAttr:n.elementAttr})}else T=!1,d=function(){return T=!1,f()},(u=function(){return T?void 0:(T=!0,i.watch("$onScanOnce",d))})()},c.prototype.watchText=t}();var b,w,x,k,D,$,C,A,B;o.version="0.13.0",o.debug={scan:0,directive:!1,watch:!1,watchText:!1,parser:!1,domOptimization:!0,doubleBinding:0,fastBinding:!0},C=function(){return o.core.DoubleBinding?o.core.DoubleBinding():{startDirective:function(){},finishDirective:function(){}}}(),function(){var e;return o.hooks.attribute=e=[],e.push({code:"dataPrefix",fn:function(){"data-"===this.attrName.slice(0,5)&&(this.attrName=this.attrName.slice(5))}}),e.push({code:"colonNameSpace",fn:function(){var e,t;this.directive||this.name||(t=this.attrName.match(/^(\w+)[\-\:](.+)$/),t?(this.ns=t[1],e=t[2]):(this.ns="$global",e=this.attrName),t=e.match(/^([^\.]+)\.(.*)$/),t&&(e=t[1],this.attrArgument=t[2]),this.name=e.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}))}}),e.push({code:"getScopeDirective",fn:function(){var e,t;if(!this.directive&&(e=this.cd.scope.$ns,e&&e.directives))if(t=e.directives[this.ns]){if(this.directive=t[this.name],!this.directive&&!e.inheritGlobal)return this.result="$global"===this.ns?"noNS":"noDirective",void(this.stop=!0)}else e.inheritGlobal||(this.result="noNS",this.stop=!0)}}),e.push({code:"getGlobalDirective",fn:function(){var e;if(!this.directive){if(e=o.d[this.ns],!e)return this.result="noNS",void(this.stop=!0);this.directive=e[this.name],this.directive||(this.result="$global"===this.ns?"noNS":"noDirective",this.stop=!0)}}}),e.push({code:"cloneDirective",fn:function(){var e,t,n,r,i,l;if(i=this.directive,r=this.ns,n=this.name,e={},a.isFunction(i))e.init=i;else{if(!a.isObject(i))throw"Wrong directive: "+r+"."+n;for(t in i)l=i[t],e[t]=l}if(e.priority=i.priority||o.priority[r]&&o.priority[r][n]||0,e.restrict=i.restrict||"A",e.restrict.indexOf(this.attrType)<0)throw"Directive has wrong binding (attribute/element): "+n;this.directive=e}}),e.push({code:"preprocessor",fn:function(){var e,t,n;n=this.ns,t=this.name,e=this.directive,e.$init=function(r,i,a,l){var c,s;return c=function(){var e,t,n,r,i;for(r=s.procLine,t=n=0,i=r.length;i>n;t=++n)if(e=r[t],e.fn.call(s),s.isDeferred){s.procLine=r.slice(t+1);break}return s.async=!0,null},s={element:i,value:a,cd:r,env:l,ns:n,name:t,doBinding:!1,directive:e,isDeferred:!1,procLine:o.hooks.directive,makeDeferred:function(){return s.isDeferred=!0,s.doBinding=!0,s.retStopBinding=!0,s.async=!1,function(){return s.isDeferred=!1,s.async?c():void 0}}},e.stopBinding&&(l.stopBinding=!0),c(),s.retStopBinding?"stopBinding":void 0}}})}(),function(){var e;return e=o.hooks.directive,e.push({code:"init",fn:function(){var e;this.directive.init&&(o.debug.directive&&this.directive.scope&&console.warn(this.ns+"-"+this.name+" uses scope and init together, probably you need use link instead of init"),this.env.changeDetector=this.cd,e=this,i(this.cd,function(){var t;return t=e.directive.init.call(e.env,e.cd.scope,e.element,e.value,e.env),t&&t.start?t.start():void 0}))}}),e.push({code:"templateUrl",fn:function(){var e,t;t=this,this.directive.templateUrl&&(e=this.makeDeferred(),a.ajax({cache:!0,url:this.directive.templateUrl,success:function(n){return t.directive.template=n,e()},error:e}))}}),e.push({code:"template",fn:function(){var e;this.directive.template&&(1===this.element.nodeType?this.element.innerHTML=this.directive.template:8===this.element.nodeType&&(e=document.createElement("p"),e.innerHTML=this.directive.template.trim(),e=e.firstChild,a.after(this.element,e),this.element=e,this.doBinding=!0))}}),e.push({code:"scope",fn:function(){var e,t;if(this.directive.scope){switch(t=this.cd,this.directive.scope){case!0:e=t["new"]({$parent:t.scope});break;case"root":e=o.ChangeDetector({$parent:t.scope}),t.watch("$destroy",function(){return e.destroy()});break;default:throw"Wrong scope value: "+this.directive.scope}this.env.parentChangeDetector=t,this.cd=e,this.doBinding=!0,this.retStopBinding=!0}}}),e.push({code:"link",fn:function(){var e;this.directive.link&&(this.env.changeDetector=this.cd,e=this,i(this.cd,function(){return function(){var t;return t=e.directive.link.call(e.env,e.cd.scope,e.element,e.value,e.env),t&&t.start?t.start():void 0}}(this)))}}),e.push({code:"scopeBinding",fn:function(){this.doBinding&&!this.env.stopBinding&&o.bind(this.cd,this.element,{skip_attr:this.env.skippedAttr()})}})}(),B=function(){var e;return e=function(e,t,n){var r;"A"===t.attr_type?(r=n||{},r.priority=o.priority.$attribute,r.is_attr=!0,r.name=e,r.attrName=e,r.element=t.element,t.list.push(r)):"M"===t.attr_type&&t.list.push(n)},function(t,n){var r,i,a,l,c;if(n.skip_attr.indexOf(t)>=0)return e(t,n,{skip:!0});for(i={attrName:t,attrType:n.attr_type,element:n.element,cd:n.cd,result:null},c=o.hooks.attribute,a=0,l=c.length;l>a&&(r=c[a],r.fn.call(i),!i.stop);a++);return"noNS"===i.result?void e(t,n):"noDirective"===i.result?"E"===n.attr_type?void n.list.push({name:t,priority:-10,attrName:t,noDirective:!0}):void e(t,n,{noDirective:!0}):void n.list.push({name:t,directive:i.directive,priority:i.directive.priority,attrName:t,attrArgument:i.attrArgument})}}(),A=function(e,t){return e.priority===t.priority?0:e.priority>t.priority?-1:1},w=function(e,t,n,r){var i;return i=n,i.indexOf(o.utils.pars_start_tag)<0?void 0:(e.watchText(i,null,{element:t,elementAttr:r}),!0)},$=function(e,t){var n;return n=t.data,n.indexOf(o.utils.pars_start_tag)<0?void 0:(e.watchText(n,null,{element:t}),n)},x=function(e,t){var n,r,i,a,l,c,s,u,f,p,h;if(p=t.nodeValue.trim(),"directive:"===p.slice(0,10)){if(p=p.slice(10).trim(),u=p.indexOf(" "),u>=0?(i=p.slice(0,+(u-1)+1||9e9),h=p.slice(u+1)):(i=p,h=""),n={list:f=[],element:t,attr_type:"M",cd:e,skip_attr:[]},B(i,n),r=f[0],r.noDirective)throw"Comment directive not found: "+i;a=r.directive,c={element:t,attrName:i,attributes:[],skippedAttr:function(){return[]}},o.debug.directive&&console.log("bind",r.attrName,h,r),o.debug.doubleBinding&&C.startDirective(t,r.attrName,h);try{a.$init(e,t,h,c)}catch(s){l=s,o.exceptionHandler(l,"Error in directive: "+r.name,{value:h,env:c,cd:e,scope:e.scope,element:t})}return o.debug.doubleBinding&&C.finishDirective(t,r.attrName),c.skipToElement?{directive:1,skipToElement:c.skipToElement}:{directive:1,skipToElement:null}}},b=function(e){var t,n;for(t in e)n=e[t],this[t]=n;return this},b.prototype.takeAttr=function(e,t){var n,r,i,o,a;for(1===arguments.length&&(t=!0),o=this.attributes,r=0,i=o.length;i>r;r++)if(n=o[r],n.attrName===e)return t&&(n.skip=!0),a=this.element.getAttribute(e),a||!0},b.prototype.skippedAttr=function(){var e,t,n,r,i;for(r=this.attributes,i=[],t=0,n=r.length;n>t;t++)e=r[t],e.skip&&i.push(e.attrName);return i},b.prototype.scan=function(e){return this.changeDetector.scan(e)},b.prototype.watch=function(e,t,n){return this.changeDetector.watch(e,t,n)},b.prototype.watchGroup=function(e,t){return this.changeDetector.watchGroup(e,t)},b.prototype.watchText=function(e,t,n){return this.changeDetector.watchText(e,t,n)},b.prototype.getValue=function(e){return this.changeDetector.getValue(e)},b.prototype.setValue=function(e,t){return this.changeDetector.setValue(e,t)},b.prototype.eval=function(e){return this.changeDetector.eval(e)},b.prototype["new"]=function(e,t){return t===!0?t={locals:!0}:e===!0&&null==t&&(e=null,t={locals:!0}),this.changeDetector["new"](e,t)},b.prototype.bind=function(){var e,t,n,r,i,l,s;for(this.stopBinding=!0,n=0,i=0,l=arguments.length;l>i;i++)e=arguments[i],e instanceof c&&(t=e,n+=1),a.isElement(e)&&(r=e,n+=1);return s=arguments[n],s||(s={skip:this.skippedAttr()}),r||(r=this.element),t||(t=this.changeDetector),o.bind(t,r,s)},k=function(){return function(e,t,n){var r,i,a,l,c,s,u,f,p,h,d,m,v,g,y,x,k,$,E,T,S,_,N,M,O,L,j,F;if(v={attr:[],dir:[],children:[]},c={directive:0,hook:0,skipToElement:null,fb:v},n=n||{},O=!1,j=n.skip_attr,n.skip===!0?n.skip_top=!0:j||(j=n.skip||[]),j instanceof Array||(j=[j]),!n.skip_top){for(r={list:E=[],element:t,skip_attr:j,attr_type:"E",cd:e},a=t.nodeName.toLowerCase(),B(a,r),("script"===a||"style"===a)&&(O=!0),r.attr_type="A",N=t.attributes,y=0,x=N.length;x>y;y++)i=N[y],B(i.name,r);if(n.attachDirective){M=n.attachDirective;for(a in M)l=M[a],B(a,r)}for(E=E.sort(A),T=0,k=E.length;k>T;T++)if(f=E[T],!f.skip){if(f.noDirective)throw"Directive not found: "+f.name;if(f.skip=!0,F=n.attachDirective&&n.attachDirective[f.attrName]?n.attachDirective[f.attrName]:t.getAttribute(f.attrName),f.is_attr)o.debug.doubleBinding&&C.startDirective(t,f.attrName,F,!0),w(e,t,F,f.attrName)&&v.attr.push({attrName:f.attrName,value:F});else{p=f.directive,d=new b({element:t,attrName:f.attrName,attrArgument:f.attrArgument||null,attributes:E,stopBinding:!1,elementCanBeRemoved:n.elementCanBeRemoved}),o.debug.directive&&console.log("bind",f.attrName,F,f),o.debug.doubleBinding&&C.startDirective(t,f.attrName,F);try{"stopBinding"===p.$init(e,t,F,d)&&(O=!0)}catch(m){h=m,o.exceptionHandler(h,"Error in directive: "+f.attrName,{value:F,env:d,cd:e,scope:e.scope,element:t})}if(d.fastBinding?v.dir.push({fb:p.init,attrName:f.attrName,value:F,attrArgument:d.attrArgument}):c.directive++,o.debug.doubleBinding&&C.finishDirective(t,f.attrName),d.stopBinding){O=!0;break}d.skipToElement&&(c.skipToElement=d.skipToElement)}}}if(!O)for(L=null,u=function(){var e,n,r,i;for(r=t.childNodes,i=[],n=0,e=r.length;e>n;n++)s=r[n],i.push(s);return i}(),g=S=0,$=u.length;$>S;g=++S)s=u[g],s&&(L?L===s&&(L=null):(_=D(e,s),c.directive+=_.directive,c.hook+=_.hook,L=_.skipToElement,_.fb&&(_.fb.text||_.fb.attr&&_.fb.attr.length||_.fb.dir&&_.fb.dir.length||_.fb.children&&_.fb.children.length)&&v.children.push({index:g,fb:_.fb})));return c}}(),D=function(e,t,n){var r,i,a,l,c,s,u;if(s={directive:0,hook:0,skipToElement:null,fb:null},o.hooks.binding.length)for(c=o.hooks.binding,i=0,a=c.length;a>i;i++)if(r=c[i],s.hook+=1,l=r.fn(e,t,n),l&&l.owner)return s;return 1===t.nodeType?(l=k(e,t,n),s.directive+=l.directive,s.hook+=l.hook,s.skipToElement=l.skipToElement,s.fb=l.fb):3===t.nodeType?(o.debug.doubleBinding&&C.startDirective(t,"text","",!0),u=$(e,t,n),u&&(s.fb={text:u})):8===t.nodeType&&(l=x(e,t,n),l&&(s.directive+=l.directive,s.skipToElement=l.skipToElement)),s},o.nextTick=function(){var e,t,n;return n=null,t=[],e=function(){var e,r,i,a,l,c,s,u;for(n=null,r=t.slice(),t.length=0,c=0,s=r.length;s>c;c++){l=r[c],e=l[0],u=l[1];try{e.call(u)}catch(a){i=a,o.exceptionHandler(i,"$nextTick, error in function",{fn:e,self:u})}}return null},function(r){return t.push([r,this]),n?void 0:n=setTimeout(e,0)}}(),o.bind=o.applyBindings=function(e,t,i){var a,l,c,s,u,f,p,h;if(!t)throw"No element";if(!e)throw"No Scope";if(i=i||{},l=e instanceof o.core.ChangeDetector?e:i.changeDetector||r(e)||n(e),h=l.root,c=!h.finishBinding_lock,c&&(h.finishBinding_lock=!0,h.bindingResult={directive:0,hook:0}),p=D(l,t,i),h.bindingResult.directive+=p.directive,h.bindingResult.hook+=p.hook,l.digest(),c){for(h.finishBinding_lock=!1,f=h.watchers.finishBinding.slice(),h.watchers.finishBinding.length=0,s=0,u=f.length;u>s;s++)(a=f[s])();p.total=h.bindingResult}return p},o.bootstrap=function(e,t){if(!e)return o.bootstrap("[al-app]"),o.bootstrap("[al\\:app]"),void o.bootstrap("[data-al-app]");var n;if(e instanceof o.core.ChangeDetector)n=e,e=t;else if(t instanceof o.core.ChangeDetector)n=t;else if(a.isFunction(t)){var r={};n=o.ChangeDetector(r),t.call(n,r)}else t&&(n=o.ChangeDetector(t));if(Array.isArray(e)){for(var i=void 0,l=0,c=e;l<c.length;l++){var s=c[l];i=o.bootstrap(s,n)}return i}if("string"==typeof e){for(var i=void 0,u=document.querySelectorAll(e),f=0,p=u;f<p.length;f++){var h=p[f];i=o.bootstrap(h,n)}return i}if(n||(n=o.ChangeDetector()),a.isElement(e)){for(var d,m,v=0,g=["al-app","al:app","data-al-app"];v<g.length&&(d=g[v],m=e.getAttribute(d),e.removeAttribute(d),!m);v++);var y;return m&&(y={skip_attr:[d],attachDirective:{}},o.d.al.ctrl?y.attachDirective["al-ctrl"]=m:y.attachDirective[m+"!"]=""),o.bind(n,e,y),n}o.exceptionHandler("Error in bootstrap","Error input arguments",{input:e})};var E,T;o.utils.getId=function(){var e,t;return t=function(){var e,t,n,r,i,o;for(o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=Math.floor((new Date).valueOf()/1e3)-1388512800,i="";n>0;)e=Math.floor(n/62),r=62*e,t=n-r,n=e,i=o[t]+i;return i}(),e=1,function(){return t+"#"+e++}}(),o.utils.clone=E=function(e,t){var n,r,i,o;if(null==t&&(t=128),1>t)return null;if(!e)return e;if("object"==typeof e){if(e instanceof Array)return i=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(E(n,t-1));return o}();if(e instanceof Date)return new Date(e.valueOf());if(e.nodeType&&"function"==typeof e.cloneNode)return e;i={};for(r in e)o=e[r],"$"!==r[0]&&(i[r]=E(o,t-1));return i}return e},o.utils.equal=T=function(e,t,n){var r,i,o,a,l,c,s,u;if(null==n&&(n=128),1>n)return!0;if(!e||!t)return e===t;if(c=typeof e,s=typeof t,c!==s)return!1;if("object"===c){if(e instanceof Array){if(e.length!==t.length)return!1;for(r=i=0,a=e.length;a>i;r=++i)if(u=e[r],!T(u,t[r],n-1))return!1;return!0}if(e instanceof Date)return e.valueOf()===t.valueOf();if(e.nodeType&&"function"==typeof e.cloneNode)return e===t;l={};for(o in e)if(u=e[o],"$"!==o[0]&&(l[o]=!0,!T(u,t[o],n-1)))return!1;for(o in t)if(u=t[o],"$"!==o[0]&&!l[o]&&!T(u,e[o],n-1))return!1;return!0}return e===t},o.exceptionHandler=function(e,t,n){var r;return r=[],t&&r.push(t),e&&e.message&&r.push(e.message),n&&r.push(n),e&&r.push(e.stack?e.stack:e),console.error.apply(console,r)},function(){var e,t,n,r,i,a;return a=function(){var e,t,n,r;for(r={},e=0,n=arguments.length;n>e;e++)t=arguments[e],r[t]=!0;return r},i=a("instanceof","typeof","in","null","true","false","undefined","return"),t=function(){var e;return e=/[a-zA-Z\u0410-\u044F\u0401\u0451_\.\$]/,function(t){return t.match(e)}}(),n=function(e){return e.charCodeAt()>=48&&e.charCodeAt()<=57},r=function(){var e;return e=a("+","-",">","<","=","&","|","^","!","~"),function(t){return e[t]||!1}}(),e=a("=","+=","-=","++","--","|=","^=","&=","!=","<<=",">>="),o.utils.parsExpression=function(l,c){var s,u,f,p,h,d,m,v,g,y;return c=c||{},h=a.apply(null,c.input||[]),y=1,d=function(i){var o,a,l,c,s,u,f,p,h,m,v,g,b,w,x,k,D,$,C,A,B,E;for(b=i.line,x=i.result||[],m=i.index||0,g=i.level||0,$=i.stopKey||null,B="",v=null,E=[],k="",f="",D=!1,w="",C="",A="",h="",c=0,p=null,u=function(){return h&&x.push({type:"free",value:h}),h=""};m<=b.length;)if(l=b[m-1],o=b[m++]||"",a=b[m],(D&&h||!o)&&u(),"string"!==D){if("key"===D){if(t(o)||n(o)){B+=o;continue}if("["===o){if(B+=o,s=d({line:b,index:m,level:g+1,stopKey:"]"}),!s.stopKeyOk)throw"Error expression";m=s.index,B+="###"+s.uniq+"###]",E.push(s);continue}if("?"===o&&("."===a||"("===a||"["===a)){B+=o;continue}if("("===o){if(B+=o,s=d({line:b,index:m,level:g+1,stopKey:")"}),!s.stopKeyOk)throw"Error expression";m=s.index,B+="###"+s.uniq+"###)",E.push(s);continue}v={type:"key",value:B,start:m-B.length-1,finish:m-1,children:E},x.push(v),D="",B="",E=[]}else if("sign"===D){if(r(o)){k+=o;continue}if("|"===k&&0===g&&0===c){p=b.substring(m-1),m=b.length+1;continue}(e[k]||"="===k[0]&&"="!==k[1])&&(v.assignment=!0),x.push({type:"sign",value:k}),D="",k=""}else if("digit"===D){if(n(o)||"."===o){f+=o;continue}x.push({type:"digit",value:f}),f=""}if(t(o))D="key",B+=o;else if(r(o))D="sign",k+=o;else if(n(o))D="digit",f+=o;else if('"'!==o&&"'"!==o){if(o===$)return u(),{result:x,index:m,stopKeyOk:!0,uniq:y++};"("===o&&c++,")"===o&&c--,"{"!==o?(":"===o&&"}"===$&&(v.type="free"),h+=o):(u(),s=d({line:b,index:m,level:g+1,stopKey:"}"}),x.push({type:"{}",child:s}),m=s.index)}else C=o,D="string",A+=o}else{if(o===C&&"\\"!==l){A+=o,x.push({type:"string",value:A}),A="",C="",D="";continue}A+=o}return u(),{result:x,index:m,filter:p}},f=d({line:l}),m={isSimple:!f.filter,simpleVariables:[]},f.filter?(m.expression=l.substring(0,l.length-f.filter.length-1),m.filter=f.filter):m.expression=l,v=function(e){var t;return t=e.split(/[\.\[\(\?]/),{count:t.length,firstPart:t[0]}},g=function(e,t){return t?"($$="+e+",$$==null)?undefined:":"($$=$$"+e+",$$==null)?undefined:"},p=function(e){return e.split(/[\.\[\(\?]/)[0]},u=function(e){var t,n,r,o,a,l,c,s,u,f;if("this"===e)return"$$scope";if(t=p(e),o=i[t]||h[t],s=e.split("?"),1===s.length)return o?e:"$$scope."+e;for(o?(f=g(s[0],!0),n=s[0]):(f=g("scope."+s[0]),n="scope."+s[0]),u=s.slice(1,s.length-1),r=0,l=u.length;l>r;r++)c=u[r],"("===c[0]?f+=g(n+c,o):(f+=g(c),n+=c);return a=s[s.length-1],"("===a[0]?(o||(f+="$$"),f+=n+a):f+="$$"+a,"("+f+")"},s=function(e){var t,n,r,o,a,l,c,f,p,h,d,g,y;for(g="",h=e.result,o=0,c=h.length;c>o;o++)if(r=h[o],"key"!==r.type)g+="{}"!==r.type?r.value:"{"+s(r.child)+"}";else{if(r.assignment?(y=v(r.value),p="this"===y.firstPart?"$$scope"+r.value.substring(4):y.count<2?"($$scope.$$root || $$scope)."+r.value:"$$scope."+r.value,m.isSimple=!1):i[r.value]?p=r.value:(p=u(r.value),m.simpleVariables.push(p)),r.children.length)for(d=r.children,a=0,f=d.length;f>a;a++)t=d[a],l="###"+t.uniq+"###",n=s(t),p=p.split(l).join(n);
g+=p}return g},m.result=s(f),o.debug.parser&&console.log(l,m),m},o.utils.parsFilter=function(e){var t,n,r;for(r=[],e=e.trim();e;){if(t=e.match(/^(\w+)([^\w])(.*)$/),!t){if(t=e.match(/^(\w+)$/),!t)return null;r.push({name:t[1],args:[],raw:""});break}"|"===t[2]?(r.push({name:t[1],args:[],raw:""}),e=t[3]):(n=o.utils.parsArguments(t[3],{stop:"|"}),r.push({name:t[1],args:n.result,raw:t[3].slice(0,n.length)}),e=t[3].slice(n.length+1).trim())}return{result:r}},o.utils.parsArguments=function(e,t){var n,r,i,o,a,l,c,s;for(t=t||{},a=0,i=[],r="",o=0,c=!1,s=!1,l=function(){r&&(i.push(r),r="")};a<=e.length;)if(n=e[a]||"",a++,c)r+=n,'"'===n&&(c=!1);else if(s)r+=n,"'"===n&&(s=!1);else if('"'!==n)if("'"!==n)if(o)r+=n,"("===n&&o++,")"===n&&o--;else if(" "!==n&&","!==n){if(t.stop&&t.stop===n){l();break}"("===n&&(o=1),r+=n}else l();else r+=n,s=!0;else r+=n,c=!0;return l(),{result:i,length:a-1}}}(),function(){var e,t,n;return o.utils.pars_start_tag="{{",o.utils.pars_finish_tag="}}",n=function(e){var t,n,r,i,a,l,c,s,u;return u=o.utils.pars_start_tag,n=o.utils.pars_finish_tag,c=[],i=0,l=0,r=function(t){var n;return t=t||1,n=e.substring(l,i-t),l=i,n},s=null,a=function(t,o,l){var u,f,p,h;for(t||(s={type:"expression",list:[]},c.push(s)),h=null,u=null;i<e.length;){if(h=u,u=e[i],i+=1,f=h+u,p=e[i],u===o)return;if(!l){if(f===n&&0===t)return s.list.push(r(2)),!0;"("===u?a(t+1,")"):"{"===u?a(t+1,"}"):'"'===u?a(t+1,'"',!0):"'"===u?a(t+1,"'",!0):"|"===u&&0===t&&("|"===p?i+=1:s.list.push(r()))}}},t=function(){var t,n,o,l,s;for(o=null,t=null;i<e.length;)if(o=t,t=e[i],i+=1,n=o+t,n===u){if(s=r(2),s&&c.push({type:"text",value:s}),!a(0))throw"Wrong expression"+e;t=null}return l=r(-1),l?c.push({type:"text",value:l}):void 0},t(),o.debug.parser&&console.log("parsText",c),c},e={},t=function(e){var t,n,r;return r=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)t=e[r],n={type:t.type,value:t.value},t.list&&(n.list=t.list.slice()),o.push(n);return o}()},o.utils.parsText=function(r){var i;return i=e[r],i||(e[r]=i=n(r)),t(i)}}(),function(){var e;return o.utils.compile=e={},e.cache={},e.Function=Function,e.expression=function(t,n){var r,i,a,l,c,s,u,f,p;if(n=n||{},t=t.trim(),u=t+"#",u+=n.no_return?"+":"-",u+=n.string?"s":"v",n.input&&(u+=n.input.join(",")),s=e.cache[u])return s;s=o.utils.parsExpression(t,{input:n.input}),l=s.result,f=n.no_return||!1,f?p="var $$;"+l:n.string&&!s.filter?(p="var $$, __ = ("+l+"); return '' + (__ || (__ == null?'':__))",s.rawExpression="(__="+l+") || (__ == null?'':__)"):p="var $$;return ("+l+")";try{n.input?(r=n.input.slice(),r.unshift("$$scope"),r.push(p),c=e.Function.apply(null,r)):c=e.Function("$$scope",p)}catch(a){throw i=a,o.exceptionHandler(i,"Wrong expression: "+t,{src:t,cfg:n}),"Wrong expression: "+l}return s.fn=c,e.cache[u]=s},e.cacheText={},e.buildText=function(t,n){var r,i,o,a,l,c,s;if(o=e.cacheText[t])return function(){return o.call(n)};for(s=[],l=a=0,c=n.length;c>a;l=++a)r=n[l],"expression"===r.type?s.push(r.fn?"this["+l+"].fn(this.scope)":"((x=this["+l+"].value) || (x == null?'':x))"):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),s.push('"'+i+'"'));return s=s.join(" + "),o=e.Function("var x; return ("+s+")"),e.cacheText[t]=o,function(){return o.call(n)}},e.cacheSimpleText={},e.buildSimpleText=function(t,n){var r,i,o,a,l,c,s,u,f;if(c=t?e.cacheSimpleText[t]:null,c||!n)return c||null;for(u=[],f=[],l=a=0,s=n.length;s>a;l=++a)r=n[l],"expression"===r.type?(u.push("("+r.re+")"),r.simpleVariables&&f.push.apply(f,r.simpleVariables)):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),u.push('"'+i+'"'));return u=u.join(" + "),o=e.Function("$$scope","var $$, __; return ("+u+")"),c={fn:o,simpleVariables:f},t&&(e.cacheSimpleText[t]=c),c}}();var S,_,N;return N=function(e){var t,n,r,i;if(!e.length)return"el";for(i="el",n=0,r=e.length;r>n;n++)t=e[n],i+=".childNodes["+t+"]";return i},_=function(e){var t,n,r,i,a,l,c;for(r=o.utils.parsText(e),i=0,l=r.length;l>i;i++)if(n=r[i],"expression"===n.type){if(n.list.length>1)return null;if(a=n.list[0],"#"===a[0])return null;if("="===a[0])return null;if("::"===a.slice(0,2))return null;if(t=o.utils.compile.expression(a,{string:!0}),!t.rawExpression)throw"Error";n.re=t.rawExpression}return c=o.utils.compile.buildSimpleText(e,r),c.fn},o.core.fastBinding=function(e){return o.debug.fastBinding&&!e.directive&&!e.hook&&e.fb?new S(e):void 0},S=function(e){var t,n,r,i;return n=this,r=[],n.fastWatchFn=[],t=[],i=function(e,o){var a,l,c,s,u,f,p,h,d,m,v,g,y,b,w,x;if(e.dir)for(b=N(t),v=e.dir,s=0,h=v.length;h>s;s++)a=v[s],r.push("s.dir("+n.fastWatchFn.length+", "+b+");"),n.fastWatchFn.push(a);if(e.attr)for(g=e.attr,u=0,d=g.length;d>u;u++)c=g[u],x=c.value,f=c.attrName,b=N(t),l=_(x),w=x.replace(/"/g,'\\"').replace(/\n/g,"\\n"),l?(r.push('s.fw("'+w+'", '+n.fastWatchFn.length+", "+b+', "'+f+'");'),n.fastWatchFn.push(l)):r.push("s.wt('"+w+"', "+b+", '"+f+"');");if(e.text&&(b=N(t),l=_(e.text),w=e.text.replace(/"/g,'\\"').replace(/\n/g,"\\n"),l?(r.push('s.fw("'+w+'", '+n.fastWatchFn.length+", "+b+");"),n.fastWatchFn.push(l)):r.push('s.wt("'+w+'", '+b+");")),e.children)for(y=e.children,p=0,m=y.length;m>p;p++)c=y[p],t.length=o+1,t[o]=c.index,i(c.fb,o+1);return null},i(e.fb,0),r=r.join("\n"),n.resultFn=o.utils.compile.Function("s","el","f$",r),this},S.prototype.bind=function(e,t){this.currentCD=e,this.resultFn(this,t,a)},S.prototype.dir=function(e,t){var n,r,i,o;return r=this.fastWatchFn[e],n=this.currentCD,i=new b({attrName:r.attrName,attrArgument:r.attrArgument,changeDetector:n}),o=r.fb.call(i,n.scope,t,r.value,i),o&&o.start&&o.start(),null},S.prototype.fw=function(e,t,n,r){var i,o,a,l;i=this.currentCD,o=this.fastWatchFn[t],a=o(i.locals),l={isStatic:!1,isArray:!1,extraLoop:!1,deep:!1,value:a,callback:null,exp:o,src:e,onStop:null,el:n,ea:r||null},i.watchList.push(l),h(i.scope,l,a)},S.prototype.wt=function(e,t,n){this.currentCD.watchText(e,null,{element:t,elementAttr:n})},function(){var e,t,n,r,i,l,c,s;return o.hooks.attribute.unshift({code:"events",fn:function(){var e;e=this.attrName.match(/^\@([\w\.\-]+)$/),e&&(this.ns="al",this.name="on",this.attrArgument=e[1])}}),o.hooks.eventModifier={},s=function(e,t){return o.hooks.eventModifier[e]={event:["keydown","keypress","keyup"],fn:function(e,n){e[t]||(n.stop=!0)}}},s("alt","altKey"),s("control","ctrlKey"),s("ctrl","ctrlKey"),s("meta","metaKey"),s("shift","shiftKey"),n=function(e,t){var n,r,i,o,l,c;if(c={},"string"==typeof e?c.event=e:"object"==typeof e&&e.event&&(c.event=e.event),"string"==typeof c.event&&(c.event=c.event.split(/\s+/)),t&&c.event){for(i=!1,l=c.event,r=0,o=l.length;o>r;r++)if(n=l[r],t.indexOf(n)>=0){i=!0;break}if(!i)return null}return a.isFunction(e)?c.fn=e:e.fn&&(c.fn=e.fn),e.init&&(c.init=e.init),c},o.d.al.on=function(t,n,r,o){var l,s,u,f,p,h,d,m;if(o.fastBinding=!0,o.attrArgument){for(p=o.attrArgument.split(".")[0],u=c(o.attrArgument,e[p]),u.scope=t,u.element=n,u.expression=r,u.cd=l=o.changeDetector,u.fn=l.compile(r,{no_return:!0,input:["$event","$element","$value"]}),f=function(e){return i(u,e)},m=u.eventList,h=0,d=m.length;d>h;h++)s=m[h],a.on(n,s,f);u.initFn&&u.initFn(t,n,r,o),l.watch("$destroy",function(){var e,t,r,i;for(r=u.eventList,i=[],e=0,t=r.length;t>e;e++)s=r[e],i.push(a.off(n,s,f));return i})}},l={enter:13,tab:9,"delete":46,backspace:8,esc:27,space:32,up:38,down:40,left:37,right:39},e={click:{stop:!0,prevent:!0},dblclick:{stop:!0,prevent:!0},submit:{stop:!0,prevent:!0},keyup:{filterByKey:!0},keypress:{filterByKey:!0},keydown:{filterByKey:!0}},c=function(e,t){var r,i,a,c,s,u,f,p,h;for(t=t||{},i={attrArgument:e,throttle:null,throttleId:null,debounce:null,debounceTime:0,initFn:null,eventList:null,stop:t.stop||!1,prevent:t.prevent||!1,scan:!0,modifiers:[]},r=e.split("."),a=r[0],c=null,p=o.hooks.eventModifier[a],p&&(p=n(p),p.event&&(i.eventList=p.event,p.fn&&i.modifiers.push(p),p.init&&(i.initFn=p.init))),i.eventList||(i.eventList=[a]),h=r.slice(1),s=0,f=h.length;f>s;s++)u=h[s],"stop"!==u?"prevent"!==u?"nostop"!==u?"noprevent"!==u?"noscan"!==u?"throttle-"!==u.substring(0,9)?"debounce-"!==u.substring(0,9)?(p=o.hooks.eventModifier[u],p?(p=n(p,i.eventList),p&&i.modifiers.push(p)):t.filterByKey&&(null===c&&(c={}),l[u]&&(u=l[u]),c[u]=!0)):i.debounce=Number(u.substring(9)):i.throttle=Number(u.substring(9)):i.scan=!1:i.prevent=!1:i.stop=!1:i.prevent=!0:i.stop=!0;return i.filterByKey=c,i},r=function(e,t){var n;return n=e.element,"checkbox"===n.type?n.checked:"radio"===n.type?n.value||n.checked:t.component?t.value:n.value},t=function(e,t){var n,i;try{e.fn(e.cd.locals,t,e.element,r(e,t))}catch(i){n=i,o.exceptionHandler(n,"Error in event: "+e.attrArgument+" = "+e.expression,{attr:e.attrArgument,exp:e.expression,scope:e.scope,cd:e.cd,element:e.element,event:t})}e.scan&&e.cd.scan()},i=function(e,n){var r,i,o,a,l;if(!e.filterByKey||e.filterByKey[n.keyCode]){if(e.modifiers.length)for(r={stop:!1},l=e.modifiers,i=0,o=l.length;o>i;i++)if(a=l[i],a.fn(n,r),r.stop)return;e.prevent&&n.preventDefault(),e.stop&&n.stopPropagation(),e.throttle?(e.throttleId&&clearTimeout(e.throttleId),e.throttleId=setTimeout(function(){return e.throttleId=null,t(e,n)},e.throttle)):e.debounce?e.debounceTime<Date.now()&&(e.debounceTime=Date.now()+e.debounce,t(e,n)):t(e,n)}}}(),o.hooks.attribute.unshift({code:"directDirective",fn:function(){var e=this.attrName.match(/^(.*)\!$/);if(e){var t=e[1].replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),n=this.cd.locals[t]||o.option.globalController&&window[t];a.isFunction(n)?this.directive=function(e,t,r,a){var l=a.changeDetector;if(r){for(var c=o.utils.parsArguments(r),s=Array(c.result.length),u=0;u<c.result.length;u++)s[u]=o.utils.compile.expression(c.result[u],{input:["$element","$env"]}).fn(l.locals,t,a);i(l,function(){n.apply(l,s)})}else i(l,function(){n.call(l,e,t,r,a)})}:(this.result="noDirective",this.stop=!0)}}}),o.d.al.value=function(e,t,n,r){var i;return r.fastBinding=!0,i={onDom:function(){a.on(t,"input",i.updateModel),a.on(t,"change",i.updateModel),r.watch("$destroy",i.offDom)},offDom:function(){a.off(t,"input",i.updateModel),a.off(t,"change",i.updateModel)},updateModel:function(){r.setValue(n,t.value),i.watch.refresh(),r.scan()},watchModel:function(){i.watch=r.watch(n,i.updateDom)},updateDom:function(e){return null==e&&(e=""),t.value=e,"$scanNoChanges"},start:function(){i.onDom(),i.watchModel()}}},o.d.al.checked=function(e,t,n,r){var i;return r.fastBinding=!0,i={start:function(){i.onDom(),i.watchModel()},onDom:function(){a.on(t,"change",i.updateModel),r.watch("$destroy",i.offDom)},offDom:function(){a.off(t,"change",i.updateModel)},updateModel:function(){var e;e=t.checked,r.setValue(n,e),i.watch.refresh(),r.scan()},watchModel:function(){i.watch=r.watch(n,i.updateDom)},updateDom:function(e){return t.checked=!!e,"$scanNoChanges"}}},o.d.al["if"]=function(e,t,n,r){var i;return r.elementCanBeRemoved?(o.exceptionHandler(null,r.attrName+" can't control element because of "+r.elementCanBeRemoved,{scope:e,element:t,value:n,env:r}),{}):(r.stopBinding=!0,i={item:null,childCD:null,base_element:null,top_element:null,start:function(){i.prepare(),i.watchModel()},prepare:function(){i.base_element=t,i.top_element=document.createComment(" "+r.attrName+": "+n+" "),a.before(t,i.top_element),a.remove(t)},updateDom:function(e){e?i.insertBlock(e):i.removeBlock()},removeBlock:function(){i.childCD&&(i.childCD.destroy(),i.childCD=null,i.removeDom(i.item),i.item=null)},insertBlock:function(){i.childCD||(i.item=i.base_element.cloneNode(!0),i.insertDom(i.top_element,i.item),i.childCD=r.changeDetector["new"](),o.bind(i.childCD,i.item,{skip_attr:r.skippedAttr(),elementCanBeRemoved:r.attrName}))},watchModel:function(){r.watch(n,i.updateDom)},removeDom:function(e){a.remove(e)},insertDom:function(e,t){a.after(e,t)}})},o.d.al.ifnot=function(e,t,n,r){var i;return i=o.d.al["if"](e,t,n,r),i.updateDom=function(e){e?i.removeBlock():i.insertBlock()},i},o.directives.al.repeat={restrict:"AM",init:function(e,t,n,r){var i,l;return r.elementCanBeRemoved?(o.exceptionHandler(null,r.attrName+" can't control element because of "+r.elementCanBeRemoved,{scope:e,element:t,value:n,env:r}),{}):(r.stopBinding=!0,i=r.changeDetector,l={start:function(){l.parsExpression(),l.prepareDom(),l.buildUpdateDom(),l.watchModel()},parsExpression:function(){var e,t;if(t=n.trim(),"("===t[0])if(l.objectMode=!0,e=t.match(/\((\w+),\s*(\w+)\)\s+in\s+(.+)\s+orderBy:(.+)\s*$/))l.objectKey=e[1],l.objectValue=e[2],l.expression=e[3]+(" | toArray:"+l.objectKey+","+l.objectValue+" | orderBy:"+e[4]),l.nameOfKey="$item",l.trackExpression="$item."+l.objectKey;else{if(e=t.match(/\((\w+),\s*(\w+)\)\s+in\s+(.+)\s*$/),!e)throw"Wrong repeat: "+n;l.objectKey=e[1],l.objectValue=e[2],l.expression=e[3]+(" | toArray:"+l.objectKey+","+l.objectValue),l.nameOfKey="$item",l.trackExpression="$item."+l.objectKey}else{if(e=t.match(/(.*) track by ([\w\.\$\(\)]+)/),e&&(l.trackExpression=e[2],t=e[1]),e=t.match(/\s*(\w+)\s+in\s+(.+)/),!e)throw"Wrong repeat: "+n;l.nameOfKey=e[1],l.expression=e[2]}},watchModel:function(){var e;e=l.objectMode?{deep:!0}:{isArray:!0},l.watch=i.watch(l.expression,l.updateDom,e)},prepareDom:function(){var e,i,c,s,u,f;if(8===t.nodeType){for(l.top_element=t,l.element_list=i=[],e=t.nextSibling;e;){if(8===e.nodeType&&(u=e.nodeValue,f=u.trim().split(/\s+/),"/directive:"===f[0]&&"al-repeat"===f[1])){r.skipToElement=e;break}i.push(e),e=e.nextSibling}for(c=0,s=i.length;s>c;c++)e=i[c],a.remove(e)}else l.base_element=t,l.top_element=document.createComment(" "+n+" "),a.before(t,l.top_element),a.remove(t),o.option.removeAttribute&&t.removeAttribute(r.attrName)},makeChild:function(e,t,n){var r;return r=i["new"](null,{locals:!0}),l.updateLocals(r,e,t,n),r},updateLocals:function(e,t,n,r){var i;i=e.locals,l.objectMode?(i[l.objectKey]=t[l.objectKey],i[l.objectValue]=t[l.objectValue]):i[l.nameOfKey]=t,i.$index=n,i.$first=0===n,i.$last=n===r.length-1},rawUpdateDom:function(e,t){var n,r,i,o,l,c;for(r=0,l=e.length;l>r;r++)n=e[r],a.remove(n);for(o=0,c=t.length;c>o;o++)i=t[o],a.after(i.after,i.element)},buildUpdateDom:function(){return l.updateDom=function(){var e,n,a,c,s,u,f,p,h,d,m;return m=[],u=0,a=null,"$index"===l.trackExpression?(f={},h=function(){var e;return e=u,f[e]||null},p=function(e){var t;t=e.$id,null!=t&&delete f[t]},d=function(e,t){var n;n=u,t.$id=n,f[n]=t}):l.trackExpression?(f={},e=function(){var e;return e=i.compile(l.trackExpression,{input:["$id",l.nameOfKey]}),function(t,n){return e(i.scope,t,n)}}(),n=function(e){var t;return(t=e.$alite_id)?t:t=e.$alite_id=o.utils.getId()},h=function(t){var r;return r=e(n,t),null!=r?f[r]:null},p=function(e){var t;t=e.$id,null!=t&&delete f[t]},d=function(t,r){var i;i=e(n,t),r.$id=i,f[i]=r}):window.Map?(f=new Map,h=function(e){return f.get(e)},p=function(e){f["delete"](e.item)},d=function(e,t){f.set(e,t)}):(f={},h=function(e){var t;return"object"!=typeof e?f[e]||null:(t=e.$alite_id)?f[t]:null},p=function(e){var t;t=e.$id,f[t]&&(e.$id=null,delete f[t])},d=function(e,t){var n;"object"==typeof e?(n=o.utils.getId(),e.$alite_id=n,t.$id=n,f[n]=t):(t.$id=e,f[e]=t)}),c=[],s=function(e){var t,n;if(n=typeof e,"object"!==n){if("number"===n)t=Math.floor(e);else if("string"===n&&(t=Math.floor(e),isNaN(t)))return[];if(t<c.length)c.length=t;else for(;c.length<t;)c.push(c.length);return c}return e&&e.length?e:[]},l.element_list?function(e){var t,n,i,a,c,f,v,g,y,b,w,x,k,D,$,C,A,B,E,T,S,_,N,M,O,L,j,F,K,H,V,R,W,I,U,q,z,G,P;for(O=s(e),C=l.top_element,a=[],H=[],y=0,A=m.length;A>y;y++)K=m[y],K.active=!1;for(u=k=0,B=O.length;B>k;u=++k)w=O[u],K=h(w),K&&(K.active=!0);for(c=[],D=0,E=m.length;E>D;D++)if(K=m[D],!K.active){for(K.prev&&(K.prev.next=K.next),K.next&&(K.next.prev=K.prev),p(K),K.CD.destroy(),q=K.element_list,$=0,T=q.length;T>$;$++)f=q[$],c.push(f);K.next=null,K.prev=null,K.element_list=null}for(t=[],W=null,U=null,I=!1,v=l.element_list.length-1,u=L=0,S=O.length;S>L;u=++L)if(w=O[u],x=w,K=h(w)){if(l.updateLocals(K.CD,w,u,O),K.prev===U){if(I)for(z=K.element_list,j=0,_=z.length;_>j;j++)f=z[j],a.push({element:f,after:C}),C=f;U=K,C=K.element_list[v],K.active=!0,H.push(K);continue}for(K.prev=U,U&&(U.next=K),G=K.element_list,V=0,N=G.length;N>V;V++)f=G[V],a.push({element:f,after:C}),C=f;I=!0,U=K,K.active=!0,H.push(K)}else i=l.makeChild(x,u,O),g=function(){var e,r,o,c;for(o=l.element_list,c=[],r=0,e=o.length;e>r;r++)n=o[r],f=n.cloneNode(!0),t.push({cd:i,el:f}),a.push({element:f,after:C}),c.push(C=f);return c}(),K={CD:i,element_list:g,prev:U,next:null,active:!0,item:w},d(w,K),U?(F=U.next,U.next=K,K.next=F,F&&(F.prev=K)):0===u&&m[0]&&(F=m[0],K.next=F,F.prev=K),U=K,H.push(K);for(m=H,l.rawUpdateDom(c,a),c.length=0,a.length=0,P=r.skippedAttr(),R=0,M=t.length;M>R;R++)b=t[R],o.bind(b.cd,b.el,{skip_attr:P,elementCanBeRemoved:r.attrName})}:function(e){var n,i,c,f,v,g,y,b,w,x,k,D,$,C,A,B,E,T,S,_,N,M,O,L,j,F,K;for(T=s(e),D=l.top_element,c=[],M=[],v=0,$=m.length;$>v;v++)N=m[v],N.active=!1;for(u=w=0,C=T.length;C>w;u=++w)y=T[u],N=h(y),N&&(N.active=!0);for(f=[],x=0,A=m.length;A>x;x++)N=m[x],N.active||(N.prev&&(N.prev.next=N.next),N.next&&(N.next.prev=N.prev),p(N),N.CD.destroy(),f.push(N.element),N.next=null,N.prev=null,N.element=null);for(n=[],O=null,j=null,L=!1,u=k=0,B=T.length;B>k;u=++k)if(y=T[u],b=y,N=h(y)){if(l.updateLocals(N.CD,y,u,T),N.prev===j){L&&c.push({element:N.element,after:j.element}),j=N,D=N.element,N.active=!0,M.push(N);continue}N.prev=j,j&&(j.next=N),c.push({element:N.element,after:D}),L=!0,D=N.element,j=N,N.active=!0,M.push(N)}else i=l.makeChild(b,u,T),t=l.base_element.cloneNode(!0),n.push({cd:i,el:t}),c.push({element:t,after:D}),N={CD:i,element:t,prev:j,next:null,active:!0,item:y},D=t,d(y,N),j?(_=j.next,j.next=N,N.next=_,_&&(_.prev=N)):0===u&&m[0]&&(_=m[0],N.next=_,_.prev=N),j=N,M.push(N);for(m=M,l.rawUpdateDom(f,c),f.length=0,c.length=0,K=r.skippedAttr(),S=0,E=n.length;E>S;S++)g=n[S],a?a.bind(g.cd,g.el):(F=o.bind(g.cd,g.el,{skip_attr:K,elementCanBeRemoved:r.attrName}),null===a&&(a=o.core.fastBinding(F)||!1))}}()}})}},o.d.al.init=function(e,t,n,r){var i,a,l,c,s;r.fastBinding=!0,i=r.changeDetector,s=["$element"],"window"===r.attrArgument&&s.push("window");try{c=i.compile(n,{no_return:!0,input:s}),c(i.locals,t,window)}catch(l){a=l,o.exceptionHandler(a,"al-init, error in expression: "+n,{exp:n,scope:e,cd:i,element:t})}},o.d.al.app={stopBinding:!0},o.d.al.stop={restrict:"AE",stopBinding:!0},o.d.al.cloak=function(e,t,n,r){t.removeAttribute(r.attrName),n&&a.removeClass(t,n)},o.d.al.focused=function(e,t,n,r){var i;return i={updateModel:function(e){r.getValue(n)!==e&&(r.setValue(n,e),self.watch.refresh(),r.scan())},onDom:function(){var e,n;n=function(){return i.updateModel(!0)},e=function(){return i.updateModel(!1)},a.on(t,"focus",n),a.on(t,"blur",e),r.watch("$destroy",function(){return a.off(t,"focus",n),a.off(t,"blur",e)})},updateDom:function(e){return e?t.focus():t.blur(),"$scanNoChanges"},watchModel:function(){self.watch=r.watch(n,i.updateDom)},start:function(){i.onDom(),i.watchModel()}}},o.d.al.html={restrict:"AM",priority:100,modifier:{},link:function(e,t,n,r){var i;return r.elementCanBeRemoved&&8!==t.nodeType?(o.exceptionHandler(null,r.attrName+" can't control element because of "+r.elementCanBeRemoved,{scope:e,element:t,value:n,env:r}),{}):(r.stopBinding=!0,i={baseElement:null,topElement:null,activeElement:null,childCD:null,name:n,watchMode:null,start:function(){i.parsing(),i.prepare(),i.watchModel()},parsing:function(){var a,l,c,s;if(r.attrArgument)for(s=r.attrArgument.split("."),a=0,l=s.length;l>a;a++)c=s[a],"literal"!==c?"tpl"!==c?o.d.al.html.modifier[c]&&o.d.al.html.modifier[c](i,{scope:e,element:t,inputName:n,env:r}):i.watchMode="tpl":i.watchMode="literal"},prepare:function(){8===t.nodeType?(i.baseElement=null,i.topElement=t):(i.baseElement=t,i.topElement=document.createComment(" "+r.attrName+": "+n+" "),a.before(t,i.topElement),a.remove(t))},removeBlock:function(){var e,t,n,r;if(i.childCD&&(i.childCD.destroy(),i.childCD=null),i.activeElement){if(Array.isArray(i.activeElement))for(r=i.activeElement,t=0,n=r.length;n>t;t++)e=r[t],i.removeDom(e);else i.removeDom(i.activeElement);i.activeElement=null}},insertBlock:function(e){var t,n,a;if(i.baseElement)i.activeElement=i.baseElement.cloneNode(!1),i.activeElement.innerHTML=e,i.domOptimization&&o.utils.optmizeElement(i.activeElement),i.insertDom(i.topElement,i.activeElement),i.childCD=r.changeDetector["new"](),o.bind(i.childCD,i.activeElement,{skip_attr:r.skippedAttr(),elementCanBeRemoved:r.attrName});else for(a=document.createElement("body"),a.innerHTML=e,i.domOptimization&&o.utils.optmizeElement(a),t=i.topElement,i.activeElement=[],i.childCD=r.changeDetector["new"]();n=a.firstChild;)i.insertDom(t,n),t=n,i.activeElement.push(n),o.bind(i.childCD,t,{skip_attr:r.skippedAttr(),elementCanBeRemoved:r.attrName})},updateDom:function(e){i.removeBlock(),e&&i.insertBlock(e)},removeDom:function(e){a.remove(e)},insertDom:function(e,t){a.after(e,t)},watchModel:function(){"literal"===i.watchMode?i.updateDom(i.name):"tpl"===i.watchMode?r.watchText(i.name,i.updateDom):r.watch(i.name,i.updateDom)}})}},o.d.al.html.modifier.id=function(e){return e.updateDom=function(t){var n,r;e.removeBlock(),r=document.getElementById(t),r&&(n=r.innerHTML,n&&e.insertBlock(n))}},o.d.al.html.modifier.url=function(e){return e.domOptimization=o.debug.domOptimization,e.loadHtml=function(e){a.ajax(e)},e.updateDom=function(t){return t?void e.loadHtml({cache:!0,url:t,success:function(t){e.removeBlock(),e.insertBlock(t)},error:e.removeBlock}):void e.removeBlock()}},o.d.al.html.modifier.scope=function(e,t){var n,r,i,a;if(n=e.name.split(":"),2===n.length)e.name=n[0],a=n[1];else{if(n=e.name.match(/(.+)\:\s*\:\:([\d\w]+)$/))i=!0;else if(i=!1,n=e.name.match(/(.+)\:\s*([\.\w]+)$/),!n)throw"Wrong expression "+e.name;e.name=n[1],a=n[2]}return r="outer",e.insertBlock=function(n){var l,c,s;e.activeElement=e.baseElement.cloneNode(!1),e.activeElement.innerHTML=n,e.insertDom(e.topElement,e.activeElement),c=t.env.changeDetector,l=e.childCD=c["new"](null,{locals:!0}),l.locals[r]=null,s=c.watch(a,function(e){return l.locals[r]=e},{oneTime:i}),e.childCD.watch("$destroy",function(){return s.stop()}),o.bind(e.childCD,e.activeElement,{skip_attr:t.env.skippedAttr()})}},o.d.al.html.modifier.inline=function(e,t){var n;return n=e.prepare,e.prepare=function(){return n(),t.env.setValue(e.name,e.baseElement.innerHTML)}},function(){var e;return o.hooks.attribute.unshift({code:"attribute",fn:function(){var e,t;e=this.attrName.match(/^\:([\w\.\-]+)$/),e&&(t=e[1],"html"===t.split(".")[0]?(this.name="html",t=t.substring(5)):this.name="attr",this.ns="al",this.attrArgument=t)}}),e={checked:"checked",readonly:"readOnly",value:"value",selected:"selected",muted:"muted",disabled:"disabled",hidden:"hidden"},o.d.al.attr=function(t,n,r,i){var o,l,c,s,u,f,p,h;if(i.fastBinding=!0,i.attrArgument){if(c=i.attrArgument.split("."),l=c[0],f=e[l],s=c.indexOf("tpl")>0,o={readOnly:!0},"style"===l){if(!c[1])throw"Style is not declared";h=c[1].replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),p=function(e){return null==e&&(e=""),n.style[h]=e}}else"class"===l&&c.length>1?(s=!1,u=c.slice(1),p=function(e){var t,r,i,o,l,c,s;if(e){for(c=[],r=0,o=u.length;o>r;r++)t=u[r],c.push(a.addClass(n,t));return c}for(s=[],i=0,l=u.length;l>i;i++)t=u[i],s.push(a.removeClass(n,t));return s}):"focus"===l?p=function(e){return e?n.focus():n.blur()}:f?p=function(e){return f&&(void 0===e&&(e=null),n[f]!==e)?n[f]=e:void 0}:(o.element=n,o.elementAttr=l);return s?i.changeDetector.watchText(r,p,o):i.changeDetector.watch(r,p,o)}}}(),o.filters.json={watchMode:"deep",fn:function(e){return JSON.stringify(o.utils.clone(e),null,4)}},o.filters.filter=function(e,t,n){var r,i,o,a,l,c,s,u,f,p,h,d;if(2===arguments.length)l=null,d=t;else{if(3!==arguments.length)return e;l=t,d=n}if(!e||null==d||""===d)return e;if(u=[],p=(""+d).toLowerCase(),l)for(i=0,c=e.length;c>i;i++)r=e[i],r[l]===d?u.push(r):(f=(""+r[l]).toLowerCase(),f.indexOf(p)>=0&&u.push(r));else for(o=0,s=e.length;s>o;o++){r=e[o];for(a in r)h=r[a],h===d?u.push(r):(f=(""+h).toLowerCase(),f.indexOf(p)>=0&&u.push(r))}return u},o.filters.orderBy=function(e,t,n){return!e instanceof Array?null:(n=n?1:-1,e.sort(function(e,r){return e[t]<r[t]?-n:e[t]>r[t]?n:0}))},o.filters.toArray={init:function(e,t,n){var r,i,o;return 2===n.conf.args.length?(r=n.conf.args[0],o=n.conf.args[1]):(r="key",o="value"),i=[],{watchMode:"deep",onChange:function(e){var t,a,l;i.length=0;for(a in e)l=e[a],t={},t[r]=a,t[o]=l,i.push(t);return n.setValue(i)}}}},o.text["="]=function(e,t,n,r){var i;if(i=o.utils.compile.expression(t),i.filters)throw"Conflict: bindonce and filters, use one-time binding";r["finally"](i.fn(r.changeDetector.locals))},o.text["::"]=function(e,t,n,r){r.changeDetector.watch(t,function(e){return r["finally"](e)},{oneTime:!0})},function(){function e(e){var n,r=e.listener,i=e.childCD,o=e.name,a=e.parentName,l=e.parentCD,c={};if(r&&r!==!0)if(t.isFunction(r))n=r;else{if(n=r.onChange,"copy"===r||"copy"===r.watchMode)return void(n?n(a):i.scope[o]=a);("array"===r||"array"===r.watchMode)&&(c.isArray=!0),("deep"===r||"deep"===r.watchMode)&&(c.deep=!0)}n||(n=function(e){i.scope[o]=e,i.scan()}),l.watch(a,n,c)}var t=o.f$;o.component=function(n,r){var i,a,l=n.match(/^(\w+)[\-](.+)$/);l?(i=l[1],a=l[2]):(i="$global",a=n),a=a.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),o.d[i]||(o.d[i]={}),o.d[i][a]={restrict:"E",stopBinding:!0,priority:o.priority.$component,init:function(i,a,l,c){function s(t,n){var r=":"+t,i=d.takeAttr(r);if(!i){if(i=d.takeAttr(t),!i)return;n="copy"}e({childCD:h,listener:n,name:t,parentName:i,parentCD:p})}function u(){E||p.digest(),o.bind(h,a,{skip:!0})}c.fastBinding=!0;var f={$sendEvent:function(e,t){var n=new CustomEvent(e);n.value=t,n.component=!0,a.dispatchEvent(n)}},p=c.changeDetector["new"](),h=o.ChangeDetector(f),d=new b({element:a,attributes:c.attributes,changeDetector:h,parentChangeDetector:p});try{var m=r(f,a,d)||{}}catch(v){return void o.exceptionHandler(v,"Error in component <"+n+">: ",{element:a,scope:f,cd:h})}m.onStart&&h.watch("$finishBinding",m.onStart);var g=!1;if(p.watch("$destroy",function(){g=!0,h.destroy()}),h.watch("$destroy",function(){m.onDestroy&&m.onDestroy(),g||p.destroy()}),m.api){var y=d.takeAttr(":api");y&&(p.locals[y]=m.api)}if(m.props)if(Array.isArray(m.props))for(var w=0,x=m.props;w<x.length;w++){var k=x[w];s(k,!0)}else for(var k in m.props)s(k,m.props[k]);else for(var D=0,$=a.attributes;D<$.length;D++){var C=$[D],A=C.name,y=C.value;if(y){var B=A.match(/^\:(.*)$/);B&&e({childCD:h,name:B[1],parentName:y,parentCD:p})}}var E=!1;if(p.watch("$onScanOnce",function(){return E=!0}),m.template&&(a.innerHTML=m.template),m.templateId){var T=document.getElementById(m.templateId);if(!T)throw"No template "+m.templateId;a.innerHTML=T.innerHTML}m.templateUrl?t.ajax({url:m.templateUrl,cache:!0,success:function(e){a.innerHTML=e,u(!0)},error:function(){console.error("Template is not loaded",m.templateUrl)}}):u()}}}}(),o}var t=e();t.makeInstance=e,"function"==typeof alightInitCallback?alightInitCallback(t):"function"==typeof define?define(function(){return t}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t:(t.option.globalController=!0,window.alight=t,t.f$.ready(t.bootstrap))}();