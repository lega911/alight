!function(){var t=!1,e={autostart:!0},n={};e.f$=n,function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n,r,i=e?e:0;if(!this)throw new TypeError;if(r=this.length,0===r||i>=r)return-1;for(0>i&&(i=r-Math.abs(i)),n=i;r>n;n++)if(this[n]===t)return n;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"function"!=typeof String.prototype.trimLeft&&(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")}),n.browser=function(){var t,e=navigator.appName,n=navigator.userAgent.toLowerCase(),r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!=(t=n.match(/version\/([\.\d]+)/i))&&(r[2]=t[1]),r=r?[r[1],r[2]]:[e,navigator.appVersion,"-?"],{name:r[0],version_string:r[1],version:Number(r[1].match(/\d+/))}}();var t=!1,e=!1,r=!1,i=window.$;if(n.__jquery?(r=5,i=n.__jquery):(("chrome"===n.browser.name||"safari"===n.browser.name)&&(t=!0),"firefox"===n.browser.name&&(e=n.browser.version),"msie"===n.browser.name&&(r=n.browser.version)),n.text=r&&8>r?function(t,e){i(t).text(e)}:function(t,e){return 2!==arguments.length?t.textContent||t.innerText:void(void 0!==t.textContent?t.textContent=e:t.innerText=e)},n.html=r&&6>r?function(t,e){return 2!==arguments.length?i(t).html():void i(t).html(e)}:function(t,e){return 2!==arguments.length?t.innerHTML:void(t.innerHTML=e)},n.createComment=function(t){return document.createComment(t)},n.before=function(t,e){var n=t.parentNode;n.insertBefore(e,t)},n.after=function(t,e){var n=t.parentNode,r=t.nextSibling;r?n.insertBefore(e,r):n.appendChild(e)},n.remove=function(t){var e=t.parentNode;e&&e.removeChild(t)},r&&9>r?n.on=function(t,e,n){i(t).on(e,n)}:(n.on=function(t,e,n){t.addEventListener(e,n,!1)},n.off=function(t,e,n){t.removeEventListener(e,n,!1)}),n.clone=function(t){return t.cloneNode(!0)},n.find=r&&8>r?function(t,e){return i(t).find(e)}:function(t,e){return t.querySelectorAll(e)},r&&8>r?(n.attr=function(t,e,n){return i(t).attr(e,n)},n.removeAttr=function(t,e){i(t).removeAttr(e)}):(n.attr=function(t,e,n){return 2===arguments.length?t.getAttribute(e):void t.setAttribute(e,n)},n.removeAttr=function(t,e){t.removeAttribute(e)}),n.isFunction=function(t){var e={};return t&&"[object Function]"===e.toString.call(t)},n.isObject=function(t){var e={};return t&&"[object Object]"===e.toString.call(t)},n.isArray=function(t){return t instanceof Array},n.val=r&&6>r?function(t,e){return 1===arguments.length?i(t).val():void i(t).val(e)}:function(t,e){return 1===arguments.length?t.value:void(t.value=e)},n.prop=r&&6>r?function(t,e,n){return 2===arguments.length?i(t).prop(e):void i(t).prop(e,n)}:function(t,e,n){return 2===arguments.length?t[e]:void(t[e]=n)},r&&8>r?(n.addClass=function(t,e){i(t).addClass(e)},n.removeClass=function(t,e){i(t).removeClass(e)}):(n.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},n.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^| )"+e.split(" ").join("|")+"( |$)","gi")," ")}),r&&8>r?(n.show=function(t){i(t).show()},n.hide=function(t){i(t).hide()}):(n.show=function(t){n.removeClass(t,"al-hide")},n.hide=function(t){n.addClass(t,"al-hide")}),n.children=r&&9>r||e&&4>e?function(t){return i(t).children()}:function(t){return t.children},n.childNodes=function(t){for(var e=[],n=t.childNodes,r=0;r<n.length;r++)e.push(n[r]);return e},n.getAttributes=r&&8>r?function(t){var e={},n=i(t);return n.length&&i.each(n.get(0).attributes,function(t,r){var r=r.nodeName||r.name;t=n.attr(r),void 0!=t&&t!==!1&&(e[r]=t)}),e}:function(t){for(var e,n={},r=t.attributes,i=0,o=r.length;o>i;i++)e=r.item(i),n[e.nodeName]=e.value;return n},n.ready=r&&9>r?function(t){i(t)}:function(){function t(){r=!0,n.off(document,"DOMContentLoaded",t);for(var i=0;i<e.length;i++)e[i]();e.length=0}var e=[],r=!1;return n.on(document,"DOMContentLoaded",t),function(t){r?t():e.push(t)}}(),r&&9>r)var o=function(){},a=function(t){i.ajax({url:t.url,type:t.type||"GET"}).then(t.success||o,t.error||o)};else var a=function(t){var e=new XMLHttpRequest;e.open(t.type||"GET",t.url,!0),e.send(),t.success&&(e.onload=function(){e.status>=200&&e.status<400?t.success(e.responseText):t.error&&t.error()}),t.error&&(e.onerror=t.error)};n.ajaxCache={},n.ajax=function(t){if(!t.cache)return a(t);var e=t.type||"GET",r=e+":"+t.url,i=n.ajaxCache[r];return i||(n.ajaxCache[r]=i={callback:[]}),i.result?void(t.success&&t.success(i.result)):(i.callback.push(t),void(i.loading||(i.loading=!0,a({type:e,url:t.url,success:function(t){i.result=t;for(var e=0;e<i.callback.length;e++)i.callback[e].success&&i.callback[e].success(t);i.callback.length=0},error:function(){for(var t=0;t<i.callback.length;t++)i.callback[t].error&&i.callback[t].error();i.callback.length=0}}))))},r&&8>r?(n.focus=function(t){i(t).focus()},n.blur=function(t){i(t).blur()}):(n.focus=function(t){t.focus()},n.blur=function(t){t.blur()}),function(){var t='@charset "UTF-8";[al-cloak],.al-hide{display:none !important;}',e=n.find(document,"head")[0],r=document.createElement("style");r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t)),e.appendChild(r)}()}(),function(){var r,i,o,a,s,u,c,l,f,p,d,h;e.version="0.7.15",e.debug={optimize:!1,scan:!1,directive:!1,watch:!1,watchText:!1,parser:!1},e.scopes=[],e.controllers={},e.filters={},e.utilits={},e.directives={al:{},bo:{},ctrl:{}},e.text={},e.apps={},e.directivePreprocessor=a=function(t,r,i){var o,s,u,c;if(r=r.replace(/(-\w)/g,function(t){return t.substring(1).toUpperCase()}),u=i.scope.$ns?i.scope.$ns.directives[t][r]:e.directives[t][r],!u)return{noDirective:!0};if(o={},n.isFunction(u))o.init=u;else{if(!n.isObject(u))throw"Wrong directive: "+t+"."+r;for(s in u)c=u[s],o[s]=c}if(o.priority=u.priority||0,o.restrict=u.restrict||"A",o.restrict.indexOf(i.attr_type)<0)throw"Directive has wrong binding (attribute/element): "+r;return o.$init=function(e,n,s,u){var c,l;return c=function(){var t,e,n,r,i;for(n=l.procLine,e=r=0,i=n.length;i>r;e=++r)if(t=n[e],t.fn.call(l),l.isDeferred){l.procLine=n.slice(e+1);break}return null},l={element:e,expression:n,scope:s,env:u,ns:t,name:r,args:i,directive:o,result:{},isDeferred:!1,procLine:a.ext,makeDeferred:function(){return l.isDeferred=!0,l.result.owner=!0,l.directive.scope=!0,function(){return l.isDeferred=!1,c()}}},c(),l.result},o},function(){var t;return a.ext=t=[],t.push({code:"init",fn:function(){return this.directive.init&&(this.result=this.directive.init(this.element,this.expression,this.scope,this.env)||{}),n.isObject(this.result)?void 0:this.result={}}}),t.push({code:"templateUrl",fn:function(){var t,e;return e=this,this.directive.templateUrl?(t=this.makeDeferred(),n.ajax({cache:!0,url:this.directive.templateUrl,success:function(n){return e.directive.template=n,t()},error:t})):void 0}}),t.push({code:"template",fn:function(){var t;if(this.directive.template){if(1===this.element.nodeType)return n.html(this.element,this.directive.template);if(8===this.element.nodeType&&(t=document.createElement("p"),t.innerHTML=this.directive.template.trimLeft(),t=t.firstChild,n.after(this.element,t),this.element=t,!this.directive.scope))return this.directive.scope=!0}}}),t.push({code:"scope",fn:function(){var t;return this.directive.scope?(t=this.scope,this.scope=t.$new("isolate"===this.directive.scope),this.result.owner=!0,this.doBinding=!0):void 0}}),t.push({code:"link",fn:function(){return this.directive.link?this.directive.link(this.element,this.expression,this.scope,this.env):void 0}}),t.push({code:"scopeBinding",fn:function(){return this.doBinding?e.applyBindings(this.scope,this.element,{skip_attr:this.env.skippedAttr()}):void 0}})}(),d=function(){var t;return t=function(t,e,n){var r;return"A"===e.attr_type?(r=n||{},r.priority=-5,r.is_attr=!0,r.name=t,r.attrName=t,r.element=e.element,e.list.push(r)):void 0},function(n,r){var i,o,a,s,u,c;return r.skip_attr.indexOf(n)>=0?t(n,r,{skip:!0}):(o=n.indexOf("-"),0>o?t(n,r):(s=n.substring(0,o),a=n.substring(o+1),c=r.scope,(u=c.$ns?(c.$ns.directives||{})[s]:e.directives[s])?(i=e.directivePreprocessor(s,a,r),i.noDirective?t(n,r,{noDirective:!0}):r.list.push({name:a,directive:i,priority:i.priority,attrName:n})):t(n,r)))}}(),p=function(t,e){return t.priority===e.priority?0:t.priority>e.priority?-1:1},i=function(t,r,i,o){var a,s,u;return s=r,s.indexOf(e.utilits.pars_start_tag)<0?void 0:(a=function(e){return n.attr(t,o,e)},u=i.$watchText(s,a,{readOnly:!0}),a(u.value))},h=function(t,n){var r,i,o;return i=n.data,i.indexOf(e.utilits.pars_start_tag)<0?void 0:(r=function(t){return n.nodeValue=t},o=t.$watchText(i,r,{readOnly:!0}),r(o.value))},o=function(t,n){var r,i,o,a,s,u,c,l,f,p,h;if(p=n.nodeValue.trimLeft(),"directive:"===p.slice(0,10)){if(p=p.slice(10).trimLeft(),c=p.indexOf(" "),c>=0?(o=p.slice(0,+(c-1)+1||9e9),h=p.slice(c+1)):(o=p,h=""),r={list:l=[],element:n,attr_type:"M",scope:t,skip_attr:[]},d(o,r),i=l[0],i.noDirective)throw"Directive not found: "+i.name;a=i.directive,u={element:n,attrName:o,attributes:[],skippedAttr:function(){return[]}},e.debug.directive&&console.log("bind",i.attrName,h,i);try{if(f=a.$init(n,h,t,u),f&&f.start)return f.start()}catch(v){return s=v,e.exceptionHandler(s,"Error in directive: "+i.name,{value:h,env:u,scope:t,element:n})}}},l=function(){var t,r;return r=function(t,e){var r,i,o,a,s;for(1===arguments.length&&(e=!0),s=this.attributes,o=0,a=s.length;a>o;o++)if(r=s[o],r.attrName===t)return e&&(r.skip=!0),i=n.attr(this.element,t),i||!0},t=function(){var t,e,n,r,i;for(r=this.attributes,i=[],e=0,n=r.length;n>e;e++)t=r[e],t.skip&&i.push(t.attrName);return i},function(o,a,s){var c,l,f,h,v,m,g,y,$,w,x,b,k,_,D,C,O,L,A,T;if(s=s||{},_=!1,k=s.skip_attr||[],k instanceof Array||(k=[k]),!s.skip_top){c={list:w=[],element:a,skip_attr:k,attr_type:"E",scope:o},l=a.nodeName.toLowerCase(),d(l,c),c.attr_type="A",h=n.getAttributes(a);for(l in h)f=h[l],d(l,c);for(w=w.sort(p),C=0,L=w.length;L>C;C++)if(v=w[C],!v.skip){if(v.noDirective)throw"Directive not found: "+v.name;if(v.skip=!0,D=n.attr(a,v.attrName),v.is_attr)i(a,D,o,v.attrName);else{m=v.directive,y={element:a,attrName:v.attrName,attributes:w,takeAttr:r,skippedAttr:t},e.debug.directive&&console.log("bind",v.attrName,D,v);try{b=m.$init(a,D,o,y),b&&b.start&&b.start()}catch(M){g=M,e.exceptionHandler(g,"Error in directive: "+v.attrName,{value:D,env:y,scope:o,element:a})}if(b&&b.owner){_=!0;break}}}}if(!_)for(T=n.childNodes(a),O=0,A=T.length;A>O;O++)x=T[O],x&&($=u[x.nodeType],$&&$(o,x));return null}}(),u={1:l,3:h,8:o},r=function(){return this instanceof r?(this.$system={watches:{},watchList:[],watch_any:[],root:this,children:[],scan_callbacks:[],destroy_callbacks:[],finishBinding_callbacks:[],finishBinding_lock:!1},this):new r},e.Scope=r,r.prototype.$new=function(t){var n,r;return r=this,t?n=e.Scope():(r.$system.ChildScope||(r.$system.ChildScope=function(){return this.$system={watches:{},watchList:[],watch_any:[],root:r.$system.root,children:[],destroy_callbacks:[]},this},r.$system.ChildScope.prototype=r),n=new r.$system.ChildScope),n.$parent=r,r.$system.children.push(n),n},r.prototype.$watch=function(t,r,i){var o,a,s,u,c,l,f;if(l=this,i===!0?i={isArray:!0}:i||(i={}),i.is_array&&(i.isArray=!0),n.isFunction(t))a=t,s=e.utilits.getId();else{if(a=null,t=t.trim(),"::"===t.slice(0,2)&&(t=t.slice(2),i.oneTime=!0),s=t,"$any"===s)return l.$system.watch_any.push(r);if("$destroy"===s)return l.$system.destroy_callbacks.push(r);if("$finishBinding"===s)return l.$system.root.$system.finishBinding_callbacks.push(r);s=i.deep?"d#"+s:i.isArray?"a#"+s:"v#"+s}return e.debug.watch&&console.log("$watch",t),o=l.$system.watches[s],o?i.readOnly||(o.extraLoop=!0):(a=a||l.$compile(t,{noBind:!0}),f=a(l),i.deep?(f=e.utilits.clone(f),i.isArray=!1):i.isArray&&n.isArray(f)&&(f=f.slice()),l.$system.watches[s]=o={isArray:Boolean(i.isArray),extraLoop:!i.readOnly,deep:i.deep,value:f,callbacks:[],exp:a,src:""+t},l.$system.watchList.push(o)),u={$:o,value:o.value},i.oneTime&&(c=r,r=function(t){return void 0!==t?(u.stop(),c(t)):void 0}),o.callbacks.push(r),u.stop=function(){var t;if(t=o.callbacks.indexOf(r),t>=0){if(o.callbacks.splice(t,1),0!==o.callbacks.length)return;if(delete l.$system.watches[s],t=l.$system.watchList.indexOf(o),t>=0)return l.$system.watchList.splice(t,1)}},i.init&&r(u.value),u},function(){var t,n;return t={},n={},r.prototype.$compile=function(r,i){var o,a,s,u,c,l,f,p,d,h,v,m;if(i=i||{},m=this,h={},r=r.trim(),"::"===r.slice(0,2)&&(r=r.slice(2),h.oneTime=!0),i.stringOrOneTime&&(i.string=!h.oneTime),p=r+"#",p+=i.no_return?"+":"-",p+=i.string?"s":"v",i.input&&(p+=i.input.join(",")),f=t[p])l=n[p]||null;else{s=r,d=i.no_return||!1,c=e.utilits.parsExpression(s,{input:i.input}),s=c[0],l=c.slice(1),d?v="var $$;"+s:i.string&&!l.length?(v="var $$, __ = ("+s+"); return '' + (__ || (__ == null?'':__))",i.rawExpression&&(h.rawExpression="(__="+s+") || (__ == null?'':__)")):v="var $$;return ("+s+")";try{i.input?(o=i.input.slice(),o.unshift("$$scope"),o.push(v),f=Function.apply(null,o)):f=Function("$$scope",v)}catch(g){throw a=g,e.exceptionHandler(a,"Wrong expression: "+r,{src:r,cfg:i}),"Wrong expression: "+s}t[p]=f,l.length&&(n[p]=l)}return l&&l.length&&(f=e.utilits.filterBuilder(m,f,l),i.string&&(u=f,f=function(){var t=u.apply(this,arguments);return""+(t||(null==t?"":t))})),h.fn=i.noBind?f:(i.input||[]).length<4?function(){try{return f(m,arguments[0],arguments[1],arguments[2])}catch(t){return a=t,e.exceptionHandler(a,"Wrong in expression: "+r,{src:r,cfg:i})}}:function(){var t,n,o,s;try{for(t=[m],o=0,s=arguments.length;s>o;o++)n=arguments[o],t.push(n);return f.apply(null,t)}catch(u){return a=u,e.exceptionHandler(a,"Wrong in expression: "+r,{src:r,cfg:i})}},i.full?h:h.fn}}(),r.prototype.$eval=function(t){return this.$compile(t,{noBind:!0})(this)},r.prototype.$getValue=function(t){var e,n,r,i,o;for(e=this,o=t.split("."),r=0,i=o.length;i>r;r++)n=o[r],e=(e||{})[n];return e},r.prototype.$setValue=function(t,e){var n,r,i,o,a,s,u;for(i=this,r=t.split("."),o=s=0,u=r.length-2;u>=s;o=s+=1)a=r[o],n=i[a],void 0===n&&(i[a]=n={}),i=n;return a=r[r.length-1],i[a]=e},r.prototype.$destroy=function(){var t,e,n,r,i,o,a,s,u,c;for(r=this,u=r.$system.destroy_callbacks,i=0,a=u.length;a>i;i++)(t=u[i])(r);for(r.$system.destroy_callbacks=[],c=r.$system.children.slice(),o=0,s=c.length;s>o;o++)n=c[o],n.$destroy();return r.$parent&&(e=r.$parent.$system.children.indexOf(r),r.$parent.$system.children.splice(e,1)),r.$parent=null,r.$system.watches={},r.$system.watchList=[],r.$system.watch_any.length=0},s=function(){return window.performance?function(){return Math.floor(performance.now())}:function(){return(new Date).getTime()}}(),c=function(t,e){var n,r,i,o,a,s;if(null===t||null===e)return!0;if(r=typeof t,i=typeof e,r!==i)return!0;if("object"===r){if(t.length!==e.length)return!0;for(n=a=0,s=t.length;s>a;n=++a)if(o=t[n],o!==e[n])return!0}return!1};var v=function(t,r){var i,o,a,s,u,l,f,p,d,h,v,m,g,y,$,w,x,b,k;for(s=!1,a=0,m=0,i=[],f=[],d=[t];d;){for(h=d[0],u=1;h;){for(v=h.$system,m+=v.watchList.length,b=v.watchList,w=b.length;w;)if(w--,y=b[w],l=y.value,g=y.exp(h),l!==g&&(p=!1,y.isArray?c(l,g)&&(y.value=n.isArray(g)?g.slice():g,p=!0):y.deep?e.utilits.equal(l,g)||(p=!0,y.value=e.utilits.clone(g)):(p=!0,y.value=g),p))for(p=!1,a++,y.extraLoop&&(s=!0),k=y.callbacks.slice(),$=0,x=k.length;x>$;$++)o=k[$],o.call(h,g);v.children.length&&f.push(v.children),v.watch_any.length&&i.push.apply(i,v.watch_any),h=d[u++]}d=f.shift()}r.total=m,r.changes=a,r.extraLoop=s,r.anyList=i};f=function(t,r){var i,o,a,s,u,l,f,p,d,h,v,m,g,y,$,w,x,b,k,_;for(s=!1,a=0,m=0,i=[],f=[],d=[t];d;){for(h=d[0],u=1;h;){for(v=h.$system,m+=v.watchList.length,k=v.watchList,$=0,x=k.length;x>$;$++)if(y=k[$],r.src=y.src,l=y.value,g=y.exp(h),l!==g){if(p=!1,y.isArray?c(l,g)&&(y.value=n.isArray(g)?g.slice():g,p=!0):y.deep?e.utilits.equal(l,g)||(p=!0,y.value=e.utilits.clone(g)):(p=!0,y.value=g),p)for(p=!1,a++,y.extraLoop&&(s=!0),_=y.callbacks.slice(),w=0,b=_.length;b>w;w++)o=_[w],o.call(h,g);e.debug.scan&&console.log("changed:",y.src)}v.children.length&&f.push(v.children),v.watch_any.length&&i.push.apply(i,v.watch_any),h=d[u++]}d=f.shift()}return r.total=m,r.changes=a,r.extraLoop=s,r.anyList=i},r.prototype.$scan=function(t){var r,i,o,a,u,c,l,p,d,h,m,g,y,$,w;if(t=t||{},n.isFunction(t)&&(t={callback:t}),l=this.$system.root,h=t.top||l,t.callback&&l.$system.scan_callbacks.push(t.callback),"scaning"===l.$system.status)return void(l.$system.extraLoop=!0);if(t.late){if(h!==l)throw"conflict: late and top";if(l.$system.lateScan)return;return l.$system.lateScan=!0,void e.nextTick(function(){return l.$system.lateScan?l.$scan():void 0})}l.$system.lateScan=!1,l.$system.status="scaning",e.debug.scan&&(d=s()),u=10;try{for(;u;){if(u--,l.$system.extraLoop=!1,c={},e.debug.optimize?v(h,c):f(h,c),c.changes)for(w=c.anyList,m=0,y=w.length;y>m;m++)(i=w[m])();if(!c.extraLoop&&!l.$system.extraLoop)break}e.debug.scan&&(o=s()-d,console.log("$scan: ("+(10-u)+") "+c.total+" / "+o+"ms"))}catch(x){a=x,e.exceptionHandler(a,"$scan, error in expression: "+c.src,{src:c.src,result:c})}finally{for(l.$system.status=null,p=l.$system.scan_callbacks.slice(),l.$system.scan_callbacks.length=0,g=0,$=p.length;$>g;g++)r=p[g],r.call(l)}if(0===u)throw"Infinity loop detected"},function(){var t,n,i;return t={},i={},n=function(t){var e,n,r;for(n=0,r=t.length;r>n;n++)if(e=t[n],"expression"===e.type&&!e["static"])return!1;return!0},r.prototype.$compileText=function(r,o){var a,s,u,c,l,f,p,d,h,v,m,g,y;if(p=this,o=o||{},f=i[r])return f;if(r.indexOf(e.utilits.pars_start_tag)<0)return o.result_on_static?r:function(){return r};for(c=e.utilits.parsText(r),c.scope=p,s=function(){var e,n,i,o,a;if(f=t[r])return function(){return f.call(c)};for(i=[],n=o=0,a=c.length;a>o;n=++o)e=c[n],"expression"===e.type?i.push(e.fn?"this["+n+"].fn(this.scope)":"((x=this["+n+"].value) || (x == null?'':x))"):e.value&&i.push('"'+e.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"');return i=i.join(" + "),f=new Function("var x; return ("+i+")"),t[r]=f,function(){return f.call(c)}},h=function(){var t,e,n,o,a;for(n=[],e=o=0,a=c.length;a>o;e=++o)t=c[e],"expression"===t.type?n.push("("+t.re+")"):t.value&&n.push('"'+t.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"');return n=n.join(" + "),f=new Function("$$scope","var $$, __; return ("+n+")"),i[r]=f,f},m=0,d=!0,g=0,y=c.length;y>g;g++)u=c[g],"expression"===u.type&&("="===u.list[0][0]&&(u.list[0]="#bindonce "+u.list[0].slice(1)),l=u.list.join(" | "),"#"===l[0]?(d=!1,function(t){var r,i;return r=!1,i={data:t,setter:function(e){return t.value=e},"finally":function(e){return 1===arguments.length&&i.setter(e),t["static"]=!0,r&&o.onStatic&&n(c)?o.onStatic():void 0}},e.text.$base(p,t,i),r=!0}(u),u["static"]||m++):(a=p.$compile(l,{stringOrOneTime:!0,full:!0,rawExpression:!0,noBind:!0}),a.oneTime?(d=!1,function(t,e){return t.fn=function(){var r;return r=e.fn(p),void 0===r?"":(null===r&&(r=""),t.fn=function(){return r},t["static"]=!0,o.onStatic&&n(c)&&o.onStatic(),r)}}(u,a)):(u.fn=a.fn,a.rawExpression?u.re=a.rawExpression:d=!1),m++));return m?d?h():s():(v=s()(),o.result_on_static?v:function(){return v})}}(),r.prototype.$evalText=function(t){return this.$compileText(t)(this)},r.prototype.$watchText=function(t,r,i){var o,a,s,u,c;if(u=this,i=i||{},e.debug.watchText&&console.log("$watchText",t),c=u.$system.watches,o=c[t])i.readOnly||(o.extraLoop=!0);else{if(o={extraLoop:!i.readOnly,isArray:!1,callbacks:[],onStatic:[],src:t},a=u.$compileText(t,{result_on_static:!0,onStatic:function(){var e,n,r,i,s,l;for(r=a.call(u),n=function(){return o.exp=function(){return r},u.$scan(function(){var e;return o.callbacks.length=0,delete c[t],e=u.$system.watchList.indexOf(o),e>=0?u.$system.watchList.splice(e,1):void 0})},"scaning"===u.$system.root.$system.status?n():o.exp=function(){if("scaning"!==u.$system.root.$system.status)throw"Error, no scanning";return n(),r},l=o.onStatic,i=0,s=l.length;s>i;i++)(e=l[i])(r);return null}}),!n.isFunction(a))return{value:a};o.exp=a,o.value=a(u),c[t]=o,u.$system.watchList.push(o)}return i.onStatic&&o.onStatic.push(i.onStatic),o.callbacks.push(r),s={$:o,value:o.value,exp:o.exp,stop:function(){var e;if(e=o.callbacks.indexOf(r),e>=0){if(o.callbacks.splice(e,1),0!==o.callbacks.length)return;if(delete c[t],e=u.$system.watchList.indexOf(o),e>=0)return u.$system.watchList.splice(e,1)}}}},e.nextTick=function(){var t,n,r;return r=null,n=[],t=function(){var t,i,o,a,s,u,c;for(r=null,i=n.slice(),n.length=0,u=0,c=i.length;c>u;u++){a=i[u],t=a[0],s=a[1];try{t.call(s)}catch(l){o=l,e.exceptionHandler(o,"$nextTick, error in function",{fn:t})}}return null},function(e){return n.push([e,this]),r?void 0:r=setTimeout(t,0)}}(),e.getController=function(n,r){var i;if(i=r.$ns?(r.$ns.controllers||{})[n]:e.controllers[n]||t&&window[n],!i)throw"Controller isn't found: "+n;if(!(i instanceof Function))throw"Wrong controller: "+n;return i},e.getFilter=function(t,n){var r;if(r=n.$ns?(n.$ns.filters||{})[t]:e.filters[t],!r)throw"Filter not found: "+t;return r},e.text.$base=function(t,n,r){var i,o,a,s,u;if(a=n.list[0],u=a.indexOf(" "),0>u?(o=a.slice(1),a=""):(o=a.slice(1,u),a=a.slice(u)),i=e.text[o],!i)throw"No directive alight.text."+o;return n.list.length>1&&(s=e.utilits.filterBuilder(t,null,n.list.slice(1)),r.setter=function(t){return n.value=s(t)}),i(r.setter,a,t,r)},e.applyBindings=function(t,n,r){var i,o,a,s,u;if(!n)throw"No element";if(t||(t=new e.Scope),o=!t.$system.root.$system.finishBinding_lock,o&&(t.$system.root.$system.finishBinding_lock=!0),r=r||{},l(t,n,r),o)for(t.$system.root.$system.finishBinding_lock=!1,a=t.$system.root.$system.finishBinding_callbacks.slice(),t.$system.root.$system.finishBinding_callbacks.length=0,s=0,u=a.length;u>s;s++)(i=a[s])();return null},e.bootstrap=function(t){var r,i,o,a,s,u,c,l,f;for(t||(t=n.find(document,"[al-app]")),n.isArray(t)||void 0!==t.length||(t=[t]),l=0,f=t.length;f>l;l++)a=t[l],a.ma_bootstrapped||(a.ma_bootstrapped=!0,r=n.attr(a,"al-app"),r?"#"===r[0]?(u=r.split(" "),c=u[0].substring(1),o=u[1],s=e.apps[c],s?o&&console.error('New controller on exists scope: al-app="'+r+'"'):(e.apps[c]=s=e.Scope(),o&&(i=e.getController(o,s))(s))):(s=e.Scope(),(i=e.getController(r,s))(s)):s=e.Scope(),e.applyBindings(s,a,{skip_attr:"al-app"}));return null}}.call(this),function(){var t,n;e.utilits.getId=function(){var t,e;return e=function(){var t,e,n,r,i,o;for(o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=Math.floor((new Date).valueOf()/1e3)-1388512800,i="";n>0;)t=Math.floor(n/62),r=62*t,e=n-r,n=t,i=o[e]+i;return i}(),t=1,function(){return e+"#"+t++}}(),e.utilits.filterBuilder=function(t,n,r){var i,o,a,s,u,c,l,f;if(!r||!r.length)return n;for(l=0,f=r.length;f>l;l++)o=r[l],i=o.match(/\s*([\w\d_]+?)\s*:\s*(.*?)\s*$/),i?(u=i[1],c=i[2]):(u=o.trim(),c=null),a=e.getFilter(u,t,c),s=a.call(t,c,t),n=n?function(t,e){return function(n){return t(e(n))}}(s,n):s;return n},e.utilits.clone=t=function(e){var n,r,i,o;if(!e)return e;if("object"==typeof e){if(e instanceof Array)return i=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(t(n));return o}();if(e instanceof Date)return new Date(e);if(e.nodeType&&"function"==typeof e.cloneNode)return e;i={};for(r in e)o=e[r],"$alite_id"!==r&&(i[r]=t(o));return i}return e},e.utilits.equal=n=function(t,e){var r,i,o,a,s,u,c,l;if(!t)return t===e;if(a=typeof t,s=typeof e,a!==s)return!1;if("object"===a){if(t instanceof Array){if(t.length!==e.length)return!1;for(r=c=0,l=t.length;l>c;r=++c)if(u=t[r],!n(u,e[r]))return!1;return!0}if(t instanceof Date)return t.valueOf()===e.valueOf();if(t.nodeType&&"function"==typeof t.cloneNode)return t===e;o={};for(i in t)if(u=t[i],"$alite_id"!==i&&(o[i]=!0,!n(u,e[i])))return!1;for(i in e)if(u=e[i],"$alite_id"!==i&&!o[i]&&!n(u,t[i]))return!1;return!0}return t===e},e.utilits.dataByElement=function(t,e){var n;return n=t.al,n||(t.al=n={}),e?(n[e]||(n[e]={}),n[e]):n},e.exceptionHandler=function(t,e,n){var r;return console.warn(e,n),r="string"==typeof t?t:t.stack,console.error(r)}}.call(this),function(){var t,n;n=["instanceof","typeof","in","null","true","false","undefined","function","return"],e.utilits.parsExpression=function(t,r){var i,o,a,s,u,c,l,f,p,d,h,v,m,g,y,$,w,x,b,k,_,D,C,O,L,A;if(r=r||{},l=r.input||[],c=0,g=[],m=0,b=[],x=[],$=[],w=[],v=function(e,r,i,o){var a,s,u,f,p,d,h;for(d="",h=-1,p=!1,f=function(){var t;if(d&&!(n.indexOf(d)>=0||(t=d.split(".")[0],l.indexOf(t)>=0||d[0].match(/[\d\.]/))))return b.push(h),x.push(d),$.push(!1),w.push(!1),!0};c<t.length;){if(u=t[c-1],a=t[c],c+=1,s=t[c],i&&(a.match(/[\d\w_\.\$]/)?(d||(h=c-1),d+=a):("}"===r&&":"===t.substring(c-1).trim()[0]&&(d=""),f()&&(p=c),d="")),a===r)return;p&&" "!==a&&p!==c&&(p=!1),"="===a&&"="!==u&&"="!==s&&($[$.length-1]=!0),"("!==a||o?"["!==a||o?"{"!==a||o?'"'===a?v(e+1,'"',!1,!0):"'"===a?v(e+1,"'",!1,!0):"|"===a&&0===e&&("|"===s?c+=1:(i=!1,g.push(t.substring(m,c-1)),m=c)):v(e+1,"}",!0):v(e+1,"]",i):(p&&(w[w.length-1]=!0),v(e+1,")",i))}return 0===e&&g.push(t.substring(m)),f()},v(0,null,!0),b.length){for(s=g[0],u=k=b.length-1;k>=0;u=k+=-1){if(d=b[u],y=x[u],i=$[u],f=w[u],a=y.split("."),o=!1,a.length>1&&!i&&(o=f?a.length>2:!0),o){if(h=null,"this"===a[0]&&(a[0]="$$scope",2===a.length&&(h="$$scope."+a[1])),!h)if(p=[],p.push("($$=$$scope."+a[0]+",$$==null)?undefined:"),f){for(L=a.slice(1,+(a.length-3)+1||9e9),_=0,C=L.length;C>_;_++)u=L[_],p.push("($$=$$."+u+",$$==null)?undefined:");p.push("$$."+a[a.length-2]),h="("+p.join("")+")."+a[a.length-1]}else{for(A=a.slice(1,+(a.length-2)+1||9e9),D=0,O=A.length;O>D;D++)u=A[D],p.push("($$=$$."+u+",$$==null)?undefined:");p.push("$$."+a[a.length-1]),h="("+p.join("")+")"}}else h="this"===y?"$$scope":"this"===a[0]?"$$scope."+a.slice(1).join("."):"$$scope."+y;s=s.slice(0,d)+h+s.slice(d+y.length)}g[0]=s}return e.debug.parser&&console.log("parser",g),g},e.utilits.pars_start_tag="{{",e.utilits.pars_finish_tag="}}",t=function(t){var n,r,i,o,a,s,u,c,l;return l=e.utilits.pars_start_tag,r=e.utilits.pars_finish_tag,u=[],o=0,s=0,i=function(e){var n;return e=e||1,n=t.substring(s,o-e),s=o,n},c=null,a=function(e,n,s){var l,f,p,d;for(e||(c={type:"expression",list:[]},u.push(c)),d=null,l=null;o<t.length;){if(d=l,l=t[o],o+=1,f=d+l,p=t[o],l===n)return;if(!s){if(f===r&&0===e)return c.list.push(i(2)),!0;"("===l?a(e+1,")"):"{"===l?a(e+1,"}"):'"'===l?a(e+1,'"',!0):"'"===l?a(e+1,"'",!0):"|"===l&&0===e&&("|"===p?o+=1:c.list.push(i()))}}},n=function(){var e,n,r,s,c;for(r=null,e=null;o<t.length;)if(r=e,e=t[o],o+=1,n=r+e,n===l){if(c=i(2),c&&u.push({type:"text",value:c}),!a(0))throw"Wrong expression"+t;e=null}return s=i(-1),s?u.push({type:"text",value:s}):void 0},n(),e.debug.parser&&console.log("parsText",u),u},function(){var n,r;return n={},r=function(t){var e,n,r;return r=function(){var r,i,o;for(o=[],r=0,i=t.length;i>r;r++)e=t[r],n={type:e.type,value:e.value},e.list&&(n.list=e.list.slice()),o.push(n);return o}()},e.utilits.parsText=function(e){var i;return i=n[e],i||(n[e]=i=t(e)),r(i)}}()}.call(this),function(){var t,r,i,o,a,s,u,c;for(e.text.bindonce=function(t,e,n,r){return r["finally"](n.$eval(e))},r=e.directives.al,r.debug={priority:5e3,init:function(t,n,r){return e.debug=n?r.$eval(n):-1}},r.text=function(t,e,r){var i,o;return i="",o={start:function(){return o.watchModel(),o.initDom()},updateDom:function(e){return(void 0===e||null===e)&&(e=""),n.text(t,e)},watchModel:function(){var t;return t=r.$watch(e,o.updateDom,{readOnly:!0}),i=t.value},initDom:function(){return o.updateDom(i)}}},r.value=function(t,r,i){var o,a;return o=null,a={changing:!1,onDom:function(){return n.on(t,"input",a.updateModel),n.on(t,"change",a.updateModel)},updateModel:function(){return e.nextTick(function(){var e;return e=n.val(t),a.changing=!0,i.$setValue(r,e),i.$scan(function(){return a.changing=!1})})},watchModel:function(){var t;return t=i.$watch(r,a.updateDom,{readOnly:!0}),o=t.value},updateDom:function(e){return a.changing?void 0:void 0!==e&&null!==e?n.val(t,e):void 0},initDom:function(){return a.updateDom(o)},start:function(){return a.onDom(),a.watchModel(),a.initDom()}}},t=function(t){return{priority:10,init:function(r,i,o,a){var s;return s={callback:o.$compile(i,{no_return:!0,noBind:!0}),start:function(){return s.onDom(),s.stop=a.takeAttr("al-click-stop")},onDom:function(){return n.on(r,t,s.doCallback)},doCallback:function(t){if(s.stop||(t.preventDefault(),t.stopPropagation()),!n.attr(r,"disabled")){try{s.callback(o)}catch(a){t=a,e.exceptionHandler(t,"al-click, error in expression: "+i,{name:i,scope:o,element:r})}return s.stop&&o.$eval(s.stop)&&(t.preventDefault(),t.stopPropagation()),o.$scan()}}}}}},r.click=t("click"),r.dblclick=t("dblclick"),r.submit=function(t,r,i){var o;return o={callback:i.$compile(r,{no_return:!0,noBind:!0}),start:function(){return o.onDom()},onDom:function(){return n.on(t,"submit",o.doCallback)},doCallback:function(n){n.preventDefault(),n.stopPropagation();try{o.callback(i)}catch(a){n=a,e.exceptionHandler(n,"al-submit, error in expression: "+r,{name:r,scope:i,element:t})}return i.$scan()}}},r.controller={priority:500,restrict:"AE",init:function(t,n,r,i){var o,a;return a=r.$new(),n&&(o=e.getController(n,a))(a),e.applyBindings(a,t,{skip_attr:i.skippedAttr()}),{owner:!0}}},r.checked={priority:100,init:function(t,e,r){var i,o;return i=!1,o={changing:!1,start:function(){return o.onDom(),o.watchModel(),o.initDom()},onDom:function(){return n.on(t,"change",o.updateModel)},updateModel:function(){var i;return i=n.prop(t,"checked"),o.changing=!0,r.$setValue(e,i),r.$scan(function(){return o.changing=!1})},watchModel:function(){var t;return t=r.$watch(e,o.updateDom,{readOnly:!0}),i=!!t.value},updateDom:function(e){return o.changing?void 0:n.prop(t,"checked",!!e)},initDom:function(){return o.updateDom(i)}}}},r.radio={priority:10,init:function(t,e,r,i){var o,a;return o=!1,a={changing:!1,start:function(){return a.makeValue(),a.onDom(),a.watchModel(),a.initDom()},makeValue:function(){var t,e;return t=i.takeAttr("al-value"),e=t?r.$eval(t):i.takeAttr("value"),a.value=e},onDom:function(){return n.on(t,"change",a.updateModel)},updateModel:function(){return a.changing=!0,r.$setValue(e,a.value),r.$scan(function(){return a.changing=!1})},watchModel:function(){var t;return t=r.$watch(e,a.updateDom,{readOnly:!0}),o=t.value},updateDom:function(e){return a.changing?void 0:n.prop(t,"checked",e===a.value)},initDom:function(){return a.updateDom(o)}}}},r.css={priority:30,init:function(t,r,i){var o;return o={start:function(){return o.parsLine(),o.prepare()},parsLine:function(){var n,a,s,u,c,l;for(o.list=s=[],l=r.split(","),u=0,c=l.length;c>u;u++)n=l[u],a=n.indexOf(":"),0>a?e.exceptionHandler(n,"al-css, error in expression: "+r,{exp:r,e:n,scope:i,element:t}):s.push({css:n.slice(0,+(a-1)+1||9e9).trim().split(" "),exp:n.slice(a+1).trim()});return null},prepare:function(){var t,e,n,r,a,s;for(s=o.list,r=0,a=s.length;a>r;r++)e=s[r],t=function(t){return function(e){return o.draw(t,e)}}(e),n=i.$watch(e.exp,t,{readOnly:!0,init:!0});return null},draw:function(e,r){var i,o,a,s,u,c,l,f,p;if(r){for(c=e.css,f=[],o=0,s=c.length;s>o;o++)i=c[o],f.push(n.addClass(t,i));return f}for(l=e.css,p=[],a=0,u=l.length;u>a;a++)i=l[a],p.push(n.removeClass(t,i));return p}}}},o=function(t){var e;return e={priority:700,init:function(e,r,i){var o;return o=i.$eval(r),!o===t?(n.remove(e),{owner:!0}):void 0}}},e.directives.bo["if"]=o(!0),e.directives.bo.ifnot=o(!1),r["if"]={priority:700,init:function(t,r,i,o){var a,s,u,c,l,f;return c=null,s=null,a=null,f=null,u=!1,l={direction:!0,owner:!0,start:function(){return l.prepare(),l.watchModel(),l.initUpdate()},prepare:function(){return a=t,f=n.createComment(" "+o.attrName+": "+r+" "),n.before(t,f),n.remove(t)},updateDom:function(t){if(!t===l.direction){if(!s)return;return s.$destroy(),l.removeDom(c),s=null,c=null}if(!s)return c=n.clone(a),l.insertDom(f,c),s=i.$new(),e.applyBindings(s,c,{skip_attr:o.skippedAttr()})},watchModel:function(){var t;return t=i.$watch(r,l.updateDom,{readOnly:!0}),u=!!t.value},initUpdate:function(){return l.updateDom(u)
},removeDom:function(t){return n.remove(t)},insertDom:function(t,e){return n.after(t,e)}}}},r.ifnot={priority:700,init:function(){return r=e.directives.al["if"].init.apply(this,arguments),r.direction=!1,r}},r.show=function(t,e,r){var i,o;return i=!1,o={showDom:function(){return n.show(t)},hideDom:function(){return n.hide(t)},updateDom:function(t){return t?o.showDom():o.hideDom()},watchModel:function(){var t;return t=r.$watch(e,o.updateDom,{readOnly:!0}),i=t.value},initDom:function(){return o.updateDom(i)},start:function(){return o.watchModel(),o.initDom()}}},r.hide=function(t,n,r,i){var o;return o=e.directives.al.show(t,n,r,i),o.updateDom=function(t){return t?o.hideDom():o.showDom()},o},r.app={priority:2e3,init:function(){return{owner:!0}}},r.stop={priority:-10,restrict:"AE",init:function(){return{owner:!0}}},r.init=function(t,n,r){var i,o;try{o=r.$compile(n,{no_return:!0,noBind:!0}),o(r)}catch(a){i=a,e.exceptionHandler(i,"al-init, error in expression: "+n,{exp:n,scope:r,element:t})}return r.$scan({late:!0})},r.include={priority:100,init:function(t,r,i,o){var a,s,u,c,l,f;return u=null,s=null,f=null,a=null,c=null,l={owner:!0,topElement:null,start:function(){return l.prepare(),l.watchModel(),l.initUpdate()},prepare:function(){return s=t,f=n.createComment(" "+o.attrName+": "+r+" "),n.before(t,f),n.remove(t)},loadHtml:function(t){return n.ajax(t)},removeBlock:function(){return u&&(u.$destroy(),u=null),a?(l.removeDom(a),a=null):void 0},insertBlock:function(t){return a=n.clone(s),n.html(a,t),l.insertDom(f,a),u=i.$new(),e.applyBindings(u,a,{skip_attr:o.skippedAttr()})},updateDom:function(t){return t?l.loadHtml({cache:!0,url:t,success:function(t){return l.removeBlock(),l.insertBlock(t)},error:l.removeBlock}):l.removeBlock()},removeDom:function(t){return n.remove(t)},insertDom:function(t,e){return n.after(t,e)},watchModel:function(){var t;return t=i.$watch(r,l.updateDom,{readOnly:!0}),c=t.value},initUpdate:function(){return l.updateDom(c)}}}},r.html={priority:100,init:function(t,r,i,o){var a,s,u;return a=null,u=function(r){return a&&(a.$destroy(),a=null),r?(n.html(t,r),a=i.$new(),e.applyBindings(a,t,{skip_attr:o.skippedAttr()})):void n.html(t,"")},s=i.$watch(r,u,{readOnly:!0}),u(s.value),{owner:!0}}},e.directives.bo["switch"]={priority:500,init:function(t,n,r,i){var o;return o=r.$new(),o.$switch={value:r.$eval(n),on:!1},e.applyBindings(o,t,{skip_attr:i.skippedAttr()}),{owner:!0}}},e.directives.bo.switchWhen={priority:500,init:function(t,e,r){return r.$switch.value!==e?(n.remove(t),{owner:!0}):r.$switch.on=!0}},e.directives.bo.switchDefault={priority:500,init:function(t,e,r){return r.$switch.on?(n.remove(t),{owner:!0}):null}},r.src=function(t,e,r){var i,o;return o=function(e){return e||(e=""),n.attr(t,"src",e)},i=r.$watchText(e,o,{readOnly:!0}),o(i.value)},e.directives.bo.src=function(t,e,r){var i;return i=r.$evalText(e),i?n.attr(t,"src",i):void 0},r.enable=function(t,e,r){var i,o;return i=function(e){return e?n.removeAttr(t,"disabled"):n.attr(t,"disabled","disabled")},o=r.$watch(e,i,{readOnly:!0}),i(o.value)},r.disable=function(t,e,r){var i,o;return i=function(e){return e?n.attr(t,"disabled","disabled"):n.removeAttr(t,"disabled")},o=r.$watch(e,i,{readOnly:!0}),i(o.value)},r.readonly=function(t,e,r){var i,o;return i=function(e){return n.prop(t,"readOnly",!!e)},o=r.$watch(e,i,{readOnly:!0}),i(o.value)},c=["keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","focus","blur","change"],a=function(t){return r[t]=function(r,i,o){var a;return a={start:function(){return a.makeCaller(),a.onDom()},makeCaller:function(){return a.caller=o.$compile(i,{no_return:!0,noBind:!0,input:["$event"]})},onDom:function(){return n.on(r,t,a.callback)},callback:function(n){try{a.caller(o,n)}catch(s){n=s,e.exceptionHandler(n,t+", error in expression: "+i,{exp:i,scope:o,element:r})}return o.$scan()}}}},s=0,u=c.length;u>s;s++)i=c[s],a(i);r.cloak=function(t,e,r,i){return n.removeAttr(t,i.attrName),e?n.removeClass(t,e):void 0},r.focused=function(t,e,r){var i,o;return i=!1,o={changing:!1,updateModel:function(t){return o.changing?void 0:(o.changing=!0,r.$setValue(e,t),r.$scan(function(){return o.changing=!1}))},onDom:function(){return n.on(t,"focus",function(){return o.updateModel(!0)}),n.on(t,"blur",function(){return o.updateModel(!1)})},updateDom:function(e){return o.changing?void 0:(o.changing=!0,e?n.focus(t):n.blur(t),o.changing=!1)},watchModel:function(){var t;return t=r.$watch(e,o.updateDom,{readOnly:!0}),i=t.value},initDom:function(){return o.updateDom(i)},start:function(){return o.onDom(),o.watchModel(),o.initDom()}}}}.call(this),function(){e.directives.al.repeat={priority:1e3,init:function(t,r,i,o){var a;return a={owner:!0,start:function(){return a.prepare(),a.parsExpression(),a.prepareDom(),a.watchModel(),a.initUpdateDom()},prepare:function(){var t;return t=o.takeAttr("al-controller"),a.childController=t?e.getController(t,i):null},parsExpression:function(){var t,e;if(e=r,t=e.match(/(.*) store to ([\w\.]+)/),t&&(a.storeTo=t[2],e=t[1]),t=e.match(/(.*) track by ([\w\.\$\(\)]+)/),t&&(a.trackExpression=t[2],e=t[1]),t=e.match(/\s*(\w+)\s+in\s+(.+)/),!t)throw"Wrong repeat: "+r;return a.nameOfKey=t[1],a.expression=t[2]},watchModel:function(){return a.watch=i.$watch(a.expression,a.updateDom,{isArray:!0,readOnly:!a.storeTo})},initUpdateDom:function(){return a.updateDom(a.watch.value)},prepareDom:function(){return a.base_element=t,a.top_element=n.createComment(" "+r+" "),n.before(t,a.top_element),n.remove(t)},makeChild:function(t,e,n){var r;return r=i.$new(),a.updateChild(r,t,e,n),a.childController&&a.childController(r),r},updateChild:function(t,e,n,r){return t[a.nameOfKey]=e,t.$index=n,t.$first=0===n,t.$last=n===r.length-1},rawUpdateDom:function(t,e){var r,i,o,a,s,u;for(o=0,s=t.length;s>o;o++)r=t[o],n.remove(r);for(a=0,u=e.length;u>a;a++)i=e[a],n.after(i.after,i.element);return null},updateDom:function(){var r,s,u,c,l;return l=[],c={},s=null,u=0,r=null,function(f){var p,d,h,v,m,g,y,$,w,x,b,k,_,D,C,O,L,A,T,M,B,S,N,E;for(s||("$index"===a.trackExpression?s=function(){return r=u,c[r]||null}:a.trackExpression?(C=i.$compile(a.trackExpression,{input:["$id",a.nameOfKey]}),L=function(t){var n;return(n=t.$alite_id)?n:n=t.$alite_id=e.utilits.getId()},s=function(t){return r=C(L,t),r?c[r]:null}):s=function(t){return(r=t.$alite_id)?c[r]:(r=e.utilits.getId(),t.$alite_id=r,null)}),f&&f.length||(f=[]),a.storeTo&&(i.$setValue(a.storeTo,f),i.$scan({late:!0})),$=a.top_element,h=[],b=[],O=0,B=l.length;B>O;O++)x=l[O],x.active=!1;for(u=A=0,S=f.length;S>A;u=++A)g=f[u],x=s(g),x&&(x.active=!0);for(v=function(){var t,e,n;for(n=[],t=0,e=l.length;e>t;t++)x=l[t],x.active||(x.prev&&(x.prev.next=x.next),x.next&&(x.next.prev=x.prev),delete c[x.$id],x.scope.$destroy(),n.push(x.element));return n}(),p=[],k=null,_=null,u=T=0,N=f.length;N>T;u=++T)if(g=f[u],y=g,g=g||{},x=s(g)){if(a.updateChild(x.scope,g,u,f),x.prev===_){_=x,$=x.element,x.active=!0,b.push(x);continue}x.prev=_,_&&(_.next=x),h.push({element:x.element,after:_?_.element:a.top_element}),$=x.element,_=x,x.active=!0,b.push(x)}else d=a.makeChild(y,u,f),t=n.clone(a.base_element),p.push([d,t]),h.push({element:t,after:$}),x={$id:r,scope:d,element:t,prev:_,next:null,active:!0,item:g},c[r]=x,_?(w=_.next,_.next=x,x.next=w,w&&(w.prev=x)):0===u&&l[0]&&(w=l[0],x.next=w,w.prev=x),_=x,$=t,b.push(x);for(l=b,a.rawUpdateDom(v,h),D=o.skippedAttr(),M=0,E=p.length;E>M;M++)m=p[M],e.applyBindings(m[0],m[1],{skip_attr:D});return null}}()}}},e.directives.bo.repeat={priority:1e3,init:function(t,n,r,i){var o;return o=e.directives.al.repeat.init(t,n,r,i),o.start=function(){return o.prepare(),o.parsExpression(),o.prepareDom(),o.watch={value:r.$eval(o.expression)},o.initUpdateDom()},o}}}.call(this),function(){var t,n,r;e.filters.filter=function(t,e){var n;return n=e.$compile(t),function(t){var e,r,i,o,a,s,u;if(r=n(),!r)return t;if("string"==typeof r)r={$:r};else if("object"!=typeof r)return t;return s=function(){var n,s,c;for(c=[],n=0,s=t.length;s>n;n++)if(a=t[n],"object"==typeof a){if(i=!0,r.$){i=!1,e=r.$.toLowerCase();for(o in a)if(u=a[o],"$alite_id"!==o&&(""+u).toLowerCase().indexOf(e)>=0){i=!0;break}if(!i)continue}i=!0;for(o in r)if(u=r[o],e=a[o],e&&(""+e).toLowerCase().indexOf((""+u).toLowerCase())<0){i=!1;break}if(!i)continue;c.push(a)}else{if(!r.$)continue;if(e=r.$.toLowerCase(),(""+a).toLowerCase().indexOf(e)<0)continue;c.push(a)}return c}()}},e.filters.slice=function(t,e){var n;return n=e.$compile("["+t+"]"),function(t){return[].slice.apply(t,n())}},t=function(t){return 10>t?"0"+t:""+t},n=function(e,n){var r,i,o,a,s;if(!n)return"";for(o=[[/yyyy/g,n.getFullYear()],[/mm/g,t(n.getMonth()+1)],[/dd/g,t(n.getDate())],[/HH/g,t(n.getHours())],[/MM/g,t(n.getMinutes())],[/SS/g,t(n.getSeconds())]],i=e,a=0,s=o.length;s>a;a++)r=o[a],i=i.replace(r[0],r[1]);return i},e.filters.date=function(t){return function(e){return n(t,e)}},e.filters.generator=function(){var t;return t=[],function(e){if(t.length>=e)t.length=e;else for(;t.length<e;)t.push({});return t}},r=function(t){return JSON.stringify(e.utilits.clone(t),null,4)},e.filters.json=function(){return r}}.call(this),"function"==typeof alightInitCallback?(e.autostart=!1,alightInitCallback(e)):(window.alight=e,window.f$=n,t=!0),n.ready(function(){e.autostart&&e.bootstrap()})}();
