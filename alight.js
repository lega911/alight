!function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r,o=t?t:0;if(!this)throw new TypeError;if(r=this.length,0===r||o>=r)return-1;for(0>o&&(o=r-Math.abs(o)),n=o;r>n;n++)if(this[n]===e)return n;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),window.f$||(window.f$={}),f$.browser=function(){var e,t=navigator.appName,n=navigator.userAgent.toLowerCase(),r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!=(e=n.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),r=r?[r[1],r[2]]:[t,navigator.appVersion,"-?"],{name:r[0],version_string:r[1],version:Number(r[1].match(/\d+/))}}();var e=!1,t=!1,n=!1,r=window.$;if(f$.__jquery?(n=5,r=f$.__jquery):(("chrome"===f$.browser.name||"safari"===f$.browser.name)&&(e=!0),"firefox"===f$.browser.name&&(t=f$.browser.version),"msie"===f$.browser.name&&(n=f$.browser.version)),f$.text=n&&8>n?function(e,t){r(e).text(t)}:function(e,t){return 2!==arguments.length?e.textContent||e.innerText:void(void 0!==e.textContent?e.textContent=t:e.innerText=t)},f$.html=n&&6>n?function(e,t){return 2!==arguments.length?r(e).html():void r(e).html(t)}:function(e,t){return 2!==arguments.length?e.innerHTML:void(e.innerHTML=t)},f$.createComment=function(e){return document.createComment(e)},f$.before=function(e,t){var n=e.parentNode;n.insertBefore(t,e)},f$.after=function(e,t){var n=e.parentNode,r=e.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)},f$.remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},n&&9>n?f$.on=function(e,t,n){r(e).on(t,n)}:(f$.on=function(e,t,n){e.addEventListener(t,n,!1)},f$.off=function(e,t,n){e.removeEventListener(t,n,!1)}),f$.clone=function(e){return e.cloneNode(!0)},f$.find=n&&8>n?function(e,t){return r(e).find(t)}:function(e,t){return e.querySelectorAll(t)},n&&8>n?(f$.attr=function(e,t,n){return r(e).attr(t,n)},f$.removeAttr=function(e,t){r(e).removeAttr(t)}):(f$.attr=function(e,t,n){return 2===arguments.length?e.getAttribute(t):void e.setAttribute(t,n)},f$.removeAttr=function(e,t){e.removeAttribute(t)}),f$.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},f$.isObject=function(e){var t={};return e&&"[object Object]"===t.toString.call(e)},f$.isArray=function(e){return e instanceof Array},f$.val=n&&6>n?function(e,t){return 1===arguments.length?r(e).val():void r(e).val(t)}:function(e,t){return 1===arguments.length?e.value:void(e.value=t)},f$.prop=n&&6>n?function(e,t,n){return 2===arguments.length?r(e).prop(t):void r(e).prop(t,n)}:function(e,t,n){return 2===arguments.length?e[t]:void(e[t]=n)},n&&8>n?(f$.addClass=function(e,t){r(e).addClass(t)},f$.removeClass=function(e,t){r(e).removeClass(t)}):(f$.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},f$.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")}),n&&8>n?(f$.show=function(e){r(e).show()},f$.hide=function(e){r(e).hide()}):(f$.show=function(e){f$.removeClass(e,"al-hide")},f$.hide=function(e){f$.addClass(e,"al-hide")}),f$.children=n&&9>n||t&&4>t?function(e){return r(e).children()}:function(e){return e.children},f$.childNodes=function(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)t.push(n[r]);return t},f$.getAttributes=n&&8>n?function(e){var t={},n=r(e);return n.length&&r.each(n.get(0).attributes,function(e,r){var r=r.nodeName||r.name;e=n.attr(r),void 0!=e&&e!==!1&&(t[r]=e)}),t}:function(e){for(var t,n={},r=e.attributes,o=0,i=r.length;i>o;o++)t=r.item(o),n[t.nodeName]=t.value;return n},f$.ready=n&&9>n?function(e){r(e)}:function(){function e(){n=!0,f$.off(document,"DOMContentLoaded",e);for(var r=0;r<t.length;r++)t[r]();t.length=0}var t=[],n=!1;return f$.on(document,"DOMContentLoaded",e),function(e){n?e():t.push(e)}}(),n&&9>n){var o=function(){};f$.ajax=function(e){r.ajax({url:e.url,type:e.type||"GET"}).then(e.success||o,e.error||o)}}else f$.ajax=function(e){var t=new XMLHttpRequest;t.open(e.type||"GET",e.url,!0),t.send(),e.success&&(t.onload=function(){t.status>=200&&t.status<400?e.success(t.responseText):e.error&&e.error()}),e.error&&(t.onerror=e.error)};n&&8>n?(f$.focus=function(e){r(e).focus()},f$.blur=function(e){r(e).blur()}):(f$.focus=function(e){e.focus()},f$.blur=function(e){e.blur()}),function(){var e='@charset "UTF-8";[al-cloak],.al-hide{display:none !important;}',t=f$.find(document,"head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}()}();
(function(){var t,e,n,r,i,s,o,a,l,c,u;window.alight=e={version:"0.6.4",debug:{scan:!1,directive:!1,watch:!1,watchText:!1,parser:!1},autostart:!0,scopes:[],controllers:{},filters:{},utilits:{},directives:{al:{},bo:{},ctrl:{}},text:{},apps:{}},e.directivePreprocessor=i=function(t,n,r){var s,o,a,l;if(n=n.replace(/(-\w)/g,function(t){return t.substring(1).toUpperCase()}),a=e.directives[t][n],!a)return{noDirective:!0};if(s={},f$.isFunction(a))s.init=a;else{if(!f$.isObject(a))throw"Wrong directive: "+t+"."+n;for(o in a)l=a[o],s[o]=l}if(s.priority=a.priority||0,s.restrict=a.restrict||"A",s.restrict.indexOf(r.attr_type)<0)throw"Directive has wrong binding (attribute/element): "+n;return s.$init=function(e,o,a,l){var c,u,p,f,h;for(u={element:e,expression:o,scope:a,env:l,ns:t,name:n,args:r,directive:s,result:{}},h=i.ext,p=0,f=h.length;f>p;p++)c=h[p],c.fn.call(u);return u.result},s},function(){var t;return i.ext=t=[],t.push({code:"init",fn:function(){return this.result=this.directive.init?this.directive.init(this.element,this.expression,this.scope,this.env)||{}:{}}}),t.push({code:"template",fn:function(){return this.directive.template?f$.html(this.element,this.directive.template):void 0}}),t.push({code:"scope",fn:function(){var t;return this.doBinding=!1,this.directive.scope?(t=this.scope,this.scope=t.$new("isolate"===this.directive.scope),this.result.owner=!0,this.doBinding=!0):void 0}}),t.push({code:"link",fn:function(){return this.directive.link?this.directive.link(this.element,this.expression,this.scope,this.env):void 0}}),t.push({code:"scopeBinding",fn:function(){return this.doBinding?e.applyBindings(this.scope,this.element,{skip_attr:this.env.skippedAttr()}):void 0}})}(),c=function(){var t;return t=function(t,e,n){var r;return"A"===e.attr_type?(r=n||{},r.priority=-5,r.is_attr=!0,r.name=t,r.attrName=t,r.element=e.element,e.list.push(r)):void 0},function(n,r){var i,s,o,a;return r.skip_attr.indexOf(n)>=0?t(n,r,{skip:!0}):(s=n.indexOf("-"),0>s?t(n,r):(a=n.substring(0,s),o=n.substring(s+1),e.directives[a]?(i=e.directivePreprocessor(a,o,r),i.noDirective?t(n,r,{noDirective:!0}):r.list.push({name:o,directive:i,priority:i.priority,attrName:n})):t(n,r)))}}(),l=function(t,e){return t.priority===e.priority?0:t.priority>e.priority?-1:1},a=function(){var t,r;return r=function(t,e){var n,r,i,s,o;for(1===arguments.length&&(e=!0),o=this.attributes,i=0,s=o.length;s>i;i++)if(n=o[i],n.attrName===t)return e&&(n.skip=!0),r=f$.attr(this.element,t),r||!0;return null},t=function(){var t,e,n,r,i;for(r=this.attributes,i=[],e=0,n=r.length;n>e;e++)t=r[e],t.skip&&i.push(t.attrName);return i},function(i,s,o){var p,f,h,d,y,v,g,m,$,_,x,k,w,b,O,T,B,A,S,N,E;if(o=o||{},b=!1,w=o.skip_attr||[],w instanceof Array||(w=[w]),!o.skip_top){p={list:_=[],element:s,skip_attr:w,attr_type:"E",scope:i},f=s.nodeName.toLowerCase(),c(f,p),p.attr_type="A",d=f$.getAttributes(s);for(f in d)h=d[f],c(f,p);for(_=_.sort(l),T=0,A=_.length;A>T;T++)if(y=_[T],!y.skip){if(y.noDirective)throw"Directive not found: "+y.name;if(y.skip=!0,O=f$.attr(s,y.attrName),y.is_attr)n(s,O,i,y.attrName);else{v=y.directive,m={element:s,attrName:y.attrName,attributes:_,takeAttr:r,skippedAttr:t},e.debug.directive&&console.log("bind",y.attrName,O,y);try{k=v.$init(s,O,i,m),k&&k.start&&k.start()}catch(F){g=F,console.error("Error in directive:",y.name),$="string"==typeof g?g:g.stack,console.error($)}if(k&&k.owner){b=!0;break}}}}if(!b){for(N=f$.childNodes(s),E=[],B=0,S=N.length;S>B;B++)x=N[B],x&&E.push(1===x.nodeType?a(i,x):3===x.nodeType?u(i,x):void 0);return E}}}(),n=function(t,n,r,i){var s,o,a;return o=n,o.indexOf(e.utilits.pars_start_tag)<0?void 0:(s=function(e){return f$.attr(t,i,e)},a=r.$watchText(o,s,{readOnly:!0}),s(a.value))},u=function(t,n){var r,i,s;return i=n.data,i.indexOf(e.utilits.pars_start_tag)<0?void 0:(r=function(t){return n.nodeValue=t},s=t.$watchText(i,r,{readOnly:!0}),r(s.value))},t=function(){return this instanceof t?(this.$system={watches:{},watch_any:[],root:this,children:[],scan_callbacks:[],destroy_callbacks:[],finishBinding_callbacks:[],finishBinding_lock:!1},this):new t},e.Scope=t,t.prototype.$watch=function(t,n,r){var i,s,o,a,l,c,u,p;if(c=this,r===!0?r={isArray:!0}:r||(r={}),r.is_array&&(r.isArray=!0),f$.isFunction(t))s=t,o=e.utilits.getId();else{if(s=null,t=t.trim(),"::"===t.slice(0,2)&&(t=t.slice(2),r.oneTime=!0),o=t,"$any"===o)return c.$system.watch_any.push(n);if("$destroy"===o)return c.$system.destroy_callbacks.push(n);if("$finishBinding"===o)return c.$system.root.$system.finishBinding_callbacks.push(n);o=r.deep?"d#"+o:r.isArray?"a#"+o:"v#"+o}return e.debug.watch&&console.log("$watch",t),p=c.$system.watches,i=p[o],i?r.readOnly||(i.extraLoop=!0):(s=s||c.$compile(t,{noBind:!0}),u=s.call(c),r.deep?(u=e.utilits.clone(u),r.isArray=!1):r.isArray&&f$.isArray(u)&&(u=u.slice()),p[o]=i={isArray:Boolean(r.isArray),extraLoop:!r.readOnly,deep:r.deep,value:u,callbacks:[],exp:s}),a={$:i,value:i.value},r.oneTime&&(l=n,n=function(t){return void 0!==t?(a.stop(),l(t)):void 0}),i.callbacks.push(n),a.stop=function(){var t;if(t=i.callbacks.indexOf(n),t>=0){if(i.callbacks.splice(t,1),0!==i.callbacks.length)return;return delete p[o]}},r.init&&n(a.value),a},t.prototype.$fire=function(t){var e;return(e=this.$system.watches[t])?e.fire=!0:void 0},r={},t.prototype.$compile=function(t,n){var i,s,o,a,l,c,u,p,f,h,d,y;if(n=n||{},h={},t=t.trim(),"::"===t.slice(0,2)&&(t=t.slice(2),h.oneTime=!0),n.stringOrOneTime&&(n.string=!h.oneTime),p=t+"#",p+=n.no_return?"+":"-",p+=n.string?"s":"v",n.input&&(p+=n.input.join(",")),y=this,u=r[p])return h.fn=n.noBind?u:function(){var e;try{return u.apply(y,arguments)}catch(n){return e=n,console.error("ERROR IN",t),console.error(e.stack?e.stack:e)}},n.full?h:h.fn;o=t,f=n.no_return||!1,l=e.utilits.parsExpression(o,{input:n.input}),o=l[0],c=l.slice(1),f?d=o:n.string&&!c.length?(d="var __ = ("+o+"); return '' + (__ || (__ == null?'':__))",n.rawExpression&&(h.rawExpression="(__="+o+") || (__ == null?'':__)")):d="return ("+o+")";try{n.input?(i=n.input.slice(),i.push(d),u=Function.apply(null,i)):u=Function(d)}catch(v){throw s=v,"Wrong expression: "+o}return c.length&&(u=e.utilits.filterBuilder(y,u,c),n.string&&(a=u,u=function(){var t=a.apply(this,arguments);return""+(t||(null==t?"":t))})),r[p]=u,h.fn=n.noBind?u:function(){try{return u.apply(y,arguments)}catch(e){return s=e,console.error("ERROR IN",t),console.error(s.stack?s.stack:s)}},n.full?h:h.fn},t.prototype.$eval=function(t){var e,n;return n=this,(e=n.$compile(t))()},t.prototype.$getValue=function(t){var e,n,r,i,s;for(e=this,s=t.split("."),r=0,i=s.length;i>r;r++)n=s[r],e=(e||{})[n];return e},t.prototype.$setValue=function(t,e){var n,r,i,s,o,a,l;for(i=this,r=t.split("."),s=a=0,l=r.length-2;l>=a;s=a+=1)o=r[s],n=i[o],void 0===n&&(i[o]=n={}),i=n;return o=r[r.length-1],i[o]=e},t.prototype.$new=function(t){var n,r,i;return i=this,t?r=e.Scope():(n=function(){},n.prototype=i,r=new n),r.$parent=i,r.$system={watches:{},watch_any:[],root:i.$system.root,children:[],destroy_callbacks:[]},i.$system.children.push(r),r},t.prototype.$destroy=function(){var t,e,n,r,i,s,o,a,l,c;for(r=this,l=r.$system.destroy_callbacks,i=0,o=l.length;o>i;i++)(t=l[i])(r);for(r.$system.destroy_callbacks=[],c=r.$system.children.slice(),s=0,a=c.length;a>s;s++)n=c[s],n.$destroy();return r.$parent&&(e=r.$parent.$system.children.indexOf(r),r.$parent.$system.children.splice(e,1)),r.$parent=null,r.$system.watches={},r.$system.watch_any.length=0},s=function(){return window.performance?function(){return Math.floor(performance.now())}:function(){return(new Date).getTime()}}(),o=function(t,e){var n,r,i,s,o,a;if(null===t||null===e)return!0;if(r=typeof t,i=typeof e,r!==i)return!0;if("object"===r){if(t.length!==e.length)return!0;for(n=o=0,a=t.length;a>o;n=++o)if(s=t[n],s!==e[n])return!0}return!1},t.prototype.$scan=function(t){var n,r,i,a,l,c,u,p,f,h,d,y,v,g,m,$,_,x,k,w,b,O,T,B,A,S,N,E;if(t=t||{},f$.isFunction(t)&&(t={callback:t}),v=this.$system.root,_=t.top||v,t.callback&&v.$system.scan_callbacks.push(t.callback),"scaning"===v.$system.status)return void(v.$system.extraLoop=!0);if(t.late){if(_!==v)throw"conflict: late and top";if(v.$system.lateScan)return;return v.$system.lateScan=!0,void e.nextTick(function(){return v.$system.lateScan?v.$scan():void 0})}v.$system.lateScan=!1,v.$system.status="scaning",e.debug.scan&&($=s()),u=null,h=10;try{for(;h;){for(h--,x=0,a=0,v.$system.extraLoop=!1,p=!1,y=[_],n=[];y.length;){m=y.shift(),d=!1,N=m.$system.watches;for(u in N)if(w=N[u],x++,k=w.exp.call(m),f=w.value,f!==k&&(w.isArray?o(f,k)&&(w.value=f$.isArray(k)?k.slice():k,d=!0):w.deep?e.utilits.equal(f,k)||(d=!0,w.value=e.utilits.clone(k)):(d=!0,w.value=k)),d){for(d=!1,a++,w.extraLoop&&(p=!0),E=w.callbacks.slice(),b=0,B=E.length;B>b;b++)r=E[b],r.call(m,k);e.debug.scan&&console.log("changed:",u)}u=null,m.$system.children.length&&y.push.apply(y,m.$system.children),m.$system.watch_any.length&&n.push.apply(n,m.$system.watch_any)}if(a)for(O=0,A=n.length;A>O;O++)(i=n[O])();if(!p&&!v.$system.extraLoop)break}e.debug.scan&&(l=s()-$,console.log("$scan: ("+(10-h)+") "+x+" / "+l+"ms"))}catch(F){c=F,u&&console.error("ERROR IN",u),console.error(c.stack?c.stack:c)}finally{for(v.$system.status=null,g=v.$system.scan_callbacks.slice(),v.$system.scan_callbacks.length=0,T=0,S=g.length;S>T;T++)r=g[T],r.call(v)}if(0===h)throw"Infinity loop detected"},function(){var n,r,i;return n={},i={},r=function(t){var e,n,r;for(n=0,r=t.length;r>n;n++)if(e=t[n],"expression"===e.type&&!e["static"])return!1;return!0},t.prototype.$compileText=function(t,s){var o,a,l,c,u,p,f,h,d,y,v,g,m;if(f=this,s=s||{},p=i[t])return p;if(t.indexOf(e.utilits.pars_start_tag)<0)return s.result_on_static?t:function(){return t};for(c=e.utilits.parsText(t),c.scope=f,a=function(){var e,r,i,s,o;if(p=n[t])return function(){return p.call(c)};for(i=[],r=s=0,o=c.length;o>s;r=++s)e=c[r],"expression"===e.type?i.push(e.fn?"this["+r+"].fn.call(this.scope)":"((x=this["+r+"].value) || (x == null?'':x))"):e.value&&i.push('"'+e.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"');return i=i.join(" + "),p=new Function("var x; return ("+i+")"),n[t]=p,function(){return p.call(c)}},d=function(){var e,n,r,s,o;for(r=[],n=s=0,o=c.length;o>s;n=++s)e=c[n],"expression"===e.type?r.push("("+e.re+")"):e.value&&r.push('"'+e.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"');return r=r.join(" + "),p=new Function("var __; return ("+r+")"),i[t]=p,p},v=0,h=!0,g=0,m=c.length;m>g;g++)l=c[g],"expression"===l.type&&("="===l.list[0][0]&&(l.list[0]="#bindonce "+l.list[0].slice(1)),u=l.list.join(" | "),"#"===u[0]?(h=!1,function(t){var n,i;return n=!1,i={data:t,setter:function(e){return t.value=e},"finally":function(e){return 1===arguments.length&&i.setter(e),t["static"]=!0,n&&s.onStatic&&r(c)?s.onStatic():void 0}},e.text.$base(f,t,i),n=!0}(l),l["static"]||v++):(o=f.$compile(u,{stringOrOneTime:!0,full:!0,noBind:!0,rawExpression:!0}),o.oneTime?(h=!1,function(t,e){return t.fn=function(){var n;return n=e.fn.call(f),void 0===n?"":(null===n&&(n=""),t.fn=function(){return n},t["static"]=!0,s.onStatic&&r(c)&&s.onStatic(),n)}}(l,o)):(l.fn=o.fn,o.rawExpression?l.re=o.rawExpression:h=!1),v++));return v?h?d():a():(y=a()(),s.result_on_static?y:function(){return y})}}(),t.prototype.$evalText=function(t){return this.$compileText(t)()},t.prototype.$watchText=function(t,n,r){var i,s,o,a,l;if(a=this,r=r||{},e.debug.watchText&&console.log("$watchText",t),l=a.$system.watches,i=l[t])r.readOnly||(i.extraLoop=!0);else{if(i={extraLoop:!r.readOnly,isArray:!1,callbacks:[],onStatic:[]},s=a.$compileText(t,{result_on_static:!0,onStatic:function(){var e,n,r,o,c,u,p;for(r=s.call(a),n=function(){return i.exp=function(){return r},a.$scan(function(){return i.callbacks.length=0,delete l[t]})},"scaning"===a.$system.root.$system.status?n():i.exp=function(){if("scaning"!==a.$system.root.$system.status)throw"Error, no scanning";return n(),r},u=i.onStatic,p=[],o=0,c=u.length;c>o;o++)e=u[o],p.push(e(r));return p}}),!f$.isFunction(s))return{value:s};i.exp=s,i.value=s.call(a),l[t]=i}return r.onStatic&&i.onStatic.push(r.onStatic),i.callbacks.push(n),o={$:i,value:i.value,exp:i.exp,stop:function(){var e;if(e=i.callbacks.indexOf(n),e>=0){if(i.callbacks.splice(e,1),0!==i.callbacks.length)return;return delete l[t]}}}},e.nextTick=function(){var t,e,n;return n=null,e=[],t=function(){var t,r,i,s,o,a,l,c,u;for(n=null,r=e.slice(),e.length=0,u=[],l=0,c=r.length;c>l;l++){o=r[l],t=o[0],a=o[1];try{u.push(t.call(a))}catch(p){i=p,s="string"==typeof i?i:i.stack,u.push(console.error(s))}}return u},function(r){return e.push([r,this]),n?void 0:n=setTimeout(t,0)}}(),e.getController=function(t){var n;if(n=e.controllers[t]||window[t],!n)throw"Controller isn't found: "+t;if(!(n instanceof Function))throw"Wrong controller: "+t;return n},e.getFilter=function(t){if(!e.filters[t])throw"Filter not found: "+t;return e.filters[t]},e.text.$base=function(t,n,r){var i,s,o,a,l;if(o=n.list[0],l=o.indexOf(" "),0>l?(s=o.slice(1),o=""):(s=o.slice(1,l),o=o.slice(l)),i=e.text[s],!i)throw"No directive alight.text."+s;return n.list.length>1&&(a=e.utilits.filterBuilder(t,null,n.list.slice(1)),r.setter=function(t){return n.value=a(t)}),i(r.setter,o,t,r)},e.applyBindings=function(t,n,r){var i,s,o,l,c,u;if(!n)throw"No element";if(t||(t=new e.Scope),s=!t.$system.root.$system.finishBinding_lock,s&&(t.$system.root.$system.finishBinding_lock=!0),r=r||{},a(t,n,r),s){for(t.$system.root.$system.finishBinding_lock=!1,o=t.$system.root.$system.finishBinding_callbacks.slice(),t.$system.root.$system.finishBinding_callbacks.length=0,u=[],l=0,c=o.length;c>l;l++)i=o[l],u.push(i());return u}},e.bootstrap=function(t){var n,r,i,s,o,a,l,c,u,p;for(t||(t=f$.find(document,"[al-app]")),f$.isArray(t)||void 0!==t.length||(t=[t]),p=[],c=0,u=t.length;u>c;c++)s=t[c],s.ma_bootstrapped||(s.ma_bootstrapped=!0,n=f$.attr(s,"al-app"),n?"#"===n[0]?(a=n.split(" "),l=a[0].substring(1),i=a[1],o=e.apps[l],o?i&&console.error('New controller on exists scope: al-app="'+n+'"'):(e.apps[l]=o=e.Scope(),i&&(r=e.getController(i))(o))):(o=e.Scope(),(r=e.getController(n))(o)):o=e.Scope(),p.push(e.applyBindings(o,s,{skip_attr:"al-app"})));return p},f$.ready(function(){return e.autostart?e.bootstrap():void 0})}).call(this);
(function(){var t,n;alight.utilits.getId=function(){var t,n;return n=function(){var t,n,r,e,i,f;for(f="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),r=Math.floor((new Date).valueOf()/1e3)-1388512800,i="";r>0;)t=Math.floor(r/62),e=62*t,n=r-e,r=t,i=f[n]+i;return i}(),t=1,function(){return n+"#"+t++}}(),alight.utilits.filterBuilder=function(t,n,r){var e,i,f,u,l,a,o,c;if(!r||!r.length)return n;for(o=0,c=r.length;c>o;o++)i=r[o],e=i.match(/\s*([\w\d_]+?)\s*:\s*(.*?)\s*$/),e?(l=e[1],a=e[2]):(l=i.trim(),a=null),f=alight.getFilter(l,t,a),u=f.call(t,a,t),n=n?function(t,n){return function(r){return t.call(this,n.call(this,r))}}(u,n):u;return n},alight.utilits.clone=t=function(n){var r,e,i,f;if(!n)return n;if("object"==typeof n){if(n instanceof Array)return i=function(){var e,i,f;for(f=[],e=0,i=n.length;i>e;e++)r=n[e],f.push(t(r));return f}();if(n instanceof Date)return new Date(n);if(n.nodeType&&"function"==typeof n.cloneNode)return n;i={};for(e in n)f=n[e],"$alite_id"!==e&&(i[e]=t(f));return i}return n},alight.utilits.equal=n=function(t,r){var e,i,f,u,l,a,o,c;if(!t)return t===r;if(u=typeof t,l=typeof r,u!==l)return!1;if("object"===u){if(t instanceof Array){if(t.length!==r.length)return!1;for(e=o=0,c=t.length;c>o;e=++o)if(a=t[e],!n(a,r[e]))return!1;return!0}if(t instanceof Date)return t.valueOf()===r.valueOf();if(t.nodeType&&"function"==typeof t.cloneNode)return t===r;f={};for(i in t)if(a=t[i],"$alite_id"!==i&&(f[i]=!0,!n(a,r[i])))return!1;for(i in r)if(a=r[i],"$alite_id"!==i&&!f[i]&&!n(a,t[i]))return!1;return!0}return t===r},alight.utilits.dataByElement=function(t,n){var r;return r=t.al,r||(t.al=r={}),n?(r[n]||(r[n]={}),r[n]):r}}).call(this);
(function(){var t,i;i=["break","do","instanceof","typeof","case","else","new","var","catch","finally","return","void","continue","for","switch","while","debugger","function","this","with","default","if","throw","delete","in","try","class","enum","extends","super","const","export","import","null","true","false","undefined"],alight.utilits.parsExpression=function(t,n){var r,e,s,u,l,a,o,f,h;if(n=n||{},u=n.input||[],s=0,o=[],a=0,f=[],l=function(n,r,e,h){var p,c,g,v,d;for(v="",d=-1,g=function(){var t;if(v&&!(i.indexOf(v)>=0||(t=v.split(".")[0],u.indexOf(t)>=0||"this."===v.slice(0,5)||v[0].match(/[\d\.]/))))return f.push(d)};s<t.length;){if(p=t[s],s+=1,c=t[s],e&&(p.match(/[\d\w_\.\$]/)?(v||(d=s-1),v+=p):("}"===r&&":"===t.substring(s-1).trim()[0]&&(v=""),g(),v="")),p===r)return;"("!==p||h?"["!==p||h?"{"!==p||h?'"'===p?l(n+1,'"',!1,!0):"'"===p?l(n+1,"'",!1,!0):"|"===p&&0===n&&("|"===c?s+=1:(e=!1,o.push(t.substring(a,s-1)),a=s)):l(n+1,"}",!0):l(n+1,"]",e):l(n+1,")",e)}return 0===n&&o.push(t.substring(a)),g()},l(0,null,!0),f.length){for(r=o[0],h=f.length-1;h>=0;h+=-1)e=f[h],r=r.slice(0,e)+"this."+r.slice(e);o[0]=r}return alight.debug.parser&&console.log("parser",o),o},alight.utilits.pars_start_tag="{{",alight.utilits.pars_finish_tag="}}",t=function(t){var i,n,r,e,s,u,l,a,o;return o=alight.utilits.pars_start_tag,n=alight.utilits.pars_finish_tag,l=[],e=0,u=0,r=function(i){var n;return i=i||1,n=t.substring(u,e-i),u=e,n},a=null,s=function(i,u,o){var f,h,p,c;for(i||(a={type:"expression",list:[]},l.push(a)),c=null,f=null;e<t.length;){if(c=f,f=t[e],e+=1,h=c+f,p=t[e],f===u)return;if(!o){if(h===n&&0===i)return a.list.push(r(2)),!0;"("===f?s(i+1,")"):"{"===f?s(i+1,"}"):'"'===f?s(i+1,'"',!0):"'"===f?s(i+1,"'",!0):"|"===f&&0===i&&("|"===p?e+=1:a.list.push(r()))}}},i=function(){var i,n,u,a,f;for(u=null,i=null;e<t.length;)if(u=i,i=t[e],e+=1,n=u+i,n===o){if(f=r(2),f&&l.push({type:"text",value:f}),!s(0))throw"Wrong expression"+t;i=null}return a=r(-1),a?l.push({type:"text",value:a}):void 0},i(),alight.debug.parser&&console.log("parsText",l),l},function(){var i,n;return i={},n=function(t){var i,n,r;return r=function(){var r,e,s;for(s=[],r=0,e=t.length;e>r;r++)i=t[r],n={type:i.type,value:i.value},i.list&&(n.list=i.list.slice()),s.push(n);return s}()},alight.utilits.parsText=function(r){var e;return e=i[r],e||(i[r]=e=t(r)),n(e)}}()}).call(this);
(function(){var n,t,r,e,i,o,u,a;for(alight.text.bindonce=function(n,t,r,e){return e["finally"](r.$eval(t))},t=alight.directives.al,t.debug={priority:5e3,init:function(n,t,r){return alight.debug=t?r.$eval(t):-1}},t.text=function(n,t,r){var e,i;return e="",i={start:function(){return i.watchModel(),i.initDom()},updateDom:function(t){return(void 0===t||null===t)&&(t=""),f$.text(n,t)},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=n.value},initDom:function(){return i.updateDom(e)}}},t.value=function(n,t,r){var e,i;return e=null,i={changing:!1,makeSetter:function(){return i.setter=r.$compile(t+" = $_value",{no_return:!0,input:["$_value"]})},onDom:function(){return f$.on(n,"input",i.updateModel),f$.on(n,"change",i.updateModel)},updateModel:function(){return alight.nextTick(function(){var t;return t=f$.val(n),i.changing=!0,i.setter(t),r.$scan(function(){return i.changing=!1})})},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=n.value},updateDom:function(t){return i.changing?void 0:void 0!==t&&null!==t?f$.val(n,t):void 0},initDom:function(){return i.updateDom(e)},start:function(){return i.makeSetter(),i.onDom(),i.watchModel(),i.initDom()}}},n=function(n){return function(t,r,e){var i;return i={callback:e.$compile(r,{no_return:!0}),start:function(){return i.onDom()},onDom:function(){return f$.on(t,n,i.doCallback)},doCallback:function(n){return n.preventDefault(),n.stopPropagation(),f$.attr(t,"disabled")?void 0:(i.callback(),e.$scan())}}}},t.click=n("click"),t.dblclick=n("dblclick"),t.submit=function(n,t,r){var e;return e={callback:r.$compile(t,{no_return:!0}),start:function(){return e.onDom()},onDom:function(){return f$.on(n,"submit",e.doCallback)},doCallback:function(n){return n.preventDefault(),n.stopPropagation(),e.callback(),r.$scan()}}},t.controller={priority:500,restrict:"AE",init:function(n,t,r,e){var i,o;return o=r.$new(),t&&(i=alight.getController(t))(o),alight.applyBindings(o,n,{skip_attr:e.skippedAttr()}),{owner:!0}}},t.checked=function(n,t,r){var e,i;return e=!1,i={changing:!1,start:function(){return i.makeSetter(),i.onDom(),i.watchModel(),i.initDom()},makeSetter:function(){return i.setter=r.$compile(t+" = $_value",{no_return:!0,input:["$_value"]})},onDom:function(){return f$.on(n,"change",i.updateModel)},updateModel:function(){var t;return t=f$.prop(n,"checked"),i.changing=!0,i.setter(t),r.$scan(function(){return i.changing=!1})},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=!!n.value},updateDom:function(t){return i.changing?void 0:f$.prop(n,"checked",!!t)},initDom:function(){return i.updateDom(e)}}},t.css={priority:30,init:function(n,t,r){var e;return e={start:function(){return e.parsLine(),e.prepare()},parsLine:function(){var n;e.list=n=[];for(var r,i=/[\w\d\-\._]+\s*?:/gi,o=-1,u=0;result=i.exec(t);)u=result.index,o>=0&&(r=t.substring(o,u).trim(),","==r[r.length-1]&&(r=r.substring(0,r.length-1)),n.push(r)),o=u;return o>=0&&n.push(t.substring(o)),null},prepare:function(){var n,t,i,o,u,a,c,l,f,d;for(f=e.list,d=[],c=0,l=f.length;l>c;c++)o=f[c],i=o.split(":"),t=i[0].trim(),a=i[1].trim(),n=function(n){return function(t){return e.draw(n,t)}}(t),u=r.$watch(a,n,{readOnly:!0}),d.push(n(u.value));return d},draw:function(t,r){return r?f$.addClass(n,t):f$.removeClass(n,t)}}}},e=function(n){var t;return t={priority:700,init:function(t,r,e){var i;return i=e.$eval(r),!i===n?(f$.remove(t),{owner:!0}):void 0}}},alight.directives.bo["if"]=e(!0),alight.directives.bo.ifnot=e(!1),t["if"]={priority:700,init:function(n,t,r,e){var i,o,u,a,c,l;return a=null,o=null,i=null,l=null,u=!1,c={direction:!0,owner:!0,start:function(){return c.prepare(),c.watchModel(),c.initUpdate()},prepare:function(){return i=n,l=f$.createComment(" "+e.attrName+": "+t+" "),f$.before(n,l),f$.remove(n)},updateDom:function(n){if(!n===c.direction){if(!o)return;return o.$destroy(),c.removeDom(a),o=null,a=null}if(!o)return a=f$.clone(i),c.insertDom(l,a),o=r.$new(),alight.applyBindings(o,a,{skip_attr:e.skippedAttr()})},watchModel:function(){var n;return n=r.$watch(t,c.updateDom,{readOnly:!0}),u=!!n.value},initUpdate:function(){return c.updateDom(u)},removeDom:function(n){return f$.remove(n)},insertDom:function(n,t){return f$.after(n,t)}}}},t.ifnot={priority:700,init:function(){return t=alight.directives.al["if"].init.apply(this,arguments),t.direction=!1,t}},t.show=function(n,t,r){var e,i;return e=!1,i={showDom:function(){return f$.show(n)},hideDom:function(){return f$.hide(n)},updateDom:function(n){return n?i.showDom():i.hideDom()},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=n.value},initDom:function(){return i.updateDom(e)},start:function(){return i.watchModel(),i.initDom()}}},t.hide=function(n,t,r,e){var i;return i=alight.directives.al.show(n,t,r,e),i.updateDom=function(n){return n?i.hideDom():i.showDom()},i},t.app={priority:2e3,init:function(){return{owner:!0}}},t.stop={priority:-10,restrict:"AE",init:function(){return{owner:!0}}},t.init=function(n,t,r){return r.$compile(t,{no_return:!0})(),r.$scan({late:!0})},t.include={priority:100,init:function(n,t,r,e){var i,o,u,a,c,l;return u=null,o=null,l=null,i=null,a=null,c={owner:!0,topElement:null,start:function(){return c.prepare(),c.watchModel(),c.initUpdate()},prepare:function(){return o=n,l=f$.createComment(" "+e.attrName+": "+t+" "),f$.before(n,l),f$.remove(n)},loadHtml:function(n){return f$.ajax(n)},removeBlock:function(){return u&&(u.$destroy(),u=null),i?(c.removeDom(i),i=null):void 0},insertBlock:function(n){return i=f$.clone(o),f$.html(i,n),c.insertDom(l,i),u=r.$new(),alight.applyBindings(u,i,{skip_attr:e.skippedAttr()})},updateDom:function(n){return n?c.loadHtml({url:n,success:function(n){return c.removeBlock(),c.insertBlock(n)},error:c.removeBlock}):c.removeBlock()},removeDom:function(n){return f$.remove(n)},insertDom:function(n,t){return f$.after(n,t)},watchModel:function(){var n;return n=r.$watch(t,c.updateDom,{readOnly:!0}),a=n.value},initUpdate:function(){return c.updateDom(a)}}}},t.html={priority:100,init:function(n,t,r,e){var i,o,u;return i=null,u=function(t){return i&&(i.$destroy(),i=null),t?(f$.html(n,t),i=r.$new(),alight.applyBindings(i,n,{skip_attr:e.skippedAttr()})):void f$.html(n,"")},o=r.$watch(t,u,{readOnly:!0}),u(o.value),{owner:!0}}},alight.directives.bo["switch"]={priority:500,init:function(n,t,r,e){var i;return i=r.$new(),i.$switch={value:r.$eval(t),on:!1},alight.applyBindings(i,n,{skip_attr:e.skippedAttr()}),{owner:!0}}},alight.directives.bo.switchWhen={priority:500,init:function(n,t,r){return r.$switch.value!==t?(f$.remove(n),{owner:!0}):r.$switch.on=!0}},alight.directives.bo.switchDefault={priority:500,init:function(n,t,r){return r.$switch.on?(f$.remove(n),{owner:!0}):null}},t.src=function(n,t,r){var e,i;return i=function(t){return t||(t=""),f$.attr(n,"src",t)},e=r.$watchText(t,i,{readOnly:!0}),i(e.value)},alight.directives.bo.src=function(n,t,r){var e;return e=r.$evalText(t),e?f$.attr(n,"src",e):void 0},t.enable=function(n,t,r){var e,i;return e=function(t){return t?f$.removeAttr(n,"disabled"):f$.attr(n,"disabled","disabled")},i=r.$watch(t,e,{readOnly:!0}),e(i.value)},t.disable=function(n,t,r){var e,i;return e=function(t){return t?f$.attr(n,"disabled","disabled"):f$.removeAttr(n,"disabled")},i=r.$watch(t,e,{readOnly:!0}),e(i.value)},t.readonly=function(n,t,r){var e,i;return e=function(t){return f$.prop(n,"readOnly",!!t)},i=r.$watch(t,e,{readOnly:!0}),e(i.value)},a=["keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","focus","blur","change"],i=function(n){return t[n]=function(t,r,e){var i;return i={start:function(){return i.makeCaller(),i.onDom()},makeCaller:function(){return i.caller=e.$compile(r,{no_return:!0,input:["$event"]})},onDom:function(){return f$.on(t,n,i.callback)},callback:function(n){return i.caller(n),e.$scan()}}}},o=0,u=a.length;u>o;o++)r=a[o],i(r);t.cloak=function(n,t,r,e){return f$.removeAttr(n,e.attrName),t?f$.removeClass(n,t):void 0},t.focused=function(n,t,r){var e,i;return e=!1,i={changing:!1,updateModel:function(n){return i.changing?void 0:(i.changing=!0,r.$setValue(t,n),r.$scan(function(){return i.changing=!1}))},onDom:function(){return f$.on(n,"focus",function(){return i.updateModel(!0)}),f$.on(n,"blur",function(){return i.updateModel(!1)})},updateDom:function(t){return i.changing?void 0:(i.changing=!0,t?f$.focus(n):f$.blur(n),i.changing=!1)},watchModel:function(){var n;return n=r.$watch(t,i.updateDom,{readOnly:!0}),e=n.value},initDom:function(){return i.updateDom(e)},start:function(){return i.onDom(),i.watchModel(),i.initDom()}}}}).call(this);
(function(){alight.directives.al.repeat={priority:1e3,init:function(e,t,r,n){var i;return i={owner:!0,start:function(){return i.prepare(),i.parsExpression(),i.prepareDom(),i.watchModel(),i.initUpdateDom()},prepare:function(){var e;return e=n.takeAttr("al-controller"),i.childController=e?alight.getController(e):null},parsExpression:function(){var e,r;if(r=t,e=r.match(/(.*) store to ([\w\.]+)/),e&&(i.storeTo=e[2],r=e[1]),e=r.match(/(.*) track by ([\w\.\$\(\)]+)/),e&&(i.trackExpression=e[2],r=e[1]),e=r.match(/\s*(\w+)\s+in\s+(.+)/),!e)throw"Wrong repeat: "+t;return i.nameOfKey=e[1],i.expression=e[2]},watchModel:function(){return i.watch=r.$watch(i.expression,i.updateDom,{isArray:!0,readOnly:!i.storeTo})},initUpdateDom:function(){return i.updateDom(i.watch.value)},prepareDom:function(){return i.base_element=e,i.top_element=f$.createComment(" "+t+" "),f$.before(e,i.top_element),f$.remove(e)},makeChild:function(e,t,n){var a;return a=r.$new(),i.updateChild(a,e,t,n),i.childController&&i.childController(a),a},updateChild:function(e,t,r,n){return e[i.nameOfKey]=t,e.$index=r,e.$first=0===r,e.$last=r===n.length-1},rawUpdateDom:function(e,t){var r,n,i,a,o,l,p;for(i=0,o=e.length;o>i;i++)r=e[i],f$.remove(r);for(p=[],a=0,l=t.length;l>a;a++)n=t[a],p.push(f$.after(n.after,n.element));return p},updateDom:function(){var t,a,o,l,p;return p=[],l={},a=null,o=0,t=null,function(u){var s,c,f,h,m,d,v,$,x,g,w,y,D,_,k,C,E,b,U,O,T,A,K,I;for(a||("$index"===i.trackExpression?a=function(e){var r;if(t=o,r=l[t]){if("object"!=typeof r.item)return r;if(r.item===e)return r}return null}:i.trackExpression?(_=r.$compile(i.trackExpression,{input:["$id",i.nameOfKey]}),C=function(e){var t;return(t=e.$alite_id)?t:t=e.$alite_id=alight.utilits.getId()},a=function(e){return t=_(C,e),t?l[t]:null}):a=function(e){return(t=e.$alite_id)?l[t]:(t=alight.utilits.getId(),e.$alite_id=t,null)}),u&&u.length||(u=[]),i.storeTo&&(r.$setValue(i.storeTo,u),r.$scan({late:!0})),$=i.top_element,f=[],w=[],k=0,O=p.length;O>k;k++)g=p[k],g.active=!1;for(o=E=0,T=u.length;T>E;o=++E)d=u[o],g=a(d),g&&(g.active=!0);for(h=function(){var e,t,r;for(r=[],e=0,t=p.length;t>e;e++)g=p[e],g.active||(g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),delete l[g.$id],g.scope.$destroy(),r.push(g.element));return r}(),s=[],y=null,D=null,o=b=0,A=u.length;A>b;o=++b)if(d=u[o],v=d,d=d||{},g=a(d)){if(i.updateChild(g.scope,d,o,u),g.prev===D){D=g,$=g.element,g.active=!0,w.push(g);continue}g.prev=D,D&&(D.next=g),f.push({element:g.element,after:D?D.element:i.top_element}),$=g.element,D=g,g.active=!0,w.push(g)}else c=i.makeChild(v,o,u),e=f$.clone(i.base_element),s.push([c,e]),f.push({element:e,after:$}),g={$id:t,scope:c,element:e,prev:D,next:null,active:!0,item:d},l[t]=g,D?(x=D.next,D.next=g,g.next=x,x&&(x.prev=g)):0===o&&p[0]&&(x=p[0],g.next=x,x.prev=g),D=g,$=e,w.push(g);for(p=w,i.rawUpdateDom(h,f),I=[],U=0,K=s.length;K>U;U++)m=s[U],I.push(alight.applyBindings(m[0],m[1],{skip_attr:n.skippedAttr()}));return I}}()}}},alight.directives.bo.repeat={priority:1e3,init:function(e,t,r,n){var i;return i=alight.directives.al.repeat.init(e,t,r,n),i.start=function(){return i.prepare(),i.parsExpression(),i.prepareDom(),i.watch={value:r.$eval(i.expression)},i.initUpdateDom()},i}}}).call(this);
(function(){var e;alight.filters.filter=function(e,t){var n;return n=t.$compile(e),function(e){var t,r,i,o,f,u,l;if(r=n(),!r)return e;if("string"==typeof r)r={$:r};else if("object"!=typeof r)return e;return u=function(){var n,u,a;for(a=[],n=0,u=e.length;u>n;n++)if(f=e[n],"object"==typeof f){if(i=!0,r.$){i=!1,t=r.$.toLowerCase();for(o in f)if(l=f[o],"$alite_id"!==o&&(""+l).toLowerCase().indexOf(t)>=0){i=!0;break}if(!i)continue}i=!0;for(o in r)if(l=r[o],t=f[o],t&&(""+t).toLowerCase().indexOf((""+l).toLowerCase())<0){i=!1;break}if(!i)continue;a.push(f)}else{if(!r.$)continue;if(t=r.$.toLowerCase(),(""+f).toLowerCase().indexOf(t)<0)continue;a.push(f)}return a}()}},alight.filters.slice=function(e,t){var n;return n=t.$compile("["+e+"]"),function(e){return[].slice.apply(e,n())}},e=function(e){return 10>e?"0"+e:""+e},alight.filters.date=function(t){return function(n){var r,i,o,f,u;if(!n)return"";for(o=[[/yyyy/g,n.getFullYear()],[/mm/g,e(n.getMonth()+1)],[/dd/g,e(n.getDate())],[/HH/g,e(n.getHours())],[/MM/g,e(n.getMinutes())]],i=t,f=0,u=o.length;u>f;f++)r=o[f],i=i.replace(r[0],r[1]);return i}},alight.filters.generator=function(){var e;return e=[],function(t){if(e.length>=t)e.length=t;else for(;e.length<t;)e.push({});return e}}}).call(this);
