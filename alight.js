/**
 * Angular Light
 * (c) 2015 Oleg Nechaev
 * Released under the MIT License.
 */!function(){function e(e){e=e||{};var t=e.globalControllers,n={},r={};n.f$=r;var i=function(e,t){var n=e.indexOf(t);n>=0?e.splice(n,1):console.warn("trying to remove not exist item")};return function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r,i=t?t:0;if(!this)throw new TypeError;if(r=this.length,0===r||i>=r)return-1;for(0>i&&(i=r-Math.abs(i)),n=i;r>n;n++)if(this[n]===e)return n;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"function"!=typeof String.prototype.trimLeft&&(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")}),r.browser=function(){var e,t=navigator.appName,n=navigator.userAgent.toLowerCase(),r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!=(e=n.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),r=r?[r[1],r[2]]:[t,navigator.appVersion,"-?"],{name:r[0],version_string:r[1],version:Number(r[1].match(/\d+/))}}();var e=!1,t=!1,n=!1,i=window.$;if(r.__jquery?(n=5,i=r.__jquery):(("chrome"===r.browser.name||"safari"===r.browser.name)&&(e=!0),"firefox"===r.browser.name&&(t=r.browser.version),"msie"===r.browser.name&&(n=r.browser.version)),r.text=n&&8>n?function(e,t){i(e).text(t)}:function(e,t){return 2!==arguments.length?e.textContent||e.innerText:void(void 0!==e.textContent?e.textContent=t:e.innerText=t)},r.html=n&&6>n?function(e,t){return 2!==arguments.length?i(e).html():void i(e).html(t)}:function(e,t){return 2!==arguments.length?e.innerHTML:void(e.innerHTML=t)},r.createComment=function(e){return document.createComment(e)},r.before=function(e,t){var n=e.parentNode;n.insertBefore(t,e)},r.after=function(e,t){var n=e.parentNode,r=e.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)},r.remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},n&&9>n?(r.on=function(e,t,n){i(e).on(t,n)},r.off=function(e,t,n){i(e).off(t,n)}):(r.on=function(e,t,n){e.addEventListener(t,n,!1)},r.off=function(e,t,n){e.removeEventListener(t,n,!1)}),r.clone=function(e){return e.cloneNode(!0)},r.find=n&&8>n?function(e,t){return i(e).find(t)}:function(e,t){return e.querySelectorAll(t)},n&&8>n?(r.attr=function(e,t,n){return i(e).attr(t,n)},r.removeAttr=function(e,t){i(e).removeAttr(t)}):(r.attr=function(e,t,n){return 2===arguments.length?e.getAttribute(t):void e.setAttribute(t,n)},r.removeAttr=function(e,t){e.removeAttribute(t)}),r.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},r.isObject=function(e){var t={};return e&&"[object Object]"===t.toString.call(e)},r.isArray=function(e){return e instanceof Array},r.val=n&&6>n?function(e,t){return 1===arguments.length?i(e).val():void i(e).val(t)}:function(e,t){return 1===arguments.length?e.value:void(e.value=t)},r.prop=n&&6>n?function(e,t,n){return 2===arguments.length?i(e).prop(t):void i(e).prop(t,n)}:function(e,t,n){return 2===arguments.length?e[t]:void(e[t]=n)},n&&8>n?(r.addClass=function(e,t){i(e).addClass(t)},r.removeClass=function(e,t){i(e).removeClass(t)}):(r.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},r.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")}),n&&8>n?(r.show=function(e){i(e).show()},r.hide=function(e){i(e).hide()}):(r.show=function(e){r.removeClass(e,"al-hide")},r.hide=function(e){r.addClass(e,"al-hide")}),r.children=n&&9>n||t&&4>t?function(e){return i(e).children()}:function(e){return e.children},r.childNodes=function(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)t.push(n[r]);return t},r.getAttributes=n&&8>n?function(e){var t={},n=i(e);return n.length&&i.each(n.get(0).attributes,function(e,r){var r=r.nodeName||r.name;e=n.attr(r),void 0!=e&&e!==!1&&(t[r]=e)}),t}:function(e){for(var t,n={},r=e.attributes,i=0,o=r.length;o>i;i++)t=r.item(i),n[t.nodeName]=t.value;return n},r.ready=n&&9>n?function(e){i(e)}:function(){function e(){n=!0,r.off(document,"DOMContentLoaded",e);for(var i=0;i<t.length;i++)t[i]();t.length=0}var t=[],n=!1;return r.on(document,"DOMContentLoaded",e),function(e){n?e():t.push(e)}}(),n&&9>n)var o=function(){},a=function(e){i.ajax({url:e.url,type:e.type||"GET",username:e.username,password:e.password,headers:e.headers,data:e.data}).then(e.success||o,e.error||o)};else var a=function(e){var t=new XMLHttpRequest;t.open(e.type||"GET",e.url,!0,e.username,e.password);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);e.success&&(t.onload=function(){t.status>=200&&t.status<400?e.success(t.responseText):e.error&&e.error()}),e.error&&(t.onerror=e.error),t.send(e.data||null)};r.ajaxCache={},r.ajax=function(e){if(e.username||e.password||e.headers||e.data||!e.cache)return a(e);var t=e.type||"GET",n=t+":"+e.url,i=r.ajaxCache[n];return i||(r.ajaxCache[n]=i={callback:[]}),i.result?void(e.success&&e.success(i.result)):(i.callback.push(e),void(i.loading||(i.loading=!0,a({type:t,url:e.url,success:function(e){i.loading=!1,i.result=e;for(var t=0;t<i.callback.length;t++)i.callback[t].success&&i.callback[t].success(e);i.callback.length=0},error:function(){i.loading=!1;for(var e=0;e<i.callback.length;e++)i.callback[e].error&&i.callback[e].error();i.callback.length=0}}))))},n&&8>n?(r.focus=function(e){i(e).focus()},r.blur=function(e){i(e).blur()}):(r.focus=function(e){e.focus()},r.blur=function(e){e.blur()}),function(){var e='@charset "UTF-8";[al-cloak],.al-hide{display:none !important;}',t=r.find(document,"head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}()}(),function(){var e,t,o,a,s,u,l,c;n.core=l={},l.root=function(e){return e=e||{},new t(e)},t=function(e){return e=e||{},this.nodeHead=null,this.nodeTail=null,this["private"]={},this.watchers={any:[],finishBinding:[],finishScan:[],finishScanOnce:[]},this.status=null,this.extraLoop=!1,this.finishBinding_lock=!1,this.lateScan=!1,e.useObserver&&(this.obList=[],this.observer=n.observer.create(),this.privateOb=this.observer.observe(this["private"])),this},t.prototype.destroy=function(){return this.observer&&(this.privateOb.destroy(),this.observer.destroy()),this.watchers.any.length=0,this.watchers.finishBinding.length=0,this.watchers.finishScan.length=0,this.watchers.finishScanOnce.length=0},t.prototype.node=function(t,n){return new e(this,t,n)},e=function(e,t,n){return this.scope=t,this.root=e,this.watchers={},this.watchList=[],this.destroy_callbacks=[],this.lineActive=!1,this.prevSibling=null,this.nextSibling=null,this.rwatchers={any:[],finishScan:[]},e.observer&&(this.obFire={},this.ob=e.observer.observe(t,n)),this},e.prototype.destroy=function(){var e,t,n,r,o,a,s,u,l,c,f,p,h,d,v,m,g,b;for(f=this,g=f.root,h=f.destroy_callbacks,n=0,a=h.length;a>n;n++)(t=h[n])();if(f.ob){d=f.watchers;for(r in d)e=d[r],e.privateOb&&g.privateOb.unwatch(e.privateName,e.privateOb);f.ob.destroy(),f.ob=null}for(f.obFire=null,f.destroy_callbacks.length=0,f.watchList.length=0,f.watchers.length=0,f.watchers={},v=f.rwatchers.any,o=0,s=v.length;s>o;o++)b=v[o],i(g.watchers.any,b);for(f.rwatchers.any.length=0,m=f.rwatchers.finishScan,l=0,u=m.length;u>l;l++)b=m[l],i(g.watchers.finishScan,b);return f.rwatchers.finishScan.length=0,f.lineActive?(f.lineActive=!1,p=f.prevSibling,c=f.nextSibling,p?p.nextSibling=c:g.nodeHead=c,c?c.prevSibling=p:g.nodeTail=p):void 0},o=function(e){return this.cb=e},c=function(e,t,n){var r,a;return r=e.root,a=new o(n),e.rwatchers[t].push(a),r.watchers[t].push(a),{stop:function(){return i(e.rwatchers[t],a),i(r.watchers[t],a)}}},e.prototype.watch=function(e,t,o){var a,s,u,l,f,p,h,d,v,m,g,b,y,w,$,x,k,_,D;if(v=this,$=v.root,x=v.scope,o.is_array&&(o.isArray=!0),r.isFunction(e))u=e,h=n.utilits.getId(),l=!0;else{if(l=!1,u=null,e=e.trim(),"::"===e.slice(0,2)&&(e=e.slice(2),o.oneTime=!0),o["private"]){if(o.oneTime||o.isArray||o.deep)throw"Conflict $watch option private";m=e,e="$system.root.private."+e}if(h=e,"$any"===h)return c(v,"any",t);if("$finishScan"===h)return c(v,"finishScan",t);if("$finishScanOnce"===h)return $.watchers.finishScanOnce.push(t);if("$destroy"===h)return v.destroy_callbacks.push(t);if("$finishBinding"===h)return $.watchers.finishBinding.push(t);h=o.deep?"d#"+h:o.isArray?"a#"+h:"v#"+h}if(n.debug.watch&&console.log("$watch",e),s=v.watchers[h])o.readOnly||(s.extraLoop=!0),w=s.value;else{if(l||(o.watchText?(u=o.watchText.fn,a={isSimple:o.watchText.simpleVariables?2:0,simpleVariables:o.watchText.simpleVariables}):(a=v.compile(e,{noBind:!0,full:!0}),u=a.fn)),w=_=u(x),o.deep&&(_=n.utilits.clone(_),o.isArray=!1),v.watchers[h]=s={isArray:Boolean(o.isArray),extraLoop:!o.readOnly,deep:o.deep,value:_,callbacks:[],exp:u,src:""+e},f=!1,$.observer&&!l&&!o.oneTime&&!o.deep&&a.isSimple&&a.simpleVariables.length&&(f=!0,s.isArray?s.value=null:a.isSimple<2&&(f=!1),f))if(s.isObserved=!0,o["private"])s.privateName=m,s.privateOb=$.privateOb.watch(m,function(){return v.obFire[h]?void 0:(v.obFire[h]=!0,$.obList.push([v,s]))});else for(s.obList=[],y=a.simpleVariables,p=0,d=y.length;d>p;p++)D=y[p],s.obList.push({name:D,callback:v.ob.watch(D,function(){return v.obFire[h]?void 0:(v.obFire[h]=!0,$.obList.push([v,s]))})});o.isArray&&!f&&(s.value=r.isArray(_)?_.slice():null,w=s.value),f||(v.watchList.push(s),v.lineActive||(v.lineActive=!0,k=$.nodeTail,k?($.nodeTail=k.nextSibling=v,v.prevSibling=k):$.nodeHead=$.nodeTail=v))}return g={$:s,value:w},o.oneTime&&(b=t,t=function(e){return void 0!==e?(g.stop(),b(e)):void 0}),s.callbacks.push(t),g.stop=function(){var e,n,r;if(i(s.callbacks,t),0===s.callbacks.length){if(delete v.watchers[h],!s.isObserved)return i(v.watchList,s);if(s.privateOb&&($.privateOb.unwatch(s.privateName,s.privateOb),s.privateOb=null),s.obList){for(r=s.obList,e=0,n=r.length;n>e;e++)k=r[e],v.ob.unwatch(k.name,k.callback);return s.obList=null}}},o.init&&t(g.value),g},e.prototype.compile=function(e,t){var r,i,o,a,s,u,l;return l=this.scope,t=t||{},u={},e=e.trim(),"::"===e.slice(0,2)&&(e=e.slice(2),u.oneTime=!0),t.stringOrOneTime&&(t.string=!u.oneTime),s=e+"#",s+=t.no_return?"+":"-",s+=t.string?"s":"v",t.input&&(s+=t.input.join(",")),r=n.utilits.compile.expression(e,{scope:l,hash:s,no_return:t.no_return,string:t.string,input:t.input,rawExpression:t.rawExpression}),a=r.fn,o=r.filters,u.rawExpression=r.rawExpression,u.isSimple=r.isSimple,u.simpleVariables=r.simpleVariables,o&&o.length&&(a=n.utilits.filterBuilder(l,a,o),t.string&&(i=a,a=function(){var e;return e=i.apply(this,arguments),""+(e||(null!=e?e:""))})),u.fn=t.noBind?a:(t.input||[]).length<4?function(){var r;try{return a(l,arguments[0],arguments[1],arguments[2])}catch(i){return r=i,n.exceptionHandler(r,"Wrong in expression: "+e,{src:e,cfg:t})}}:function(){var r,i,o,s,u;try{for(r=[l],s=0,u=arguments.length;u>s;s++)o=arguments[s],r.push(o);return a.apply(null,r)}catch(c){return i=c,n.exceptionHandler(i,"Wrong in expression: "+e,{src:e,cfg:t})}},t.full?u:u.fn},a=function(){return window.performance?function(){return Math.floor(performance.now())}:function(){return(new Date).getTime()}}(),s=function(e,t){var n,r,i,o,a,s;if(null===e||null===t)return!0;if(o=typeof e,a=typeof t,o!==a)return!0;if("object"===o){if(e.length!==t.length)return!0;for(n=r=0,i=e.length;i>r;n=++r)if(s=e[n],s!==t[n])return!0}return!1},u=function(e,t){var i,o,a,u,l,c,f,p,h,d,v,m,g,b,y,w,$,x,k,_,D,O,C,S,T,A,B;if(l=!1,c=!1,u=0,S=0,k=0,e.observer){for(e.observer.deliver(),x=e.obList,e.obList=[],f=0,d=x.length;d>f;f++)if(B=x[f],w=B[0],A=B[1],C=w.scope,w.obFire={},t.src=A.src,h=A.value,T=A.exp(C),h!==T){for(A.isArray||(A.value=T),u++,_=A.callbacks.slice(),p=0,v=_.length;v>p;p++)a=_[p],"$scanNoChanges"!==a.call(C,T)&&(c=!0);c&&A.extraLoop&&(l=!0)}k+=x.length}for(w=e.nodeHead;w;){for(C=w.scope,S+=w.watchList.length,D=w.watchList.slice(),b=0,m=D.length;m>b;b++)if(A=D[b],t.src=A.src,h=A.value,T=A.exp(C),h!==T){if(y=!1,A.isArray?(i=r.isArray(h),o=r.isArray(T),i===o?i&&s(h,T)&&(A.value=T.slice(),y=!0):(y=!0,A.value=o?T.slice():null)):A.deep?n.utilits.equal(h,T)||(y=!0,A.value=n.utilits.clone(T)):(y=!0,A.value=T),y){for(y=!1,u++,O=A.callbacks.slice(),$=0,g=O.length;g>$;$++)a=O[$],"$scanNoChanges"!==a.call(C,T)&&(c=!0);c&&A.extraLoop&&(l=!0)}n.debug.scan>1&&console.log("changed:",A.src)}w=w.nextSibling}return t.total=S,t.obTotal=k,t.changes=u,t.extraLoop=l},t.prototype.scan=function(e){var t,r,i,o,s,l,c,f,p,h,d,v,m,g,b,y,w;if(y=this,e=e||{},e.callback&&y.watchers.finishScanOnce.push(e.callback),e.late){if(y.lateScan)return;return y.lateScan=!0,void n.nextTick(function(){return y.lateScan?y.scan():void 0})}if("scaning"===y.status)return void(y.extraLoop=!0);y.lateScan=!1,y.status="scaning",s=y.watchers.finishScanOnce.slice(),y.watchers.finishScanOnce.length=0,n.debug.scan&&(w=a()),v=10;try{for(b={total:0,obTotal:0,changes:0,extraLoop:!1,src:""};v;){if(v--,y.extraLoop=!1,u(y,b),b.changes)for(m=y.watchers.any,l=0,f=m.length;f>l;l++)(r=m[l])();if(!b.extraLoop&&!y.extraLoop)break}n.debug.scan&&(i=a()-w,console.log("$scan: ("+(10-v)+") "+b.total+" + "+b.obTotal+" / "+i+"ms"))}catch($){o=$,n.exceptionHandler(o,"$scan, error in expression: "+b.src,{src:b.src,result:b})}finally{for(y.status=null,g=y.watchers.finishScan,c=0,p=g.length;p>c;c++)(t=g[c])();for(d=0,h=s.length;h>d;d++)t=s[d],t.call(y)}if(0===v)throw"Infinity loop detected"}}.call(this),function(){var e;e=function(t){var r,i,o,a,s,u,l,c,f;if(this instanceof e)return this;if(t=t||{},t.prototype){if(c=t.prototype,!c.$new)if(Object.setPrototypeOf){for(s=c,o={}.__proto__;s.__proto__!==o;)s=s.__proto__;Object.setPrototypeOf(s,e.prototype)}else{u=e.prototype;for(i in u)f=u[i],c[i]=f}}else c=new e;if(t.parent){if(t.root)throw"Conflict new Scope, root and parent together";a=t.parent,a.$system.exChildConstructor||(a.$system.exChildConstructor=function(){},a.$system.exChildConstructor.prototype=a),c=new a.$system.exChildConstructor,l=a.$system.root,r=!1}return t.root&&(l=t.root,r=!1),l||(l=n.core.root({useObserver:(n.debug.useObserver||t.useObserver)&&n.observer.support()}),r=!0),c.$system=l.node(c,{keywords:["$system","$parent","$ns"]}),c.$system.exIsRoot=r,c.$system.exChildren=[],t.attachParent&&(c.$parent=t.attachParent,t.attachParent.$system.exChildren.push(c)),c.$system.ob&&(c.$system.ob.rootEvent=function(e,t){var n,r,i,o;for(o=c.$system.exChildren,r=0,i=o.length;i>r;r++)n=o[r],n.$$rebuildObserve(e,t);return null}),c},n.Scope=e,e.prototype.$$rebuildObserve=function(e,t){var n,r,i,o,a;for(a=this,a.$system.ob.reobserve(e),o=a.$system.exChildren,r=0,i=o.length;i>r;r++)n=o[r],n.$$rebuildObserve(e,t);return a.$system.ob.fire(e,t)},e.prototype.$new=function(e){var t,r;return t=this,r=n.Scope(e?{root:t.$system.root,attachParent:t}:{parent:t,attachParent:t})},e.prototype.$watch=function(e,t,n){return n=n||{},n===!0&&(n={isArray:!0}),this.$system.watch(e,t,n)},e.prototype.$compile=function(e,t){return this.$system.compile(e,t)},e.prototype.$eval=function(e){return this.$compile(e,{noBind:!0})(this)},e.prototype.$getValue=function(e){return this.$eval(e)},e.prototype.$setValue=function(e,t){var n;return(n=this.$compile(e+" = $value",{input:["$value"],no_return:!0,noBind:!0}))(this,t)},e.prototype.$destroy=function(){var e,t,n,r,o,a,s;for(s=this,r=s.$system,a=r.root,s.$system.exIsRoot||i(s.$parent.$system.exChildren,s),o=r.exChildren.slice(),t=0,n=o.length;n>t;t++)e=o[t],e.$destroy();return r.destroy(),s.$system.exIsRoot?a.destroy():void 0},e.prototype.$scanAsync=function(e){return this.$scan({late:!0,callback:e})},e.prototype.$scan=function(e){return e=r.isFunction(e)?{callback:e}:e||{},this.$system.root.scan(e)}}.call(this),function(){var e,i,o,a,s,u,l,c,f;n.version="0.8.34",n.debug={useObserver:!1,observer:0,scan:0,directive:!1,watch:!1,watchText:!1,parser:!1},n.controllers={},n.filters={},n.utilits=n.utils={},n.directives={al:{},bo:{},ctrl:{}},n.text={},n.apps={},n.directivePreprocessor=u=function(e,t){var i,o,a,s,l,c,f,p;if(s="data-"===e.slice(0,5)?e.slice(5):e,o=s.indexOf("-"),0>o)return{noNs:!0};if(l=s.substring(0,o),s=s.substring(o+1).replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),c=t.scope.$ns&&t.scope.$ns.directives?t.scope.$ns.directives[l]:n.directives[l],!c)return{noNs:!0};if(f=c[s],!f)return{noDirective:!0};if(i={},r.isFunction(f))i.init=f;else{if(!r.isObject(f))throw"Wrong directive: "+l+"."+s;for(a in f)p=f[a],i[a]=p}if(i.priority=f.priority||0,i.restrict=f.restrict||"A",i.restrict.indexOf(t.attr_type)<0)throw"Directive has wrong binding (attribute/element): "+s;return i.$init=function(e,n,r,o){var a,c;return a=function(){var e,t,n,r,i;for(n=c.procLine,t=i=0,r=n.length;r>i;t=++i)if(e=n[t],e.fn.call(c),c.isDeferred){c.procLine=n.slice(t+1);break}return null},c={element:e,expression:n,scope:r,env:o,ns:l,name:s,args:t,directive:i,result:{},isDeferred:!1,procLine:u.ext,makeDeferred:function(){return c.isDeferred=!0,c.result.owner=!0,c.doBinding=!0,function(){return c.isDeferred=!1,a()}}},a(),c.result},i},function(){var e;return u.ext=e=[],e.push({code:"init",fn:function(){return this.directive.init&&(this.result=this.directive.init(this.element,this.expression,this.scope,this.env)||{}),r.isObject(this.result)?void 0:this.result={}}}),e.push({code:"templateUrl",fn:function(){var e,t;return t=this,this.directive.templateUrl?(e=this.makeDeferred(),r.ajax({cache:!0,url:this.directive.templateUrl,success:function(n){return t.directive.template=n,e()},error:e})):void 0}}),e.push({code:"template",fn:function(){var e;if(this.directive.template){if(1===this.element.nodeType)return r.html(this.element,this.directive.template);if(8===this.element.nodeType&&(e=document.createElement("p"),e.innerHTML=this.directive.template.trimLeft(),e=e.firstChild,r.after(this.element,e),this.element=e,!this.directive.scope))return this.directive.scope=!0}}}),e.push({code:"scope",fn:function(){var e;return this.directive.scope?(e=this.scope,this.scope=e.$new("isolate"===this.directive.scope),this.result.owner=!0,this.doBinding=!0):void 0}}),e.push({code:"link",fn:function(){return this.directive.link?this.directive.link(this.element,this.expression,this.scope,this.env):void 0}}),e.push({code:"scopeBinding",fn:function(){return this.doBinding?n.applyBindings(this.scope,this.element,{skip_attr:this.env.skippedAttr()}):void 0}})}(),f=function(){var e;return e=function(e,t,n){var r;return"A"===t.attr_type?(r=n||{},r.priority=-5,r.is_attr=!0,r.name=e,r.attrName=e,r.element=t.element,t.list.push(r)):void 0},function(t,r){var i;return r.skip_attr.indexOf(t)>=0?e(t,r,{skip:!0}):(i=n.directivePreprocessor(t,r),i.noNs?e(t,r):i.noDirective?e(t,r,{noDirective:!0}):r.list.push({name:t,directive:i,priority:i.priority,attrName:t}))}}(),c=function(e,t){return e.priority===t.priority?0:e.priority>t.priority?-1:1},e=function(e,t,i,o){var a,s,u;return s=t,s.indexOf(n.utilits.pars_start_tag)<0?void 0:(a=function(t){return r.attr(e,o,t),"$scanNoChanges"},u=i.$watchText(s,a),a(u.value))},s=function(e,t){var r,i,o;return i=t.data,i.indexOf(n.utilits.pars_start_tag)<0?void 0:(r=function(e){return t.nodeValue=e,"$scanNoChanges"},o=e.$watchText(i,r),r(o.value))},i=function(e,t){var r,i,o,a,s,u,l,c,p,h,d;if(h=t.nodeValue.trimLeft(),"directive:"===h.slice(0,10)){if(h=h.slice(10).trimLeft(),l=h.indexOf(" "),l>=0?(o=h.slice(0,+(l-1)+1||9e9),d=h.slice(l+1)):(o=h,d=""),r={list:c=[],element:t,attr_type:"M",scope:e,skip_attr:[]},f(o,r),i=c[0],i.noDirective)throw"Directive not found: "+i.name;a=i.directive,u={element:t,attrName:o,attributes:[],skippedAttr:function(){return[]}},n.debug.directive&&console.log("bind",i.attrName,d,i);try{if(p=a.$init(t,d,e,u),p&&p.start)return p.start()}catch(v){return s=v,n.exceptionHandler(s,"Error in directive: "+i.name,{value:d,env:u,scope:e,element:t})}}},o=function(){var t,i;return i=function(e,t){var n,i,o,a,s;for(1===arguments.length&&(t=!0),a=this.attributes,o=0,i=a.length;i>o;o++)if(n=a[o],n.attrName===e)return t&&(n.skip=!0),s=r.attr(this.element,e),s||!0},t=function(){var e,t,n,r,i;for(r=this.attributes,i=[],n=0,t=r.length;t>n;n++)e=r[n],e.skip&&i.push(e.attrName);return i},function(o,s,u){var l,p,h,d,v,m,g,b,y,w,$,x,k,_,D,O,C,S,T;if(u=u||{},S=!1,C=u.skip_attr||[],C instanceof Array||(C=[C]),!u.skip_top){l={list:$=[],element:s,skip_attr:C,attr_type:"E",scope:o},p=s.nodeName.toLowerCase(),f(p,l),l.attr_type="A",d=r.getAttributes(s);for(p in d)h=d[p],f(p,l);for($=$.sort(c),x=0,y=$.length;y>x;x++)if(v=$[x],!v.skip){if(v.noDirective)throw"Directive not found: "+v.name;if(v.skip=!0,T=r.attr(s,v.attrName),v.is_attr)e(s,T,o,v.attrName);else{m=v.directive,b={element:s,attrName:v.attrName,attributes:$,takeAttr:i,skippedAttr:t},n.debug.directive&&console.log("bind",v.attrName,T,v);try{O=m.$init(s,T,o,b),O&&O.start&&O.start()}catch(A){g=A,n.exceptionHandler(g,"Error in directive: "+v.attrName,{value:T,env:b,scope:o,element:s})}if(O&&O.owner){S=!0;break}}}}if(!S)for(D=r.childNodes(s),_=0,w=D.length;w>_;_++)k=D[_],k&&a(o,k);return null}}(),l={1:o,3:s,8:i},a=function(e,t,r){var i;if(!n.utils.getData(t,"skipBinding"))return i=l[t.nodeType],i?i(e,t,r):void 0},n.nextTick=function(){var e,t,r;return r=null,t=[],e=function(){var e,i,o,a,s,u,l;for(r=null,i=t.slice(),t.length=0,u=0,s=i.length;s>u;u++){a=i[u],e=a[0],l=a[1];try{e.call(l)}catch(c){o=c,n.exceptionHandler(o,"$nextTick, error in function",{fn:e})}}return null},function(n){return t.push([n,this]),r?void 0:r=setTimeout(e,0)}}(),n.getController=function(e,r){var i;if(i=r.$ns&&r.$ns.controllers?r.$ns.controllers[e]:n.controllers[e]||t&&window[e],!i)throw"Controller isn't found: "+e;if(!(i instanceof Function))throw"Wrong controller: "+e;return i},n.getFilter=function(e,t){var r;if(r=t.$ns&&t.$ns.filters?t.$ns.filters[e]:n.filters[e],!r)throw"Filter not found: "+e;return r},n.applyBindings=function(e,t,r){var i,o,s,u,l,c;if(!t)throw"No element";if(e||(e=n.Scope()),c=e.$system.root,o=!c.finishBinding_lock,o&&(c.finishBinding_lock=!0),r=r||{},a(e,t,r),o)for(c.finishBinding_lock=!1,u=c.watchers.finishBinding.slice(),c.watchers.finishBinding.length=0,l=0,s=u.length;s>l;l++)(i=u[l])();return null},n.bootstrap=function(e){var t,i,o,a,s,u,l,c,f,p,h,d,v;if(e||(e=r.find(document,"[al-app]")),e instanceof HTMLElement&&(e=[e]),r.isArray(e)||"number"==typeof e.length)for(c=0,u=e.length;u>c;c++)s=e[c],s.ma_bootstrapped||(s.ma_bootstrapped=!0,t=r.attr(s,"al-app"),t?"#"===t[0]?(d=t.split(" "),v=d[0].substring(1),o=d[1],h=n.apps[v],h?o&&console.error('New controller on exists scope: al-app="'+t+'"'):(n.apps[v]=h=n.Scope(),o&&(i=n.getController(o,h))(h))):(h=n.Scope(),(i=n.getController(t,h))(h)):h=n.Scope(),n.applyBindings(h,s,{skip_attr:"al-app"}));else{if(r.isObject(e)&&e.$el){if(h=n.Scope({prototype:e}),e.$el instanceof HTMLElement)n.applyBindings(h,e.$el);else for(p=r.find(document.body,e.$el),f=0,l=p.length;l>f;f++)a=p[f],n.applyBindings(h,a);return h}n.exceptionHandler("Error in bootstrap","Error in bootstrap",{input:e})}return null}}.call(this),function(){!function(){var e;return e=function(){var e;return e=0,function(){return e++,"wt"+e}}(),n.text.$base=function(e){var t,r,i,o,a,s,u;if(s=e.point,o=e.exp,a=o.indexOf(" "),0>a?(r=o.slice(1),o=""):(r=o.slice(1,a),o=o.slice(a)),u=e.scope,t=u.$ns&&u.$ns.text?u.$ns.text[r]:n.text[r],!t)throw"No directive alight.text."+r;return i={setter:function(t){return s.value=null===t?"":""+t,e.update()},"finally":function(t){return s.value=null===t?"":""+t,s.type="text",e["finally"]()}},t(i.setter,o,u,i)},n.Scope.prototype.$watchText=function(t,r,i){var o,a,s,u,l,c,f,p,h,d,v,m,g,b,y,w,$,x,k,_,D;if(i=i||{},$=this,n.debug.watchText&&console.log("$watchText",t),x=n.utilits.compile.buildSimpleText(t,null))return $.$watch(t,r,{watchText:x});for(l=n.utilits.parsText(t),D=0,o=!0,a=!0,d=!1,w=!1,f=c=function(){},v=0,b=l.length;b>v;v++)u=l[v],"expression"===u.type&&(p=u.list.join(" | "),"="===p[0]?p="#bindonce "+p.slice(1):"::"===p.slice(0,2)&&(p="#oneTimeBinding "+p.slice(2)),"#"===p[0]?(n.text.$base({exp:p,scope:$,point:u,update:function(){return f()},"finally":function(){return f(),c()}}),w=!0,"text"!==u.type&&(D++,d=!0,o=!1,a=!1)):(s=$.$compile(p,{string:!0,full:!0,rawExpression:!0,noBind:!0}),u.fn=s.fn,s.rawExpression?(u.re=s.rawExpression,s.isSimple>1?u.simpleVariables=s.simpleVariables:o=!1):(o=!1,a=!1),D++));if(!D){for(k="",m=0,y=l.length;y>m;m++)u=l[m],k+=u.value;return{isStatic:!0,value:k}}return o?(x=w?n.utilits.compile.buildSimpleText(null,l):n.utilits.compile.buildSimpleText(t,l),$.$watch(t,r,{watchText:x})):a?(x=w?n.utilits.compile.buildSimpleText(null,l):n.utilits.compile.buildSimpleText(t,l),$.$watch(t,r,{watchText:{fn:x.fn}})):d?(_=null,g=e(),l.scope=$,h=n.utilits.compile.buildText(t,l),f=function(){return $.$system.root["private"][g]=h()},c=function(){var e,t,n;for(e=!0,t=0,n=l.length;n>t;t++)if(u=l[t],"expression"===u.type){e=!1;break}return e?($.$watch("$finishScanOnce",function(){return _.stop()}),i.onStatic?i.onStatic():void 0):void 0},f(),_=$.$watch(g,r,{"private":!0})):(l.scope=$,h=n.utilits.compile.buildText(t,l),$.$watch(t,r,{watchText:{fn:h}}))}}()}.call(this),function(){var e,t;n.utilits.getId=function(){var e,t;return t=function(){var e,t,n,r,i,o;for(o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=Math.floor((new Date).valueOf()/1e3)-1388512800,i="";n>0;)e=Math.floor(n/62),r=62*e,t=n-r,n=e,i=o[t]+i;return i}(),e=1,function(){return t+"#"+e++}}(),n.utilits.filterBuilder=function(e,t,r){var i,o,a,s,u,l,c,f;if(!r||!r.length)return t;for(l=0,c=r.length;c>l;l++)o=r[l],i=o.match(/\s*([\w\d_]+?)\s*:\s*(.*?)\s*$/),i?(u=i[1],f=i[2]):(u=o.trim(),f=null),a=n.getFilter(u,e,f),s=a.call(e,f,e),t=t?function(e,t){return function(n){return e(t(n))}}(s,t):s;return t},n.utilits.clone=e=function(t){var n,r,i,o;if(!t)return t;if("object"==typeof t){if(t instanceof Array)return i=function(){var r,i,o;for(o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(e(n));return o}();if(t instanceof Date)return new Date(t.valueOf());if(t.nodeType&&"function"==typeof t.cloneNode)return t;i={};for(r in t)o=t[r],"$"!==r[0]&&(i[r]=e(o));return i}return t},n.utilits.equal=t=function(e,n){var r,i,o,a,s,u,l,c;if(!e)return e===n;if(u=typeof e,l=typeof n,u!==l)return!1;if("object"===u){if(e instanceof Array){if(e.length!==n.length)return!1;for(r=i=0,a=e.length;a>i;r=++i)if(c=e[r],!t(c,n[r]))return!1;return!0}if(e instanceof Date)return e.valueOf()===n.valueOf();if(e.nodeType&&"function"==typeof e.cloneNode)return e===n;s={};for(o in e)if(c=e[o],"$alite_id"!==o&&"$$observer"!==o&&(s[o]=!0,!t(c,n[o])))return!1;for(o in n)if(c=n[o],"$alite_id"!==o&&"$$observer"!==o&&!s[o]&&!t(c,e[o]))return!1;return!0}return e===n},n.exceptionHandler=function(e,t,n){var r;return console.warn(t,n),r="string"==typeof e?e:e.stack,console.error(r)},n.utilits.dataByElement=function(e,t){var n;return n=e.al,n||(e.al=n={}),t?(n[t]||(n[t]={}),n[t]):n},function(){var e;return"function"==typeof WeakMap?(e=new WeakMap,n.utils.setData=function(t,n,r){var i;return i=e.get(t),i||(i={},e.set(t,i)),i[n]=r},n.utils.getData=function(t,n){return(e.get(t)||{})[n]}):(n.utils.setData=function(e,t,n){var r;return r=e.al,r||(r={},e.al=r),r[t]=n},n.utils.getData=function(e,t){return(e.al||{})[t]})}()}.call(this),function(){var e,t;t=["instanceof","typeof","in","null","true","false","undefined","function","return"],n.utilits.parsExpression=function(e,r){var i,o,a,s,u,l,c,f,p,h,d,v,m,g,b,y,w,$,x,k,_,D,O,C,S,T,A,B;if(r=r||{},c=r.input||[],l=0,D=[],x=0,B=[],A=[],S=[],T=[],O=[],f=!c.length,$=function(n,r,i,o){var a,s,u,f,p,h,d;for(h="",d=-1,p=!1,f=function(){var e;if(h&&!(t.indexOf(h)>=0||(e=h.split(".")[0],c.indexOf(e)>=0||h[0].match(/[\d\.]/))))return B.push(d),A.push(h),S.push(!1),T.push(!1),!0};l<e.length;){if(u=e[l-1],a=e[l],l+=1,s=e[l],i&&(a.match(/[\d\w\u0410-\u044F\u0401\u0451_\.\$]/)?(h||(d=l-1),h+=a):("}"===r&&":"===e.substring(l-1).trim()[0]&&(h=""),f()&&(p=l),h="")),a===r)return;p&&" "!==a&&p!==l&&(p=!1),"="===a&&"="!==u&&"="!==s&&(S[S.length-1]=!0),"("!==a||o?"["!==a||o?"{"!==a||o?'"'===a?$(n+1,'"',!1,!0):"'"===a?$(n+1,"'",!1,!0):"|"===a&&0===n&&("|"===s?l+=1:(i=!1,D.push(e.substring(x,l-1)),x=l)):$(n+1,"}",!0):$(n+1,"]",i):(p&&(T[T.length-1]=!0),$(n+1,")",i))}return 0===n&&D.push(e.substring(x)),f()},$(0,null,!0),B.length){for(s=D[0],u=h=B.length-1;h>=0;u=h+=-1){if(b=B[u],C=A[u],i=S[u],p=T[u],p||i||O.push(C),(p||i)&&(f=!1),a=C.split("."),o=!1,a.length>1&&!i&&(o=p?a.length>2:!0),o){if(y=null,"this"===a[0]&&(a[0]="$$scope",2===a.length&&(y="$$scope."+a[1])),!y)if(d=[],d.push("($$=$$scope."+a[0]+",$$==null)?undefined:"),p){for(k=a.slice(1,+(a.length-3)+1||9e9),g=0,v=k.length;v>g;g++)u=k[g],d.push("($$=$$."+u+",$$==null)?undefined:");d.push("$$."+a[a.length-2]),y="("+d.join("")+")."+a[a.length-1]}else{for(_=a.slice(1,+(a.length-2)+1||9e9),w=0,m=_.length;m>w;w++)u=_[w],d.push("($$=$$."+u+",$$==null)?undefined:");d.push("$$."+a[a.length-1]),y="("+d.join("")+")"}}else y="this"===C?"$$scope":"this"===a[0]?"$$scope."+a.slice(1).join("."):"$$scope."+C;s=s.slice(0,b)+y+s.slice(b+C.length)}D[0]=s}return n.debug.parser&&console.log("parser",D),D.length>1&&(f=!1),r.fullResponse?{result:D,simpleVariables:O,isSimple:f}:D},n.utilits.pars_start_tag="{{",n.utilits.pars_finish_tag="}}",e=function(e){var t,r,i,o,a,s,u,l,c;return c=n.utilits.pars_start_tag,r=n.utilits.pars_finish_tag,u=[],o=0,s=0,i=function(t){var n;return t=t||1,n=e.substring(s,o-t),s=o,n},l=null,a=function(t,n,s){var c,f,p,h;for(t||(l={type:"expression",list:[]},u.push(l)),h=null,c=null;o<e.length;){if(h=c,c=e[o],o+=1,f=h+c,p=e[o],c===n)return;if(!s){if(f===r&&0===t)return l.list.push(i(2)),!0;"("===c?a(t+1,")"):"{"===c?a(t+1,"}"):'"'===c?a(t+1,'"',!0):"'"===c?a(t+1,"'",!0):"|"===c&&0===t&&("|"===p?o+=1:l.list.push(i()))}}},t=function(){var t,n,r,s,l;for(r=null,t=null;o<e.length;)if(r=t,t=e[o],o+=1,n=r+t,n===c){if(l=i(2),l&&u.push({type:"text",value:l}),!a(0))throw"Wrong expression"+e;t=null}return s=i(-1),s?u.push({type:"text",value:s}):void 0},t(),n.debug.parser&&console.log("parsText",u),u},function(){var t,r;return t={},r=function(e){var t,n,r;return r=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)t=e[r],n={type:t.type,value:t.value},t.list&&(n.list=t.list.slice()),o.push(n);return o}()},n.utilits.parsText=function(n){var i;return i=t[n],i||(t[n]=i=e(n)),r(i)}}()}.call(this),function(){var e;n.utilits.compile=e={},e.cache={},e.Function=Function,e.expression=function(t,r){var i,o,a,s,u,l,c,f,p,h,d,v,m,g,b;if(p=r.hash,f=e.cache[p])return f;if(f={fn:null,isSimple:0,simpleVariables:null},a=t,m=r.no_return||!1,u=n.utilits.parsExpression(a,{input:r.input,fullResponse:!0}),s=u.result,u.isSimple)for(f.isSimple=2,f.simpleVariables=u.simpleVariables,g=u.simpleVariables,d=0,v=g.length;v>d;d++)if(h=g[d],h.indexOf(".")<0){f.isSimple=1;break}a=s[0],l=s.slice(1),m?b="var $$;"+a:r.string&&!l.length?(b="var $$, __ = ("+a+"); return '' + (__ || (__ == null?'':__))",r.rawExpression&&(f.rawExpression="(__="+a+") || (__ == null?'':__)")):b="var $$;return ("+a+")";try{r.input?(i=r.input.slice(),i.unshift("$$scope"),i.push(b),c=e.Function.apply(null,i)):c=e.Function("$$scope",b)}catch(y){throw o=y,n.exceptionHandler(o,"Wrong expression: "+t,{src:t,cfg:r}),"Wrong expression: "+a}return f.fn=c,f.filters=l.length?l:null,e.cache[p]=f},e.cacheText={},e.buildText=function(t,n){var r,i,o,a,s,u,l;if(o=e.cacheText[t])return function(){return o.call(n)};for(l=[],a=s=0,u=n.length;u>s;a=++s)r=n[a],"expression"===r.type?l.push(r.fn?"this["+a+"].fn(this.scope)":"((x=this["+a+"].value) || (x == null?'':x))"):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),l.push('"'+i+'"'));return l=l.join(" + "),o=e.Function("var x; return ("+l+")"),e.cacheText[t]=o,function(){return o.call(n)}},e.cacheSimpleText={},e.buildSimpleText=function(t,n){var r,i,o,a,s,u,l,c,f;if(s=t?e.cacheSimpleText[t]:null,s||!n)return s||null;for(c=[],f=[],a=u=0,l=n.length;l>u;a=++u)r=n[a],"expression"===r.type?(c.push("("+r.re+")"),r.simpleVariables&&f.push.apply(f,r.simpleVariables)):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),c.push('"'+i+'"'));
return c=c.join(" + "),o=e.Function("$$scope","var $$, __; return ("+c+")"),s={fn:o,simpleVariables:f},t&&(e.cacheSimpleText[t]=s),s}}.call(this),function(){var e,t,i,o,a,s,u,l;for(n.text.bindonce=function(e,t,n,r){return r["finally"](n.$eval(t))},n.text.oneTimeBinding=function(e,t,n,r){var i;return i=n.$watch(t,function(e){return void 0!==e?(i.stop(),r["finally"](e)):void 0},{init:!0})},t=n.directives.al,t.debug={priority:5e3,init:function(e,t,r){return n.debug=t?r.$eval(t):-1}},t.text=function(e,t,n){var i,o;return i="",o={start:function(){return o.watchModel(),o.initDom()},updateDom:function(t){return(void 0===t||null===t)&&(t=""),r.text(e,t)},watchModel:function(){var e;return e=n.$watch(t,o.updateDom,{readOnly:!0}),i=e.value},initDom:function(){return o.updateDom(i)}}},t.value=function(e,t,i){var o,a;return o=null,a={changing:!1,onDom:function(){return r.on(e,"input",a.updateModel),r.on(e,"change",a.updateModel),i.$watch("$destroy",a.offDom)},offDom:function(){return r.off(e,"input",a.updateModel),r.off(e,"change",a.updateModel)},updateModel:function(){return n.nextTick(function(){var n;return n=r.val(e),a.changing=!0,i.$setValue(t,n),i.$scan(function(){return a.changing=!1})})},watchModel:function(){var e;return e=i.$watch(t,a.updateDom,{readOnly:!0}),o=e.value},updateDom:function(t){return a.changing?void 0:(null==t&&(t=""),r.val(e,t))},initDom:function(){return a.updateDom(o)},start:function(){return a.onDom(),a.watchModel(),a.initDom()}}},e=function(e){return{priority:10,init:function(t,i,o,a){var s;return s={callback:o.$compile(i,{no_return:!0,noBind:!0}),start:function(){return s.onDom(),s.stop=a.takeAttr("al-click-stop")},onDom:function(){return r.on(t,e,s.doCallback),o.$watch("$destroy",s.offDom)},offDom:function(){return r.off(t,e,s.doCallback)},doCallback:function(e){if(s.stop||(e.preventDefault(),e.stopPropagation()),!r.attr(t,"disabled")){try{s.callback(o)}catch(a){e=a,n.exceptionHandler(e,"al-click, error in expression: "+i,{name:i,scope:o,element:t})}return s.stop&&o.$eval(s.stop)&&(e.preventDefault(),e.stopPropagation()),o.$scan()}}}}}},t.click=e("click"),t.dblclick=e("dblclick"),t.submit=function(e,t,i){var o;return o={callback:i.$compile(t,{no_return:!0,noBind:!0}),start:function(){return o.onDom()},onDom:function(){return r.on(e,"submit",o.doCallback),i.$watch("$destroy",o.offDom)},offDom:function(){return r.off(e,"submit",o.doCallback)},doCallback:function(r){r.preventDefault(),r.stopPropagation();try{o.callback(i)}catch(a){r=a,n.exceptionHandler(r,"al-submit, error in expression: "+t,{name:t,scope:i,element:e})}return i.$scan()}}},t.controller={priority:500,restrict:"AE",init:function(e,t,r,i){var o;return o={owner:!0,start:function(){var t;return t=r.$new(),o.callController(t),n.applyBindings(t,e,{skip_attr:i.skippedAttr()})},callController:function(e){var r,i;return t?(i=t.split(" as "),r=n.getController(i[0],e),i[1]?e[i[1]]=new r(e):r(e)):void 0}}}},t.checked={priority:100,init:function(e,t,n){var i,o;return i=!1,o={changing:!1,start:function(){return o.onDom(),o.watchModel(),o.initDom()},onDom:function(){return r.on(e,"change",o.updateModel),n.$watch("$destroy",o.offDom)},offDom:function(){return r.off(e,"change",o.updateModel)},updateModel:function(){var i;return i=r.prop(e,"checked"),o.changing=!0,n.$setValue(t,i),n.$scan(function(){return o.changing=!1})},watchModel:function(){var e;return e=n.$watch(t,o.updateDom,{readOnly:!0}),i=!!e.value},updateDom:function(t){return o.changing?void 0:r.prop(e,"checked",!!t)},initDom:function(){return o.updateDom(i)}}}},t.radio={priority:10,init:function(e,t,n,i){var o,a;return o=!1,a={changing:!1,start:function(){return a.makeValue(),a.onDom(),a.watchModel(),a.initDom()},makeValue:function(){var e,t;return e=i.takeAttr("al-value"),t=e?n.$eval(e):i.takeAttr("value"),a.value=t},onDom:function(){return r.on(e,"change",a.updateModel),n.$watch("$destroy",a.offDom)},offDom:function(){return r.off(e,"change",a.updateModel)},updateModel:function(){return a.changing=!0,n.$setValue(t,a.value),n.$scan(function(){return a.changing=!1})},watchModel:function(){var e;return e=n.$watch(t,a.updateDom,{readOnly:!0}),o=e.value},updateDom:function(t){return a.changing?void 0:r.prop(e,"checked",t===a.value)},initDom:function(){return a.updateDom(o)}}}},t["class"]=t.css={priority:30,init:function(e,t,i){var o;return o={start:function(){return o.parsLine(),o.prepare()},parsLine:function(){var r,a,s,u,l,c;for(o.list=l=[],c=t.split(","),s=0,u=c.length;u>s;s++)r=c[s],a=r.indexOf(":"),0>a?n.exceptionHandler(r,"al-css, error in expression: "+t,{exp:t,e:r,scope:i,element:e}):l.push({css:r.slice(0,+(a-1)+1||9e9).trim().split(" "),exp:r.slice(a+1).trim()});return null},prepare:function(){var e,t,n,r,a,s;for(a=o.list,n=0,r=a.length;r>n;n++)t=a[n],e=function(e){return function(t){return o.draw(e,t)}}(t),s=i.$watch(t.exp,e,{readOnly:!0,init:!0});return null},draw:function(t,n){var i,o,a,s,u,l,c,f,p;if(n){for(l=t.css,f=[],o=0,s=l.length;s>o;o++)i=l[o],f.push(r.addClass(e,i));return f}for(c=t.css,p=[],a=0,u=c.length;u>a;a++)i=c[a],p.push(r.removeClass(e,i));return p}}}},u=function(e){var t;return t={priority:700,init:function(t,n,i){var o;return o=i.$eval(n),!o===e?(r.remove(t),{owner:!0}):void 0}}},n.directives.bo["if"]=u(!0),n.directives.bo.ifnot=u(!1),t["if"]={priority:700,init:function(e,t,i,o){var a;return a={owner:!0,item:null,child:null,base_element:null,top_element:null,init_value:!1,start:function(){return a.prepare(),a.watchModel(),a.initUpdate()},prepare:function(){return a.base_element=e,a.top_element=r.createComment(" "+o.attrName+": "+t+" "),r.before(e,a.top_element),r.remove(e)},updateDom:function(e){return e?a.insertBlock(e):a.removeBlock()},removeBlock:function(){return a.child?(a.child.$destroy(),a.removeDom(a.item),a.child=null,a.item=null):void 0},insertBlock:function(){return a.child?void 0:(a.item=r.clone(a.base_element),a.insertDom(a.top_element,a.item),a.child=i.$new(),n.applyBindings(a.child,a.item,{skip_attr:o.skippedAttr()}))},watchModel:function(){var e;return e=i.$watch(t,a.updateDom,{readOnly:!0}),a.init_value=e.value},initUpdate:function(){return a.updateDom(a.init_value)},removeDom:function(e){return r.remove(e)},insertDom:function(e,t){return r.after(e,t)}}}},t.ifnot={priority:700,init:function(){var e;return e=n.directives.al["if"].init.apply(this,arguments),e.updateDom=function(t){return t?e.removeBlock():e.insertBlock()},e}},t.show=function(e,t,n){var i,o;return i=!1,o={showDom:function(){return r.show(e)},hideDom:function(){return r.hide(e)},updateDom:function(e){return e?o.showDom():o.hideDom()},watchModel:function(){var e;return e=n.$watch(t,o.updateDom,{readOnly:!0}),i=e.value},initDom:function(){return o.updateDom(i)},start:function(){return o.watchModel(),o.initDom()}}},t.hide=function(e,t,r,i){var o;return o=n.directives.al.show(e,t,r,i),o.updateDom=function(e){return e?o.hideDom():o.showDom()},o},t.app={priority:2e3,init:function(){return{owner:!0}}},t.stop={priority:-10,restrict:"AE",init:function(){return{owner:!0}}},t.init=function(e,t,r){var i,o;try{o=r.$compile(t,{no_return:!0,noBind:!0}),o(r)}catch(a){i=a,n.exceptionHandler(i,"al-init, error in expression: "+t,{exp:t,scope:r,element:e})}return r.$scan({late:!0})},t.include={priority:100,init:function(e,t,i,o){var a,s,u,l,c,f;return u=null,s=null,f=null,a=null,l=null,c={owner:!0,start:function(){return c.prepare(),c.watchModel(),c.initUpdate()},prepare:function(){return s=e,f=r.createComment(" "+o.attrName+": "+t+" "),r.before(e,f),r.remove(e)},loadHtml:function(e){return r.ajax(e)},removeBlock:function(){return u&&(u.$destroy(),u=null),a?(c.removeDom(a),a=null):void 0},insertBlock:function(e){return a=r.clone(s),r.html(a,e),c.insertDom(f,a),u=i.$new(),n.applyBindings(u,a,{skip_attr:o.skippedAttr()})},updateDom:function(e){return e?c.loadHtml({cache:!0,url:e,success:function(e){return c.removeBlock(),c.insertBlock(e)},error:c.removeBlock}):c.removeBlock()},removeDom:function(e){return r.remove(e)},insertDom:function(e,t){return r.after(e,t)},watchModel:function(){var e;return e=i.$watch(t,c.updateDom,{readOnly:!0}),l=e.value},initUpdate:function(){return c.updateDom(l)}}}},t.html={priority:100,init:function(e,t,i,o){var a,s,u;return a=null,u=function(t){return a&&(a.$destroy(),a=null),t?(r.html(e,t),a=i.$new(),n.applyBindings(a,e,{skip_attr:o.skippedAttr()})):void r.html(e,"")},s=i.$watch(t,u,{readOnly:!0}),u(s.value),{owner:!0}}},n.directives.bo["switch"]={priority:500,init:function(e,t,r,i){var o;return o=r.$new(),o.$switch={value:r.$eval(t),on:!1},n.applyBindings(o,e,{skip_attr:i.skippedAttr()}),{owner:!0}}},n.directives.bo.switchWhen={priority:500,init:function(e,t,n){return n.$switch.value!==t?(r.remove(e),{owner:!0}):n.$switch.on=!0}},n.directives.bo.switchDefault={priority:500,init:function(e,t,n){return n.$switch.on?(r.remove(e),{owner:!0}):null}},t.src=function(e,t,n){var i,o;return o=function(t){return t||(t=""),r.attr(e,"src",t),"$scanNoChanges"},i=n.$watchText(t,o),o(i.value)},t.enable=function(e,t,n){var i,o;return i=function(t){return t?r.removeAttr(e,"disabled"):r.attr(e,"disabled","disabled")},o=n.$watch(t,i,{readOnly:!0}),i(o.value)},t.disable=function(e,t,n){var i,o;return i=function(t){return t?r.attr(e,"disabled","disabled"):r.removeAttr(e,"disabled")},o=n.$watch(t,i,{readOnly:!0}),i(o.value)},t.readonly=function(e,t,n){var i,o;return i=function(t){return r.prop(e,"readOnly",!!t)},o=n.$watch(t,i,{readOnly:!0}),i(o.value)},l=["keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","focus","blur","change"],i=function(e){return t[e]=function(t,i,o){var a;return a={start:function(){return a.makeCaller(),a.onDom()},makeCaller:function(){return a.caller=o.$compile(i,{no_return:!0,noBind:!0,input:["$event"]})},onDom:function(){return r.on(t,e,a.callback),o.$watch("$destroy",a.offDom)},offDom:function(){return r.off(t,e,a.callback)},callback:function(r){try{a.caller(o,r)}catch(s){r=s,n.exceptionHandler(r,e+", error in expression: "+i,{exp:i,scope:o,element:t})}return o.$scan()}}}},o=0,s=l.length;s>o;o++)a=l[o],i(a);t.cloak=function(e,t,n,i){return r.removeAttr(e,i.attrName),t?r.removeClass(e,t):void 0},t.focused=function(e,t,n){var i,o;return i=!1,o={changing:!1,updateModel:function(e){return o.changing?void 0:(o.changing=!0,n.$setValue(t,e),n.$scan(function(){return o.changing=!1}))},onDom:function(){var t,i;return i=function(){return o.updateModel(!0)},t=function(){return o.updateModel(!1)},r.on(e,"focus",i),r.on(e,"blur",t),n.$watch("$destroy",function(){return r.off(e,"focus",i),r.off(e,"blur",t)})},updateDom:function(t){return o.changing?void 0:(o.changing=!0,t?r.focus(e):r.blur(e),o.changing=!1)},watchModel:function(){var e;return e=n.$watch(t,o.updateDom,{readOnly:!0}),i=e.value},initDom:function(){return o.updateDom(i)},start:function(){return o.onDom(),o.watchModel(),o.initDom()}}},t.style=function(e,t,n){var r,i;return r={},i=function(t){var n,i,o,s;for(a in r)s=r[a],e.style[a]="";r={},i=t||{},o=[];for(n in i)s=i[n],a=n.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),r[a]=s,o.push(e.style[a]=s||"");return o},n.$watch(t,i,{deep:!0,init:!0})}}.call(this),function(){n.directives.al.repeat={priority:1e3,restrict:"AM",init:function(e,t,i,o){var a;return a={owner:!0,start:function(){return a.prepare(),a.parsExpression(),a.prepareDom(),a.buildUpdateDom(),a.watchModel(),a.initUpdateDom()},prepare:function(){var t,r;return a.childController=null,8!==e.nodeType?(r=o.takeAttr("al-controller"),r?(t=n.directives.al.controller.init(null,r,null),a.childController=t.callController):void 0):void 0},parsExpression:function(){var e,n;if(n=t,e=n.match(/(.*) store to ([\w\.]+)/),e&&(a.storeTo=e[2],n=e[1]),e=n.match(/(.*) track by ([\w\.\$\(\)]+)/),e&&(a.trackExpression=e[2],n=e[1]),e=n.match(/\s*(\w+)\s+in\s+(.+)/),!e)throw"Wrong repeat: "+t;return a.nameOfKey=e[1],a.expression=e[2]},watchModel:function(){return a.watch=i.$watch(a.expression,a.updateDom,{isArray:!0})},initUpdateDom:function(){return a.updateDom(a.watch.value)},prepareDom:function(){var i,o,s,u,l,c;if(8===e.nodeType){for(a.top_element=e,a.element_list=o=[],i=e.nextSibling;i;){if(8===i.nodeType&&(l=i.nodeValue,c=l.trim().split(/\s+/),"/directive:"===c[0]&&"al-repeat"===c[1])){n.utils.setData(i,"skipBinding",!0);break}o.push(i),i=i.nextSibling}for(s=0,u=o.length;u>s;s++)i=o[s],r.remove(i),n.utils.setData(i,"skipBinding",!0);return null}return a.base_element=e,a.top_element=r.createComment(" "+t+" "),r.before(e,a.top_element),r.remove(e)},makeChild:function(e,t,n){var r;return r=i.$new(),a.updateChild(r,e,t,n),a.childController&&a.childController(r),r},updateChild:function(e,t,n,r){return e[a.nameOfKey]=t,e.$index=n,e.$first=0===n,e.$last=n===r.length-1},rawUpdateDom:function(e,t){var n,i,o,a,s,u;for(i=0,s=e.length;s>i;i++)n=e[i],r.remove(n);for(a=0,u=t.length;u>a;a++)o=t[a],r.after(o.after,o.element);return null},buildUpdateDom:function(){return a.updateDom=function(){var t,s,u,l,c,f,p,h;return h=[],u=0,"$index"===a.trackExpression?(l={},f=function(){var e;return e=u,l[e]||null},c=function(e){var t;return t=e.$id,t&&delete l[t],null},p=function(e,t){var n;return n=u,t.$id=n,l[n]=t,null}):a.trackExpression?(l={},t=i.$compile(a.trackExpression,{input:["$id",a.nameOfKey]}),s=function(e){var t;return(t=e.$alite_id)?t:t=e.$alite_id=n.utilits.getId()},f=function(e){var n;return n=t(s,e),n?l[n]:null},c=function(e){var t;return t=e.$id,t&&delete l[t],null},p=function(e,n){var r;return r=t(s,e),n.$id=r,l[r]=n,null}):window.Map?(l=new Map,f=function(e){return l.get(e)},c=function(e){return l["delete"](e.item),null},p=function(e,t){return l.set(e,t),null}):(l={},f=function(e){var t;return t=e.$alite_id,t?l[t]:null},c=function(e){var t;return t=e.$id,t&&delete l[t],null},p=function(e,t){var r;return r=n.utilits.getId(),e.$alite_id=r,t.$id=r,l[r]=t,null}),a.element_list?function(e){var t,s,l,d,v,m,g,b,y,w,$,x,k,_,D,O,C,S,T,A,B,L,M,N,j,E,V,H,F,U,R,I,W,P;for(e&&e.length||(e=[]),O=a.top_element,d=[],H=[],y=0,C=h.length;C>y;y++)V=h[y],V.active=!1;for(u=k=0,S=e.length;S>k;u=++k)$=e[u],V=f($),V&&(V.active=!0);for(v=[],_=0,T=h.length;T>_;_++)if(V=h[_],!V.active)for(V.prev&&(V.prev.next=V.next),V.next&&(V.next.prev=V.prev),c(V),V.scope.$destroy(),I=V.element_list,D=0,A=I.length;A>D;D++)m=I[D],v.push(m);for(t=[],U=null,R=null,g=a.element_list.length-1,u=N=0,B=e.length;B>N;u=++N)if($=e[u],x=$,$=$||{},V=f($)){if(a.updateChild(V.scope,$,u,e),V.prev===R){R=V,O=V.element_list[g],V.active=!0,H.push(V);continue}for(V.prev=R,R&&(R.next=V),W=V.element_list,j=0,L=W.length;L>j;j++)m=W[j],d.push({element:m,after:O}),O=m;R=V,V.active=!0,H.push(V)}else l=a.makeChild(x,u,e),b=function(){var e,n,i,o;for(i=a.element_list,o=[],n=0,e=i.length;e>n;n++)s=i[n],m=r.clone(s),t.push([l,m]),d.push({element:m,after:O}),o.push(O=m);return o}(),V={scope:l,element_list:b,prev:R,next:null,active:!0,item:$},p($,V),R?(E=R.next,R.next=V,V.next=E,E&&(E.prev=V)):0===u&&h[0]&&(E=h[0],V.next=E,E.prev=V),R=V,H.push(V);for(h=H,a.rawUpdateDom(v,d),P=o.skippedAttr(),F=0,M=t.length;M>F;F++)w=t[F],n.applyBindings(w[0],w[1],{skip_attr:P});return a.storeTo?void i.$setValue(a.storeTo,e):i.$system.ob?void 0:"$scanNoChanges"}:function(t){var s,l,d,v,m,g,b,y,w,$,x,k,_,D,O,C,S,T,A,B,L,M;for(t&&t.length||(t=[]),k=a.top_element,d=[],A=[],m=0,_=h.length;_>m;m++)T=h[m],T.active=!1;for(u=w=0,D=t.length;D>w;u=++w)b=t[u],T=f(b),T&&(T.active=!0);for(v=function(){var e,t,n;for(n=[],e=0,t=h.length;t>e;e++)T=h[e],T.active||(T.prev&&(T.prev.next=T.next),T.next&&(T.next.prev=T.prev),c(T),T.scope.$destroy(),n.push(T.element));return n}(),s=[],B=null,L=null,u=$=0,O=t.length;O>$;u=++$)if(b=t[u],y=b,b=b||{},T=f(b)){if(a.updateChild(T.scope,b,u,t),T.prev===L){L=T,k=T.element,T.active=!0,A.push(T);continue}T.prev=L,L&&(L.next=T),d.push({element:T.element,after:L?L.element:a.top_element}),k=T.element,L=T,T.active=!0,A.push(T)}else l=a.makeChild(y,u,t),e=r.clone(a.base_element),s.push([l,e]),d.push({element:e,after:k}),T={scope:l,element:e,prev:L,next:null,active:!0,item:b},k=e,p(b,T),L?(S=L.next,L.next=T,T.next=S,S&&(S.prev=T)):0===u&&h[0]&&(S=h[0],T.next=S,S.prev=T),L=T,A.push(T);for(h=A,a.rawUpdateDom(v,d),M=o.skippedAttr(),x=0,C=s.length;C>x;x++)g=s[x],n.applyBindings(g[0],g[1],{skip_attr:M});return a.storeTo?void i.$setValue(a.storeTo,t):i.$system.ob?void 0:"$scanNoChanges"}}()}}}},n.directives.bo.repeat={priority:1e3,init:function(e,t,r,i){var o;return o=n.directives.al.repeat.init(e,t,r,i),o.start=function(){return o.prepare(),o.parsExpression(),o.prepareDom(),o.buildUpdateDom(),o.watch={value:r.$eval(o.expression)},o.initUpdateDom()},o}}}.call(this),function(){var e,t,r;n.filters.filter=function(e,t){var n;return n=t.$compile(e),function(e){var t,r,i,o,a,s,u;if(r=n(),!r)return e;if("string"==typeof r)r={$:r};else if("object"!=typeof r)return e;return s=function(){var n,s,l;for(l=[],n=0,s=e.length;s>n;n++)if(a=e[n],"object"==typeof a){if(i=!0,r.$){i=!1,t=r.$.toLowerCase();for(o in a)if(u=a[o],"$alite_id"!==o&&(""+u).toLowerCase().indexOf(t)>=0){i=!0;break}if(!i)continue}i=!0;for(o in r)if(u=r[o],t=a[o],t&&(""+t).toLowerCase().indexOf((""+u).toLowerCase())<0){i=!1;break}if(!i)continue;l.push(a)}else{if(!r.$)continue;if(t=r.$.toLowerCase(),(""+a).toLowerCase().indexOf(t)<0)continue;l.push(a)}return l}()}},n.filters.slice=function(e,t){var n;return n=t.$compile("["+e+"]"),function(e){return[].slice.apply(e,n())}},e=function(e){return 10>e?"0"+e:""+e},t=function(t,n){var r,i,o,a,s;if(!n)return"";for(s=[[/yyyy/g,n.getFullYear()],[/mm/g,e(n.getMonth()+1)],[/dd/g,e(n.getDate())],[/HH/g,e(n.getHours())],[/MM/g,e(n.getMinutes())],[/SS/g,e(n.getSeconds())]],a=t,i=0,o=s.length;o>i;i++)r=s[i],a=a.replace(r[0],r[1]);return a},n.filters.date=function(e){return function(n){return t(e,n)}},n.filters.generator=function(){var e;return e=[],function(t){if(e.length>=t)e.length=t;else for(;e.length<t;)e.push({});return e}},r=function(e){return JSON.stringify(n.utilits.clone(e),null,4)},n.filters.json=function(){return r}}.call(this),function(){!function(){var e,t,o,a,s,u,l,c,f,p,h,d,v,m;return n.observer=m={},m._objectObserve=Object.observe,m._objectUnobserve=Object.unobserve,m._arrayObserve=Array.observe,m._arrayUnobserve=Array.unobserve,m.support=function(){return"function"!=typeof WeakMap?!1:"function"!=typeof Object.observe?!1:"function"!=typeof Symbol?!1:!0},m.support()?(v=function(e){return r.isObject(e)?!0:r.isArray(e)},d=function(){var e;return e=0,function(){return e++,"n"+e}}(),e=Symbol("callbacks"),s=Symbol("scope"),a=Symbol("path"),o=Symbol("node"),t=Symbol("isArray"),h=function(e,t,n){var r,i,o,a,s;for(s=e.wtree,a=t.split("."),r=0,o=a.length;o>r&&(i=a[r],s=s[i],s);r++);return s?c(e,s,t,n):void 0},c=function(t,n,r,i){var o,a;a=!1;for(o in n)t.keywords[o]||c(t,n[o],r+"."+o,i)&&(a=!0);return!a&&n[e].length?(p(t,r,i),!0):!1},f=function(e,n,i){var u,l,c,p;i&&i!==n[s]&&console.error("Observe: fake scope"),l=n[s],r.isArray(l)?(n[t]=null,m._arrayUnobserve(l,e.observer.handler)):m._objectUnobserve(l,e.observer.handler),c=e.observer.treeByScope.get(l),delete c[e.id],n[o]=null,n[s]=null,n[a]=null;for(u in n)p=n[u],e.keywords[u]||r.isObject(p)&&f(e,n[u]);return null},p=function(e,n,i){var u,l,c,f,p,h,d,g,b;for(h=e.scope,g=e.tree,b=e.observer.treeByScope,c=n.split("."),p="",u=0,f=c.length;f>u;){if(l=c[u++],f===u){if(!r.isArray(h[l]))break}else if(!v(h[l]))break;if(g[l]||(g[l]={}),g=g[l],p?p+="."+l:p=l,h=h[l],d=b.get(h),d||(d={},b.set(h,d)),!d[e.id]){if(g[s]){if("add"===i)continue;throw"ERROR: tree has already got scope, why?"}g[o]=e,g[a]=p,g[s]=h,d[e.id]=g,r.isArray(h)?(g[t]=!0,m._arrayObserve(h,e.observer.handler)):m._objectObserve(h,e.observer.handler)}}return null},u=function(e,t,n){var i,u,l,c,f,p;if(!r.isObject(t))throw"Only objects can be observed";if(this.id=d(),this.active=!0,this.observer=e,this.rootEvent=null,this.keywords={},n)for(i=0,l=n.length;l>i;i++)u=n[i],this.keywords[u]=!0;if(this.scope=t,this.wtree={},this.tree=p={},e.nodes.push(this),c=this,f=e.treeByScope.get(t),f||(f={},e.treeByScope.set(t,f)),f[c.id])throw"ERROR: scope has already observed";if(p[s])throw"ERROR: tree has already got scope, why?";return p[o]=c,p[a]="",p[s]=t,f[c.id]=p,m._objectObserve(t,c.observer.handler),this},u.prototype.watch=function(t,n){var r,i,o,a,s;if(!this.active)throw"Inactive observer";for(s=this.wtree,a=t.split("."),r=0,o=a.length;o>r;r++){if(i=a[r],this.keywords[i])return;s[i]||(s[i]={},s[i][e]=[]),s=s[i],s[e].push(n)}return h(this,t,"watch"),n},u.prototype.unwatch=function(t,n){var r,o,a,s,u,l;for(l=this.wtree,u=t.split("."),o=0,s=u.length;s>o;o++)a=u[o],r=l[a],r&&(i(r[e],n),l=r);return null},u.prototype.reobserve=function(e){return this.tree[e]&&f(this,this.tree[e]),v(this.scope[e])?h(this,e):void 0},u.prototype.fire=function(t,n){var r,i,o,a,s,u,l,c,f;for(f=this.wtree,l=t.split("."),i=0,s=l.length;s>i;i++)o=l[i],f=f[o]||{};if(f[e])for(c=f[e],a=0,u=c.length;u>a;a++)(r=c[a])(n);return null},u.prototype.destroy=function(){if(!this.active)throw"Inactive observer";return this.active=!1,f(this,this.tree),i(this.observer.nodes,this)},l=function(){var e;return e=this,this.nodes=[],this.treeByScope=new WeakMap,this.handler=function(n){var r,i,s,u,l,c,p,d,m,g,b;for(s=0,c=n.length;c>s;s++)if(i=n[s],d=i.object,m=e.treeByScope.get(d))for(r in m)if(g=m[r],p=g[o],g[t])p.fire(g[a],null);else{if(u=i.name,p.keywords[u])continue;b=d[u],l=g[a]?g[a]+"."+u:u,"add"===i.type?(v(b)&&h(p,l,"add"),p.fire(l,b)):"update"===i.type?(g[u]&&v(i.oldValue)&&f(p,g[u],i.oldValue),v(b)&&h(p,l),p.fire(l,b)):"delete"===i.type&&(v(i.oldValue)&&f(p,g[u],i.oldValue),p.fire(l,null)),g===p.tree&&p.rootEvent&&p.rootEvent(l,b)}else console.warn("Why we are here?");return null},this},l.prototype.observe=function(e,t){var n;return t=t||{},n=new u(this,e,t.keywords)},l.prototype.deliver=function(){return Object.deliverChangeRecords(this.handler)},l.prototype.destroy=function(){var e,t,n,r;for(r=this.nodes.slice(),e=0,t=r.length;t>e;e++)n=r[e],n.destroy();return null},m.create=function(){return new l}):void 0}()}.call(this),n}if("function"==typeof define)define(function(){var t=e();return t.makeInstance=e,t});else if("object"==typeof module&&"object"==typeof module.exports){var t=e();t.makeInstance=e,module.exports=t}else if("function"==typeof alightInitCallback)alightInitCallback(e);else{var t=e({globalControllers:!0});window.alight=t,window.f$=t.f$,f$.ready(t.bootstrap)}}();