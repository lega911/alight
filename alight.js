/**
 * Angular Light 0.10.12
 * (c) 2015 Oleg Nechaev
 * Released under the MIT License.
 * 2015-11-30, http://angularlight.org/ 
 */!function(){function e(e){e=e||{};var t=e.globalControllers,n={core:{},controllers:{},filters:{},text:{},apps:{},utils:{},directives:{al:{},bo:{},ctrl:{}},hooks:{directive:[],binding:[]}},r={};n.f$=r,n.utilits=n.utils,n.d=n.directives;var i=function(e,t){var n=e.indexOf(t);n>=0?e.splice(n,1):console.warn("trying to remove not exist item")};!function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r,i=t?t:0;if(!this)throw new TypeError;if(r=this.length,0===r||i>=r)return-1;for(0>i&&(i=r-Math.abs(i)),n=i;r>n;n++)if(this[n]===e)return n;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),"function"!=typeof String.prototype.trimLeft&&(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")}),r.browser=function(){var e,t=navigator.appName,n=navigator.userAgent.toLowerCase(),r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!=(e=n.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),r=r?[r[1],r[2]]:[t,navigator.appVersion,"-?"],{name:r[0],version_string:r[1],version:Number(r[1].match(/\d+/))}}();var e=!1,t=!1,n=!1,i=window.$;if(r.__jquery?(n=5,i=r.__jquery):(("chrome"===r.browser.name||"safari"===r.browser.name)&&(e=!0),"firefox"===r.browser.name&&(t=r.browser.version),"msie"===r.browser.name&&(n=r.browser.version)),r.text=n&&8>n?function(e,t){i(e).text(t)}:function(e,t){return 2!==arguments.length?e.textContent||e.innerText:void(void 0!==e.textContent?e.textContent=t:e.innerText=t)},r.html=n&&6>n?function(e,t){return 2!==arguments.length?i(e).html():void i(e).html(t)}:function(e,t){return 2!==arguments.length?e.innerHTML:void(e.innerHTML=t)},r.createComment=function(e){return document.createComment(e)},r.before=function(e,t){var n=e.parentNode;n.insertBefore(t,e)},r.after=function(e,t){var n=e.parentNode,r=e.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)},r.remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},n&&9>n?(r.on=function(e,t,n){i(e).on(t,n)},r.off=function(e,t,n){i(e).off(t,n)}):(r.on=function(e,t,n){e.addEventListener(t,n,!1)},r.off=function(e,t,n){e.removeEventListener(t,n,!1)}),r.clone=function(e){return e.cloneNode(!0)},r.find=n&&8>n?function(e,t){return i(e).find(t)}:function(e,t){return e.querySelectorAll(t)},n&&8>n?(r.attr=function(e,t,n){return i(e).attr(t,n)},r.removeAttr=function(e,t){i(e).removeAttr(t)}):(r.attr=function(e,t,n){return 2===arguments.length?e.getAttribute(t):void e.setAttribute(t,n)},r.removeAttr=function(e,t){e.removeAttribute(t)}),r.isFunction=function(e){var t={};return e&&"[object Function]"===t.toString.call(e)},r.isObject=function(e){var t={};return e&&"[object Object]"===t.toString.call(e)},r.isArray=function(e){return e instanceof Array},r.val=n&&6>n?function(e,t){return 1===arguments.length?i(e).val():void i(e).val(t)}:function(e,t){return 1===arguments.length?e.value:void(e.value=t)},r.prop=n&&6>n?function(e,t,n){return 2===arguments.length?i(e).prop(t):void i(e).prop(t,n)}:function(e,t,n){return 2===arguments.length?e[t]:void(e[t]=n)},n&&8>n?(r.addClass=function(e,t){i(e).addClass(t)},r.removeClass=function(e,t){i(e).removeClass(t)}):(r.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},r.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")}),n&&8>n?(r.show=function(e){i(e).show()},r.hide=function(e){i(e).hide()}):(r.show=function(e){r.removeClass(e,"al-hide")},r.hide=function(e){r.addClass(e,"al-hide")}),r.children=n&&9>n||t&&4>t?function(e){return i(e).children()}:function(e){return e.children},r.childNodes=function(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++)t.push(n[r]);return t},r.getAttributes=n&&8>n?function(e){var t={},n=i(e);return n.length&&i.each(n.get(0).attributes,function(e,r){var r=r.nodeName||r.name;e=n.attr(r),void 0!=e&&e!==!1&&(t[r]=e)}),t}:function(e){for(var t,n={},r=e.attributes,i=0,o=r.length;o>i;i++)t=r.item(i),n[t.nodeName]=t.value;return n},r.ready=n&&9>n?function(e){i(function(){e()})}:function(){function e(){n=!0,r.off(document,"DOMContentLoaded",e);for(var i=0;i<t.length;i++)t[i]();t.length=0}var t=[],n=!1;return r.on(document,"DOMContentLoaded",e),function(e){n?e():t.push(e)}}(),n&&9>n)var o=function(){},a=function(e){i.ajax({url:e.url,type:e.type||"GET",username:e.username,password:e.password,headers:e.headers,data:e.data}).then(e.success||o,e.error||o)};else var a=function(e){var t=new XMLHttpRequest;t.open(e.type||"GET",e.url,!0,e.username,e.password);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);e.success&&(t.onload=function(){t.status>=200&&t.status<400?e.success(t.responseText):e.error&&e.error()}),e.error&&(t.onerror=e.error),t.send(e.data||null)};r.ajaxCache={},r.ajax=function(e){if(e.username||e.password||e.headers||e.data||!e.cache)return a(e);var t=e.type||"GET",n=t+":"+e.url,i=r.ajaxCache[n];return i||(r.ajaxCache[n]=i={callback:[]}),i.result?void(e.success&&e.success(i.result)):(i.callback.push(e),void(i.loading||(i.loading=!0,a({type:t,url:e.url,success:function(e){i.loading=!1,i.result=e;for(var t=0;t<i.callback.length;t++)i.callback[t].success&&i.callback[t].success(e);i.callback.length=0},error:function(){i.loading=!1;for(var e=0;e<i.callback.length;e++)i.callback[e].error&&i.callback[e].error();i.callback.length=0}}))))},n&&8>n?(r.focus=function(e){i(e).focus()},r.blur=function(e){i(e).blur()}):(r.focus=function(e){e.focus()},r.blur=function(e){e.blur()}),r.isElement=n&&9>n?function(e){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}:function(e){return e instanceof HTMLElement},function(){var e='@charset "UTF-8";[al-cloak],.al-hide{display:none !important;}',t=r.find(document,"head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}()}();var o,a,u,l,s,c,f,p,h;p=n.core,p.root=function(e){return e=e||{},new a(e)},a=function(e){return e=e||{},this.nodeHead=null,this.nodeTail=null,this["private"]={},this.watchers={any:[],finishBinding:[],finishScan:[],finishScanOnce:[]},this.status=null,this.extraLoop=!1,this.finishBinding_lock=!1,this.lateScan=!1,this},a.prototype.destroy=function(){return this.watchers.any.length=0,this.watchers.finishBinding.length=0,this.watchers.finishScan.length=0,this.watchers.finishScanOnce.length=0},a.prototype.node=function(e,t){return new o(this,e,t)},o=function(e,t){return this.scope=t,this.root=e,this.watchers={},this.watchList=[],this.destroy_callbacks=[],this.lineActive=!1,this.prevSibling=null,this.nextSibling=null,this.rwatchers={any:[],finishScan:[]},this},o.prototype.destroy=function(){var e,t,n,r,o,a,u,l,s,c,f,p,h,d,v,m,g,y,w,$,b;for(p=this,w=p.root,v=p.destroy_callbacks,n=0,a=v.length;a>n;n++)(t=v[n])();p.destroy_callbacks.length=0,p.watchList.length=0,b=p.watchers,p.watchers={};for(r in b)if(e=b[r],e.onStop.length)for(m=e.onStop,o=0,u=m.length;u>o;o++)(t=m[o])();for(g=p.rwatchers.any,c=0,l=g.length;l>c;c++)$=g[c],i(w.watchers.any,$);for(p.rwatchers.any.length=0,y=p.rwatchers.finishScan,h=0,s=y.length;s>h;h++)$=y[h],i(w.watchers.finishScan,$);return p.rwatchers.finishScan.length=0,p.lineActive?(p.lineActive=!1,d=p.prevSibling,f=p.nextSibling,d?d.nextSibling=f:w.nodeHead=f,f?f.prevSibling=d:w.nodeTail=d):void 0},s=function(){var e,t;return t=1,e=function(){return"wf"+t++},function(e,t,i,o){var a,u,l,s,c,f,p,h,d,v,m,g,y,w;for(m=e.scope,v=e.root,y=o.isArray?"array":o.deep?"deep":"simple",h=i,d=t.result.length-1,p=[];d>0;)s=t.result[d--].trim(),f=s.indexOf(":"),f>0?(c=s.slice(0,+(f-1)+1||9e9),u=s.slice(f+1)):(c=s,u=null),l=n.getFilter(c,m,u),a=l(u,m,{setValue:h}),r.isFunction(a)?h=function(e,t){return function(n){return t(e(n))}}(a,h):(a.watchMode&&(y=a.watchMode),h=a.onChange,a.onStop&&p.push(a.onStop));return w={init:o.init,oneTime:o.oneTime,onStop:function(){var e,t,n;for(t=0,n=p.length;n>t;t++)(e=p[t])();return p.length=0}},"array"===y?w.isArray=!0:"deep"===y&&(w.deep=!0),g=e.watch(t.expression,h,w),g.value=void 0,g}}(),u=function(e){return this.cb=e},h=function(e,t,n){var r,o;return r=e.root,o=new u(n),e.rwatchers[t].push(o),r.watchers[t].push(o),{stop:function(){return i(e.rwatchers[t],o),i(r.watchers[t],o)}}},o.prototype.watch=function(e,t,o){var a,u,l,c,f,p,d,v,m,g,y,w,$,b,x,k;if(d=this,$=d.root,b=d.scope,r.isFunction(e))l=e,p=n.utils.getId(),c=!0;else{if(c=!1,l=null,e=e.trim(),"::"===e.slice(0,2)&&(e=e.slice(2),o.oneTime=!0),o["private"]){if(o.oneTime||o.isArray||o.deep)throw"Conflict $watch option private";m=e,e="$system.root.private."+e}if(p=e,"$any"===p)return h(d,"any",t);if("$finishScan"===p)return h(d,"finishScan",t);if("$finishScanOnce"===p)return $.watchers.finishScanOnce.push(t);if("$destroy"===p)return d.destroy_callbacks.push(t);if("$finishBinding"===p)return $.watchers.finishBinding.push(t);p=o.deep?"d#"+p:o.isArray?"a#"+p:"v#"+p}if(n.debug.watch&&console.log("$watch",e),u=d.watchers[p])o.readOnly||(u.extraLoop=!0),w=u.value,l=u.exp;else{if(f=!1,!c)if(o.watchText)l=o.watchText.fn;else{if(v=n.utils.parsExpression(e),v.result.length>1)return s(d,v,t,o);a=n.utils.compile.expression(e),f=a.isSimple&&0===a.simpleVariables.length&&!o.isArray,l=a.fn}w=k=l(b),o.deep&&(k=n.utils.clone(k),o.isArray=!1),u={isStatic:f,isArray:Boolean(o.isArray),extraLoop:!o.readOnly,deep:o.deep,value:k,callbacks:[],exp:l,src:""+e,onStop:[]},o.isArray&&(u.value=r.isArray(k)?k.slice():void 0,w=u.value),f||(d.watchers[p]=u,d.watchList.push(u),d.lineActive||(d.lineActive=!0,x=$.nodeTail,x?($.nodeTail=x.nextSibling=d,d.prevSibling=x):$.nodeHead=$.nodeTail=d))}return g={$:u,value:w,fire:function(){return t(u.isArray?l(b):u.value)}},o.oneTime&&(y=t,t=function(e){return void 0!==e?(g.stop(),y(e)):void 0}),o.onStop&&u.onStop.push(o.onStop),u.callbacks.push(t),g.stop=function(){return i(u.callbacks,t),0===u.callbacks.length?(u.isStatic||(delete d.watchers[p],i(d.watchList,u)),o.onStop?o.onStop():void 0):void 0},o.init&&t(g.value),g},l=function(){return window.performance?function(){return Math.floor(performance.now())}:function(){return(new Date).getTime()}}(),c=function(e,t){var n,r,i,o,a,u;if(null===e||null===t)return!0;if(o=typeof e,a=typeof t,o!==a)return!0;if("object"===o){if(e.length!==t.length)return!0;for(n=r=0,i=e.length;i>r;n=++r)if(u=e[n],u!==t[n])return!0}return!1},f=function(e,t){var i,o,a,u,l,s,f,p,h,d,v,m,g,y,w,$,b,x,k;for(l=!1,u=0,b=0,g=e.nodeHead;g;){for($=g.scope,b+=g.watchList.length,y=g.watchList.slice(),f=0,d=y.length;d>f;f++)if(k=y[f],t.src=k.src,h=k.value,x=k.exp($),h!==x){if(m=!1,k.isArray?(i=r.isArray(h),o=r.isArray(x),i===o?i&&c(h,x)&&(k.value=x.slice(),m=!0):(m=!0,k.value=o?x.slice():null)):k.deep?n.utils.equal(h,x)||(m=!0,k.value=n.utils.clone(x)):(m=!0,k.value=x),m){for(m=!1,u++,s=!1,w=k.callbacks.slice(),p=0,v=w.length;v>p;p++)a=w[p],"$scanNoChanges"!==a.call($,x)&&(s=!0);s&&k.extraLoop&&(l=!0)}n.debug.scan>1&&console.log("changed:",k.src)}g=g.nextSibling}return t.total=b,t.changes=u,t.extraLoop=l},a.prototype.scan=function(e){var t,r,i,o,a,u,s,c,p,h,d,v,m,g,y,w,$;if(w=this,e=e||{},e.callback&&w.watchers.finishScanOnce.push(e.callback),e.late){if(w.lateScan)return;return w.lateScan=!0,void n.nextTick(function(){return w.lateScan?w.scan():void 0})}if("scaning"===w.status)return void(w.extraLoop=!0);w.lateScan=!1,w.status="scaning",a=w.watchers.finishScanOnce.slice(),w.watchers.finishScanOnce.length=0,n.debug.scan&&($=l()),v=10;try{for(y={total:0,changes:0,extraLoop:!1,src:""};v;){if(v--,w.extraLoop=!1,f(w,y),y.changes)for(m=w.watchers.any,u=0,c=m.length;c>u;u++)(r=m[u])();if(!y.extraLoop&&!w.extraLoop)break}n.debug.scan&&(i=l()-$,console.log("$scan: loops: ("+(10-v)+"), last-loop changes: "+y.changes+", watches: "+y.total+" / "+i+"ms"))}catch(b){o=b,n.exceptionHandler(o,"$scan, error in expression: "+y.src,{src:y.src,result:y})}finally{for(w.status=null,g=w.watchers.finishScan,s=0,p=g.length;p>s;s++)(t=g[s])();for(d=0,h=a.length;h>d;d++)t=a[d],t.call(w)}if(0===v)throw"Infinity loop detected";return y};var d;d=function(e){var t,r,i,o,a,u,l,s,c;if(this instanceof d)return this;if(e=e||{},e.prototype){if(s=e.prototype,!s.$new)if(Object.setPrototypeOf){for(a=s,i={}.__proto__;a.__proto__!==i;)a=a.__proto__;Object.setPrototypeOf(a,d.prototype)}else{u=d.prototype;for(r in u)c=u[r],s[r]=c}}else if(e.parent){if(e.root)throw"Conflict new Scope, root and parent together";o=e.parent,o.$system.exChildConstructor||(o.$system.exChildConstructor=function(){},o.$system.exChildConstructor.prototype=o),s=new o.$system.exChildConstructor,l=o.$system.root,t=!1}else s=new d;return e.root&&(l=e.root,t=!1),l||(l=n.core.root(),t=!0),s.$system=l.node(s,{keywords:["$system","$parent","$ns"]}),s.$system.exIsRoot=t,s.$system.exChildren=[],e.attachParent&&(s.$parent=e.attachParent,e.attachParent.$system.exChildren.push(s)),s},n.Scope=d,d.prototype.$new=function(e){var t,r;return t=this,r=n.Scope("root"===e?{attachParent:t}:e?{root:t.$system.root,attachParent:t}:{parent:t,attachParent:t})},d.prototype.$watch=function(e,t,n){return n=n||{},n===!0&&(n={isArray:!0}),this.$system.watch(e,t,n)},d.prototype.$compile=function(e,t){return n.utils.compile.expression(e,t).fn},d.prototype.$eval=function(e){var t;return(t=this.$compile(e))(this)},d.prototype.$getValue=function(e){return this.$eval(e)},d.prototype.$setValue=function(e,t){var n;return(n=this.$compile(e+" = $value",{input:["$value"],no_return:!0}))(this,t)},d.prototype.$destroy=function(){var e,t,n,r,o,a,u;for(u=this,r=u.$system,a=r.root,u.$system.exIsRoot||i(u.$parent.$system.exChildren,u),o=r.exChildren.slice(),t=0,n=o.length;n>t;t++)e=o[t],e.$destroy();return r.destroy(),u.$system.exIsRoot?a.destroy():void 0},d.prototype.$scanAsync=function(e){return this.$scan({late:!0,callback:e})},d.prototype.$scan=function(e){return e=r.isFunction(e)?{callback:e}:e||{},this.$system.root.scan(e)};var v,m,g,y,w,$,b,x,k;n.version="0.10.12",n.debug={scan:0,directive:!1,watch:!1,watchText:!1,parser:!1},n.directivePreprocessor=$=function(e,t){var i,o,a,u,l,s,c,f;if(u="data-"===e.slice(0,5)?e.slice(5):e,o=u.indexOf("-"),0>o)return{noNs:!0};if(l=u.substring(0,o),u=u.substring(o+1).replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),c=null,t.scope.$ns&&t.scope.$ns.directives)if(s=t.scope.$ns.directives[l]){if(c=s[u],!c&&!t.scope.$ns.inheritGlobal)return{noDirective:!0}}else if(!t.scope.$ns.inheritGlobal)return{noNs:!0};if(!c){if(s=n.directives[l],!s)return{noNs:!0};if(c=s[u],!c)return{noDirective:!0}}if(i={},r.isFunction(c))i.init=c;else{if(!r.isObject(c))throw"Wrong directive: "+l+"."+u;for(a in c)f=c[a],i[a]=f}if(i.priority=c.priority||0,i.restrict=c.restrict||"A",i.restrict.indexOf(t.attr_type)<0)throw"Directive has wrong binding (attribute/element): "+u;return i.$init=function(e,r,o,a){var s,c;return s=function(){var e,t,n,r,i;for(n=c.procLine,t=i=0,r=n.length;r>i;t=++i)if(e=n[t],e.fn.call(c),c.isDeferred){c.procLine=n.slice(t+1);break}return null},c={element:e,expression:r,scope:o,env:a,ns:l,name:u,args:t,directive:i,result:{},isDeferred:!1,procLine:n.hooks.directive,makeDeferred:function(){return c.isDeferred=!0,c.result.owner=!0,c.doBinding=!0,function(){return c.isDeferred=!1,s()}}},s(),c.result},i},function(){var e;return $.ext=e=n.hooks.directive,e.push({code:"init",fn:function(){return this.directive.init&&(this.result=this.directive.init(this.element,this.expression,this.scope,this.env)||{}),r.isObject(this.result)?void 0:this.result={}}}),e.push({code:"templateUrl",fn:function(){var e,t;return t=this,this.directive.templateUrl?(e=this.makeDeferred(),r.ajax({cache:!0,url:this.directive.templateUrl,success:function(n){return t.directive.template=n,e()},error:e})):void 0}}),e.push({code:"template",fn:function(){var e;if(this.directive.template){if(1===this.element.nodeType)return r.html(this.element,this.directive.template);if(8===this.element.nodeType&&(e=document.createElement("p"),e.innerHTML=this.directive.template.trimLeft(),e=e.firstChild,r.after(this.element,e),this.element=e,!this.directive.scope))return this.directive.scope=!0}}}),e.push({code:"scope",fn:function(){var e;return this.directive.scope?(e=this.scope,this.scope=e.$new("root"===this.directive.scope?"root":"isolate"===this.directive.scope),this.result.owner=!0,this.doBinding=!0):void 0}}),e.push({code:"link",fn:function(){return this.directive.link?this.directive.link(this.element,this.expression,this.scope,this.env):void 0}}),e.push({code:"scopeBinding",fn:function(){return this.doBinding?n.applyBindings(this.scope,this.element,{skip_attr:this.env.skippedAttr()}):void 0}})}(),k=function(){var e;return e=function(e,t,n){var r;return"A"===t.attr_type?(r=n||{},r.priority=-5,r.is_attr=!0,r.name=e,r.attrName=e,r.element=t.element,t.list.push(r)):void 0},function(t,r){var i;return r.skip_attr.indexOf(t)>=0?e(t,r,{skip:!0}):(i=n.directivePreprocessor(t,r),i.noNs?e(t,r):i.noDirective?e(t,r,{noDirective:!0}):r.list.push({name:t,directive:i,priority:i.priority,attrName:t}))}}(),x=function(e,t){return e.priority===t.priority?0:e.priority>t.priority?-1:1},v=function(e,t,i,o){var a,u,l;return u=t,u.indexOf(n.utils.pars_start_tag)<0?void 0:(a=function(t){return r.attr(e,o,t),"$scanNoChanges"},l=i.$watchText(u,a),a(l.value))},w=function(e,t){var r,i,o;return i=t.data,i.indexOf(n.utils.pars_start_tag)<0?void 0:(r=function(e){return t.nodeValue=e,"$scanNoChanges"},o=e.$watchText(i,r),r(o.value))},m=function(e,t){var r,i,o,a,u,l,s,c,f,p,h;if(p=t.nodeValue.trimLeft(),"directive:"===p.slice(0,10)){if(p=p.slice(10).trimLeft(),s=p.indexOf(" "),s>=0?(o=p.slice(0,+(s-1)+1||9e9),h=p.slice(s+1)):(o=p,h=""),r={list:c=[],element:t,attr_type:"M",scope:e,skip_attr:[]},k(o,r),i=c[0],i.noDirective)throw"Directive not found: "+i.name;a=i.directive,l={element:t,attrName:o,attributes:[],skippedAttr:function(){return[]}},n.debug.directive&&console.log("bind",i.attrName,h,i);try{if(f=a.$init(t,h,e,l),f&&f.start)return f.start()}catch(d){return u=d,n.exceptionHandler(u,"Error in directive: "+i.name,{value:h,env:l,scope:e,element:t})}}},g=function(){var e,t;return t=function(e,t){var n,i,o,a,u;for(1===arguments.length&&(t=!0),a=this.attributes,o=0,i=a.length;i>o;o++)if(n=a[o],n.attrName===e)return t&&(n.skip=!0),u=r.attr(this.element,e),u||!0},e=function(){var e,t,n,r,i;for(r=this.attributes,i=[],n=0,t=r.length;t>n;n++)e=r[n],e.skip&&i.push(e.attrName);return i},function(i,o,a){var u,l,s,c,f,p,h,d,m,g,w,$,b,_,D,C,S,T,A;if(a=a||{},T=!1,S=a.skip_attr||[],S instanceof Array||(S=[S]),!a.skip_top){u={list:w=[],element:o,skip_attr:S,attr_type:"E",scope:i},l=o.nodeName.toLowerCase(),k(l,u),u.attr_type="A",c=r.getAttributes(o);for(l in c)s=c[l],k(l,u);for(w=w.sort(x),$=0,m=w.length;m>$;$++)if(f=w[$],!f.skip){if(f.noDirective)throw"Directive not found: "+f.name;if(f.skip=!0,A=r.attr(o,f.attrName),f.is_attr)v(o,A,i,f.attrName);else{p=f.directive,d={element:o,attrName:f.attrName,attributes:w,takeAttr:t,skippedAttr:e},n.debug.directive&&console.log("bind",f.attrName,A,f);try{C=p.$init(o,A,i,d),C&&C.start&&C.start()}catch(M){h=M,n.exceptionHandler(h,"Error in directive: "+f.attrName,{value:A,env:d,scope:i,element:o})}if(C&&C.owner){T=!0;break}}}}if(!T)for(D=r.childNodes(o),_=0,g=D.length;g>_;_++)b=D[_],b&&y(i,b);return null}}(),b={1:g,3:w,8:m},y=function(e,t,r){var i,o,a,u,l,s;if(!n.utils.getData(t,"skipBinding")){if(n.hooks.binding.length)for(s=n.hooks.binding,u=0,a=s.length;a>u;u++)if(o=s[u],l=o.fn(e,t,r),l&&l.owner)return;return i=b[t.nodeType],i?i(e,t,r):void 0}},n.nextTick=function(){var e,t,r;return r=null,t=[],e=function(){var e,i,o,a,u,l,s;for(r=null,i=t.slice(),t.length=0,l=0,u=i.length;u>l;l++){a=i[l],e=a[0],s=a[1];try{e.call(s)}catch(c){o=c,n.exceptionHandler(o,"$nextTick, error in function",{fn:e})}}return null},function(n){return t.push([n,this]),r?void 0:r=setTimeout(e,0)}}(),n.getController=function(e,r){var i,o;if(o=!1,r.$ns&&r.$ns.controllers&&(i=r.$ns.controllers[e],i||r.$ns.inheritGlobal||(o=!0)),i||o||(i=n.controllers[e]||t&&window[e]),!i)throw"Controller isn't found: "+e;if(!(i instanceof Function))throw"Wrong controller: "+e;return i},n.getFilter=function(e,t){var r,i;if(r=!1,t.$ns&&t.$ns.filters&&(i=t.$ns.filters[e],i||t.$ns.inheritGlobal||(r=!0)),i||r||(i=n.filters[e]),!i)throw"Filter not found: "+e;return i},n.applyBindings=function(e,t,r){var i,o,a,u,l,s;if(!t)throw"No element";if(e||(e=n.Scope()),s=e.$system.root,o=!s.finishBinding_lock,o&&(s.finishBinding_lock=!0),r=r||{},y(e,t,r),o)for(s.finishBinding_lock=!1,u=s.watchers.finishBinding.slice(),s.watchers.finishBinding.length=0,l=0,a=u.length;a>l;l++)(i=u[l])();return null},n.bootstrap=function(e){var t,i,o,a,u,l,s,c,f,p,h,d,v;if(e||(e=r.find(document,"[al-app]")),r.isElement(e)&&(e=[e]),r.isArray(e)||"number"==typeof e.length)for(c=0,l=e.length;l>c;c++)u=e[c],u.ma_bootstrapped||(u.ma_bootstrapped=!0,t=r.attr(u,"al-app"),t?"#"===t[0]?(d=t.split(" "),v=d[0].substring(1),o=d[1],h=n.apps[v],h?o&&console.error('New controller on exists scope: al-app="'+t+'"'):(n.apps[v]=h=n.Scope(),o&&(i=n.getController(o,h))(h))):(h=n.Scope(),(i=n.getController(t,h))(h)):h=n.Scope(),n.applyBindings(h,u,{skip_attr:"al-app"}));else{if(r.isObject(e)&&e.$el){if(h=n.Scope({prototype:e}),r.isElement(e.$el))n.applyBindings(h,e.$el);else for(p=r.find(document.body,e.$el),f=0,s=p.length;s>f;f++)a=p[f],n.applyBindings(h,a);return h}n.exceptionHandler("Error in bootstrap","Error in bootstrap",{input:e})}return null},function(){var e;return e=function(){var e;return e=0,function(){return e++,"wt"+e}}(),n.text.$base=function(e){var t,r,i,o,a,u,l;if(u=e.point,o=e.exp,a=o.indexOf(" "),0>a?(r=o.slice(1),o=""):(r=o.slice(1,a),o=o.slice(a)),l=e.scope,t=l.$ns&&l.$ns.text?l.$ns.text[r]:n.text[r],!t)throw"No directive alight.text."+r;return i={setter:function(t){return u.value=null===t?"":""+t,e.update()},"finally":function(t){return u.value=null===t?"":""+t,u.type="text",e["finally"]()}},t(i.setter,o,l,i)},n.Scope.prototype.$watchText=function(t,r,i){var o,a,u,l,s,c,f,p,h,d,v,m,g,y,w,$,b,x,k,_;if(i=i||{},$=this,n.debug.watchText&&console.log("$watchText",t),b=n.utils.compile.buildSimpleText(t,null))return $.$watch(t,r,{watchText:b,init:i.init});for(l=n.utils.parsText(t),_=0,o=!0,y=!1,c=s=function(){},h=0,m=l.length;m>h;h++)if(u=l[h],"expression"===u.type)if(f=u.list.join(" | "),"="===f[0]?f="#bindonce "+f.slice(1):"::"===f.slice(0,2)&&(f="#oneTimeBinding "+f.slice(2)),"#"===f[0])n.text.$base({exp:f,scope:$,point:u,update:function(){return c()},"finally":function(){return c(),s()}}),y=!0,"text"!==u.type&&(_++,o=!1);else if(w=n.utils.parsExpression(f),w.hasFilters)_++,o=!1,function(e){return $.$watch(f,function(t){return null==t&&(t=""),e.value=t,c()},{init:!0})}(u);else{if(a=n.utils.compile.expression(w.expression,{string:!0,full:!0,rawExpression:!0}),u.fn=a.fn,!a.rawExpression)throw"Error";a.isSimple&&0===a.simpleVariables.length?(u.type="text",u.value=u.fn()):(u.re=a.rawExpression,_++)}if(!_){for(x="",d=0,g=l.length;g>d;d++)u=l[d],x+=u.value;return i.init&&r(x),{isStatic:!0,value:x,fire:function(){return r(x)}}}return o?(b=y?n.utils.compile.buildSimpleText(null,l):n.utils.compile.buildSimpleText(t,l),$.$watch(t,r,{watchText:{fn:b.fn},init:i.init})):(k=null,v=e(),l.scope=$,p=n.utils.compile.buildText(t,l),c=function(){return $.$system.root["private"][v]=p()},s=function(){var e,t,n;for(e=!0,t=0,n=l.length;n>t;t++)if(u=l[t],"expression"===u.type){e=!1;break}return e?($.$watch("$finishScanOnce",function(){return k.stop()}),i.onStatic?i.onStatic():void 0):void 0},c(),k=$.$watch(v,r,{"private":!0,init:i.init}))}}();var _,D;n.utils.getId=function(){var e,t;return t=function(){var e,t,n,r,i,o;for(o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=Math.floor((new Date).valueOf()/1e3)-1388512800,i="";n>0;)e=Math.floor(n/62),r=62*e,t=n-r,n=e,i=o[t]+i;return i}(),e=1,function(){return t+"#"+e++}}(),n.utils.clone=_=function(e){var t,n,r,i;if(!e)return e;if("object"==typeof e){if(e instanceof Array)return r=function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(_(t));return i}();if(e instanceof Date)return new Date(e.valueOf());if(e.nodeType&&"function"==typeof e.cloneNode)return e;r={};for(n in e)i=e[n],"$"!==n[0]&&(r[n]=_(i));return r}return e},n.utils.equal=D=function(e,t){var n,r,i,o,a,u,l,s;if(!e)return e===t;if(u=typeof e,l=typeof t,u!==l)return!1;if("object"===u){if(e instanceof Array){if(e.length!==t.length)return!1;for(n=r=0,o=e.length;o>r;n=++r)if(s=e[n],!D(s,t[n]))return!1;return!0}if(e instanceof Date)return e.valueOf()===t.valueOf();if(e.nodeType&&"function"==typeof e.cloneNode)return e===t;a={};for(i in e)if(s=e[i],"$"!==i[0]&&(a[i]=!0,!D(s,t[i])))return!1;for(i in t)if(s=t[i],"$"!==i[0]&&!a[i]&&!D(s,e[i]))return!1;return!0}return e===t},n.exceptionHandler=function(e,t,n){var r;return console.warn(t,(e.message||"")+"\n",n),r="string"==typeof e?e:e.stack,console.error(r)},function(){var e;return"function"==typeof WeakMap?(e=new WeakMap,n.utils.setData=function(t,n,r){var i;return i=e.get(t),i||(i={},e.set(t,i)),i[n]=r},n.utils.getData=function(t,n){return(e.get(t)||{})[n]}):(n.utils.setData=function(e,t,n){var r;return r=e.al,r||(r={},e.al=r),r[t]=n},n.utils.getData=function(e,t){return(e.al||{})[t]})}();var C;C={"instanceof":!0,"typeof":!0,"in":!0,"null":!0,"true":!0,"false":!0,undefined:!0,"function":!0,"return":!0},n.utils.parsExpression=function(e,t){var r,i,o,a,u,l,s,c,f,p,h,d,v,m,g,y,w,$,b,x,k,_,D,S,T,A,M,O,j,B;if(t=t||{},f=t.input||[],c=0,S=[],k=0,B=[],j=[],M=[],O=[],T=[],p=!f.length,x=function(t,n,r,i){var o,a,u,l,s,p,h;for(p="",h=-1,s=!1,l=function(){var e;if(p&&!(C[p]||(e=p.split(".")[0],f.indexOf(e)>=0||p[0].match(/[\d\.]/))))return B.push(h),j.push(p),M.push(!1),O.push(!1),!0};c<e.length;){if(u=e[c-1],o=e[c],c+=1,a=e[c],r&&(o.match(/[\d\w\u0410-\u044F\u0401\u0451_\.\$]/)?(p||(h=c-1),p+=o):("}"===n&&":"===e.substring(c-1).trim()[0]&&(p=""),l()&&(s=c),p="")),o===n)return;s&&" "!==o&&s!==c&&(s=!1),"="===o&&"="!==u&&"="!==a&&(M[M.length-1]=!0),"+"===o&&("+"===a||"="===a)&&(M[M.length-1]=!0),"-"===o&&("-"===a||"="===a)&&(M[M.length-1]=!0),"("!==o||i?"["!==o||i?"{"!==o||i?'"'===o?x(t+1,'"',!1,!0):"'"===o?x(t+1,"'",!1,!0):"|"===o&&0===t&&("|"===a?c+=1:(r=!1,S.push(e.substring(k,c-1)),k=c)):x(t+1,"}",!0):x(t+1,"]",r):(s&&(O[O.length-1]=!0),x(t+1,")",r))}return 0===t&&S.push(e.substring(k)),l()},x(0,null,!0),u=S[0],B.length){for(a=S[0],s=d=B.length-1;d>=0;s=d+=-1){if($=B[s],A=j[s],r=M[s],h=O[s],h||r||T.push(A),(h||r)&&(p=!1),o=A.split("."),i=!1,o.length>1&&!r&&(i=h?o.length>2:!0),i){if(b=null,"this"===o[0]&&(o[0]="$$scope",2===o.length&&(b="$$scope."+o[1])),!b)if(m=[],m.push("($$=$$scope."+o[0]+",$$==null)?undefined:"),h){for(_=o.slice(1,+(o.length-3)+1||9e9),v=0,g=_.length;g>v;v++)s=_[v],m.push("($$=$$."+s+",$$==null)?undefined:");m.push("$$."+o[o.length-2]),b="("+m.join("")+")."+o[o.length-1]}else{for(D=o.slice(1,+(o.length-2)+1||9e9),w=0,y=D.length;y>w;w++)s=D[w],m.push("($$=$$."+s+",$$==null)?undefined:");m.push("$$."+o[o.length-1]),b="("+m.join("")+")"}}else b="this"===A?"$$scope":"this"===o[0]?"$$scope."+o.slice(1).join("."):"$$scope."+A;a=a.slice(0,$)+b+a.slice($+A.length)}S[0]=a}return n.debug.parser&&console.log("parser",S),l=S.length>1,l&&(p=!1),{result:S,expression:u,simpleVariables:T,isSimple:p,hasFilters:l}},function(){var e,t,r;return n.utils.pars_start_tag="{{",n.utils.pars_finish_tag="}}",r=function(e){var t,r,i,o,a,u,l,s,c;return c=n.utils.pars_start_tag,r=n.utils.pars_finish_tag,l=[],o=0,u=0,i=function(t){var n;return t=t||1,n=e.substring(u,o-t),u=o,n},s=null,a=function(t,n,u){var c,f,p,h;for(t||(s={type:"expression",list:[]},l.push(s)),h=null,c=null;o<e.length;){if(h=c,c=e[o],o+=1,f=h+c,p=e[o],c===n)return;if(!u){if(f===r&&0===t)return s.list.push(i(2)),!0;"("===c?a(t+1,")"):"{"===c?a(t+1,"}"):'"'===c?a(t+1,'"',!0):"'"===c?a(t+1,"'",!0):"|"===c&&0===t&&("|"===p?o+=1:s.list.push(i()))}}},t=function(){var t,n,r,u,s;for(r=null,t=null;o<e.length;)if(r=t,t=e[o],o+=1,n=r+t,n===c){if(s=i(2),s&&l.push({type:"text",value:s}),!a(0))throw"Wrong expression"+e;t=null}return u=i(-1),u?l.push({type:"text",value:u}):void 0},t(),n.debug.parser&&console.log("parsText",l),l},e={},t=function(e){var t,n,r;return r=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)t=e[r],n={type:t.type,value:t.value},t.list&&(n.list=t.list.slice()),o.push(n);return o}()},n.utils.parsText=function(n){var i;return i=e[n],i||(e[n]=i=r(n)),t(i)}}(),function(){var e;return n.utils.compile=e={},e.cache={},e.Function=Function,e.expression=function(t,r){var i,o,a,u,l,s,c,f,p,h,d;if(r=r||{},t=t.trim(),p=t+"#",p+=r.no_return?"+":"-",p+=r.string?"s":"v",r.input&&(p+=r.input.join(",")),f=e.cache[p])return f;f={fn:null},a=t,h=r.no_return||!1,l=n.utils.parsExpression(a,{input:r.input}),u=l.result,f.isSimple=l.isSimple,f.simpleVariables=l.simpleVariables,a=u[0],s=u.slice(1),h?d="var $$;"+a:r.string&&!s.length?(d="var $$, __ = ("+a+"); return '' + (__ || (__ == null?'':__))",r.rawExpression&&(f.rawExpression="(__="+a+") || (__ == null?'':__)")):d="var $$;return ("+a+")";try{r.input?(i=r.input.slice(),i.unshift("$$scope"),i.push(d),c=e.Function.apply(null,i)):c=e.Function("$$scope",d)}catch(v){throw o=v,n.exceptionHandler(o,"Wrong expression: "+t,{src:t,cfg:r}),"Wrong expression: "+a}return f.fn=c,f.filters=s.length?s:null,e.cache[p]=f},e.cacheText={},e.buildText=function(t,n){var r,i,o,a,u,l,s;if(o=e.cacheText[t])return function(){return o.call(n)};for(s=[],u=a=0,l=n.length;l>a;u=++a)r=n[u],"expression"===r.type?s.push(r.fn?"this["+u+"].fn(this.scope)":"((x=this["+u+"].value) || (x == null?'':x))"):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),s.push('"'+i+'"'));return s=s.join(" + "),o=e.Function("var x; return ("+s+")"),e.cacheText[t]=o,function(){return o.call(n)}},e.cacheSimpleText={},e.buildSimpleText=function(t,n){var r,i,o,a,u,l,s,c,f;if(l=t?e.cacheSimpleText[t]:null,l||!n)return l||null;for(c=[],f=[],u=a=0,s=n.length;s>a;u=++a)r=n[u],"expression"===r.type?(c.push("("+r.re+")"),r.simpleVariables&&f.push.apply(f,r.simpleVariables)):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),c.push('"'+i+'"'));return c=c.join(" + "),o=e.Function("$$scope","var $$, __; return ("+c+")"),l={fn:o,simpleVariables:f},t&&(e.cacheSimpleText[t]=l),l}}(),n.d.al.app={priority:2e3,init:function(){return{owner:!0}}},n.d.bo["switch"]={priority:500,init:function(e,t,r,i){var o;return o=r.$new(),o.$switch={value:r.$eval(t),on:!1},n.applyBindings(o,e,{skip_attr:i.skippedAttr()}),{owner:!0}}},n.d.bo.switchWhen={priority:500,init:function(e,t,n){return n.$switch.value!==t?(r.remove(e),{owner:!0}):n.$switch.on=!0}},n.d.bo.switchDefault={priority:500,init:function(e,t,n){return n.$switch.on?(r.remove(e),{owner:!0}):null}},function(){var e;return e=function(e){var t;return t={priority:700,init:function(t,n,i){var o;return o=i.$eval(n),!o===e?(r.remove(t),{owner:!0}):void 0}}},n.d.bo["if"]=e(!0),n.d.bo.ifnot=e(!1)}(),n.d.al.checked={priority:100,init:function(e,t,n){var i,o;return o=!1,i={changing:!1,start:function(){return i.onDom(),i.watchModel(),i.initDom()},onDom:function(){return r.on(e,"change",i.updateModel),n.$watch("$destroy",i.offDom)},offDom:function(){return r.off(e,"change",i.updateModel)},updateModel:function(){var o;return o=r.prop(e,"checked"),i.changing=!0,n.$setValue(t,o),n.$scan(function(){return i.changing=!1})},watchModel:function(){return o=n.$watch(t,i.updateDom,{readOnly:!0})},updateDom:function(t){return i.changing?void 0:r.prop(e,"checked",!!t)},initDom:function(){return o.fire()}}}},n.d.al["class"]=n.d.al.css={priority:30,init:function(e,t,i){var o;return o={start:function(){return o.parsLine(),o.prepare()},parsLine:function(){var r,a,u,l,s,c;for(o.list=s=[],c=t.split(","),u=0,l=c.length;l>u;u++)r=c[u],a=r.indexOf(":"),0>a?n.exceptionHandler(r,"al-css, error in expression: "+t,{exp:t,e:r,scope:i,element:e}):s.push({css:r.slice(0,+(a-1)+1||9e9).trim().split(" "),exp:r.slice(a+1).trim()});
return null},prepare:function(){var e,t,n,r,a;for(a=o.list,n=0,r=a.length;r>n;n++)t=a[n],e=function(e){return function(t){return o.draw(e,t)}}(t),i.$watch(t.exp,e,{readOnly:!0,init:!0});return null},draw:function(t,n){var i,o,a,u,l,s,c,f,p;if(n){for(s=t.css,f=[],o=0,u=s.length;u>o;o++)i=s[o],f.push(r.addClass(e,i));return f}for(c=t.css,p=[],a=0,l=c.length;l>a;a++)i=c[a],p.push(r.removeClass(e,i));return p}}}};var S;S=function(e){return{priority:10,stopPropagation:!0,init:function(t,i,o,a){var u;return u={stopPropagation:this.stopPropagation,callback:o.$compile(i,{no_return:!0,input:["$event"]}),start:function(){return u.onDom(),u.stop=a.takeAttr("al-click-stop")},onDom:function(){return r.on(t,e,u.doCallback),o.$watch("$destroy",u.offDom)},offDom:function(){return r.off(t,e,u.doCallback)},doCallback:function(e){if(u.stop||(e.preventDefault(),u.stopPropagation&&e.stopPropagation()),!r.attr(t,"disabled")){try{u.callback(o,e)}catch(a){e=a,n.exceptionHandler(e,"al-click, error in expression: "+i,{name:i,scope:o,element:t})}return u.stop&&o.$eval(u.stop)&&(e.preventDefault(),u.stopPropagation&&e.stopPropagation()),o.$scan()}}}}}},n.d.al.click=S("click"),n.d.al.dblclick=S("dblclick"),n.d.al.cloak=function(e,t,n,i){return r.removeAttr(e,i.attrName),t?r.removeClass(e,t):void 0},n.d.al.controller={priority:500,restrict:"AE",init:function(e,t,r,i){var o;return o={owner:!0,start:function(){var t;return t=r.$new(),o.callController(t),n.applyBindings(t,e,{skip_attr:i.skippedAttr()})},callController:function(e){var r,i;return t?(i=t.split(" as "),r=n.getController(i[0],e),i[1]?e[i[1]]=new r(e):r(e)):void 0}}}},n.d.al.enable=function(e,t,n){var i;return i=function(t){return t?r.removeAttr(e,"disabled"):r.attr(e,"disabled","disabled")},n.$watch(t,i,{readOnly:!0,init:!0})},n.d.al.disable=function(e,t,n){var i;return i=function(t){return t?r.attr(e,"disabled","disabled"):r.removeAttr(e,"disabled")},n.$watch(t,i,{readOnly:!0,init:!0})};var T,A,M,O,j;for(j=["keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","focus","blur","change"],T=function(e){return n.d.al[e]=function(t,i,o){var a;return a={start:function(){return a.makeCaller(),a.onDom()},makeCaller:function(){return a.caller=o.$compile(i,{no_return:!0,input:["$event"]})},onDom:function(){return r.on(t,e,a.callback),o.$watch("$destroy",a.offDom)},offDom:function(){return r.off(t,e,a.callback)},callback:function(r){try{a.caller(o,r)}catch(u){r=u,n.exceptionHandler(r,e+", error in expression: "+i,{exp:i,scope:o,element:t})}return o.$scan()}}}},A=0,O=j.length;O>A;A++)M=j[A],T(M);return n.d.al.focused=function(e,t,n){var i,o;return o=!1,i={changing:!1,updateModel:function(e){return i.changing?void 0:(i.changing=!0,n.$setValue(t,e),n.$scan(function(){return i.changing=!1}))},onDom:function(){var t,o;return o=function(){return i.updateModel(!0)},t=function(){return i.updateModel(!1)},r.on(e,"focus",o),r.on(e,"blur",t),n.$watch("$destroy",function(){return r.off(e,"focus",o),r.off(e,"blur",t)})},updateDom:function(t){return i.changing?void 0:(i.changing=!0,t?r.focus(e):r.blur(e),i.changing=!1)},watchModel:function(){return o=n.$watch(t,i.updateDom,{readOnly:!0})},initDom:function(){return o.fire()},start:function(){return i.onDom(),i.watchModel(),i.initDom()}}},n.d.al.html={priority:100,init:function(e,t,i,o){var a,u;return a=null,u=function(t){return a&&(a.$destroy(),a=null),t?(r.html(e,t),a=i.$new(),n.applyBindings(a,e,{skip_attr:o.skippedAttr()})):void r.html(e,"")},i.$watch(t,u,{readOnly:!0,init:!0}),{owner:!0}}},n.d.al["if"]={priority:700,init:function(e,t,i,o){var a;return a={owner:!0,item:null,child:null,base_element:null,top_element:null,watch:null,start:function(){return a.prepare(),a.watchModel(),a.initUpdate()},prepare:function(){return a.base_element=e,a.top_element=r.createComment(" "+o.attrName+": "+t+" "),r.before(e,a.top_element),r.remove(e)},updateDom:function(e){return e?a.insertBlock(e):a.removeBlock()},removeBlock:function(){return a.child?(a.child.$destroy(),a.removeDom(a.item),a.child=null,a.item=null):void 0},insertBlock:function(){return a.child?void 0:(a.item=r.clone(a.base_element),a.insertDom(a.top_element,a.item),a.child=i.$new(),n.applyBindings(a.child,a.item,{skip_attr:o.skippedAttr()}))},watchModel:function(){return a.watch=i.$watch(t,a.updateDom,{readOnly:!0})},initUpdate:function(){return a.watch.fire()},removeDom:function(e){return r.remove(e)},insertDom:function(e,t){return r.after(e,t)}}}},n.d.al.ifnot={priority:700,init:function(){var e;return e=n.d.al["if"].init.apply(this,arguments),e.updateDom=function(t){return t?e.removeBlock():e.insertBlock()},e}},n.d.al.include={priority:100,init:function(e,t,i,o){var a,u,l,s,c,f;return l=null,u=null,c=null,a=null,f=null,s={owner:!0,start:function(){return s.prepare(),s.watchModel(),s.initUpdate()},prepare:function(){return u=e,c=r.createComment(" "+o.attrName+": "+t+" "),r.before(e,c),r.remove(e)},loadHtml:function(e){return r.ajax(e)},removeBlock:function(){return l&&(l.$destroy(),l=null),a?(s.removeDom(a),a=null):void 0},insertBlock:function(e){return a=r.clone(u),r.html(a,e),s.insertDom(c,a),l=i.$new(),n.applyBindings(l,a,{skip_attr:o.skippedAttr()})},updateDom:function(e){return e?s.loadHtml({cache:!0,url:e,success:function(e){return s.removeBlock(),s.insertBlock(e)},error:s.removeBlock}):s.removeBlock()},removeDom:function(e){return r.remove(e)},insertDom:function(e,t){return r.after(e,t)},watchModel:function(){return f=i.$watch(t,s.updateDom,{readOnly:!0})},initUpdate:function(){return f.fire()}}}},n.d.al.init=function(e,t,r){var i,o;try{o=r.$compile(t,{no_return:!0}),o(r)}catch(a){i=a,n.exceptionHandler(i,"al-init, error in expression: "+t,{exp:t,scope:r,element:e})}return r.$scan({late:!0})},n.d.al.radio={priority:10,init:function(e,t,n,i){var o,a;return a=null,o={changing:!1,start:function(){return o.makeValue(),o.onDom(),o.watchModel(),o.initDom()},makeValue:function(){var e,t;return e=i.takeAttr("al-value"),t=e?n.$eval(e):i.takeAttr("value"),o.value=t},onDom:function(){return r.on(e,"change",o.updateModel),n.$watch("$destroy",o.offDom)},offDom:function(){return r.off(e,"change",o.updateModel)},updateModel:function(){return o.changing=!0,n.$setValue(t,o.value),n.$scan(function(){return o.changing=!1})},watchModel:function(){return a=n.$watch(t,o.updateDom,{readOnly:!0})},updateDom:function(t){return o.changing?void 0:r.prop(e,"checked",t===o.value)},initDom:function(){return a.fire()}}}},n.d.al.readonly=function(e,t,n){var i;return i=function(t){return r.prop(e,"readOnly",!!t)},n.$watch(t,i,{readOnly:!0,init:!0})},n.d.al.show=function(e,t,n){var i,o;return o=null,i={showDom:function(){return r.show(e)},hideDom:function(){return r.hide(e)},updateDom:function(e){return e?i.showDom():i.hideDom()},watchModel:function(){return o=n.$watch(t,i.updateDom,{readOnly:!0})},initDom:function(){return o.fire()},start:function(){return i.watchModel(),i.initDom()}}},n.d.al.hide=function(e,t,r,i){var o;return o=n.d.al.show(e,t,r,i),o.updateDom=function(e){return e?o.hideDom():o.showDom()},o},n.d.al.src=function(e,t,n){var i;return i=function(t){return t||(t=""),r.attr(e,"src",t),"$scanNoChanges"},n.$watchText(t,i,{init:!0})},n.d.al.stop={priority:-10,restrict:"AE",init:function(){return{owner:!0}}},n.d.al.style=function(e,t,n){var r,i;return r={},i=function(t){var n,i,o,a,u;for(i in r)u=r[i],e.style[i]="";r={},o=t||{},a=[];for(n in o)u=o[n],i=n.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),r[i]=u,a.push(e.style[i]=u||"");return a},n.$watch(t,i,{deep:!0,init:!0})},n.d.al.submit=function(e,t,i){var o;return o={callback:i.$compile(t,{no_return:!0,input:["$event"]}),start:function(){return o.onDom()},onDom:function(){return r.on(e,"submit",o.doCallback),i.$watch("$destroy",o.offDom)},offDom:function(){return r.off(e,"submit",o.doCallback)},doCallback:function(r){r.preventDefault(),r.stopPropagation();try{o.callback(i,r)}catch(a){r=a,n.exceptionHandler(r,"al-submit, error in expression: "+t,{name:t,scope:i,element:e})}return i.$scan()}}},n.d.al.text=function(e,t,n){var i,o;return o=null,i={start:function(){return i.watchModel(),i.initDom()},updateDom:function(t){return null==t&&(t=""),r.text(e,t)},watchModel:function(){return o=n.$watch(t,i.updateDom,{readOnly:!0})},initDom:function(){return o.fire()}}},n.d.al.value=function(e,t,i){var o,a;return a=null,o={changing:!1,onDom:function(){return r.on(e,"input",o.updateModel),r.on(e,"change",o.updateModel),i.$watch("$destroy",o.offDom)},offDom:function(){return r.off(e,"input",o.updateModel),r.off(e,"change",o.updateModel)},updateModel:function(){return n.nextTick(function(){var n;return n=r.val(e),o.changing=!0,i.$setValue(t,n),i.$scan(function(){return o.changing=!1})})},watchModel:function(){return a=i.$watch(t,o.updateDom,{readOnly:!0})},updateDom:function(t){return o.changing?void 0:(null==t&&(t=""),r.val(e,t))},initDom:function(){return a.fire()},start:function(){return o.onDom(),o.watchModel(),o.initDom()}}},n.directives.al.repeat={priority:1e3,restrict:"AM",init:function(e,t,i,o){var a;return a={owner:!0,start:function(){return a.prepare(),a.parsExpression(),a.prepareDom(),a.buildUpdateDom(),a.watchModel(),a.initUpdateDom()},prepare:function(){var t,r;return a.childController=null,8!==e.nodeType?(r=o.takeAttr("al-controller"),r?(t=n.directives.al.controller.init(null,r,null),a.childController=t.callController):void 0):void 0},parsExpression:function(){var e,n;if(n=t.trim(),e=n.match(/(.*) store to ([\w\.]+)$/),e&&(a.storeTo=e[2],n=e[1]),"("===n[0]){if(a.objectMode=!0,e=n.match(/\((\w+),\s*(\w+)\)\s+in\s+(.+)\s+orderBy:(.+)\s*$/))return a.objectKey=e[1],a.objectValue=e[2],a.expression=e[3]+(" | toArray:"+a.objectKey+","+a.objectValue+" | orderBy:"+e[4]),a.nameOfKey="$item",a.trackExpression="$item."+a.objectKey;if(e=n.match(/\((\w+),\s*(\w+)\)\s+in\s+(.+)\s*$/),!e)throw"Wrong repeat: "+t;return a.objectKey=e[1],a.objectValue=e[2],a.expression=e[3]+(" | toArray:"+a.objectKey+","+a.objectValue),a.nameOfKey="$item",a.trackExpression="$item."+a.objectKey}if(e=n.match(/(.*) track by ([\w\.\$\(\)]+)/),e&&(a.trackExpression=e[2],n=e[1]),e=n.match(/\s*(\w+)\s+in\s+(.+)/),!e)throw"Wrong repeat: "+t;return a.nameOfKey=e[1],a.expression=e[2]},watchModel:function(){var e;return e=a.objectMode?{deep:!0}:{isArray:!0},a.watch=i.$watch(a.expression,a.updateDom,e)},initUpdateDom:function(){return a.watch.fire()},prepareDom:function(){var i,o,u,l,s,c;if(8===e.nodeType){for(a.top_element=e,a.element_list=o=[],i=e.nextSibling;i;){if(8===i.nodeType&&(s=i.nodeValue,c=s.trim().split(/\s+/),"/directive:"===c[0]&&"al-repeat"===c[1])){n.utils.setData(i,"skipBinding",!0);break}o.push(i),i=i.nextSibling}for(u=0,l=o.length;l>u;u++)i=o[u],r.remove(i),n.utils.setData(i,"skipBinding",!0);return null}return a.base_element=e,a.top_element=r.createComment(" "+t+" "),r.before(e,a.top_element),r.remove(e)},makeChild:function(e,t,n){var r;return r=i.$new(),a.updateChild(r,e,t,n),a.childController&&a.childController(r),r},updateChild:function(e,t,n,r){return a.objectMode?(e[a.objectKey]=t[a.objectKey],e[a.objectValue]=t[a.objectValue]):e[a.nameOfKey]=t,e.$index=n,e.$first=0===n,e.$last=n===r.length-1},rawUpdateDom:function(e,t){var n,i,o,a,u,l;for(i=0,u=e.length;u>i;i++)n=e[i],r.remove(n);for(a=0,l=t.length;l>a;a++)o=t[a],r.after(o.after,o.element);return null},buildUpdateDom:function(){return a.updateDom=function(){var t,u,l,s,c,f,p,h;return h=[],l=0,"$index"===a.trackExpression?(s={},f=function(){var e;return e=l,s[e]||null},c=function(e){var t;return t=e.$id,null!=t&&delete s[t],null},p=function(e,t){var n;return n=l,t.$id=n,s[n]=t,null}):a.trackExpression?(s={},t=function(){var e;return e=i.$compile(a.trackExpression,{input:["$id",a.nameOfKey]}),function(t,n){return e(i,t,n)}}(),u=function(e){var t;return(t=e.$alite_id)?t:t=e.$alite_id=n.utils.getId()},f=function(e){var n;return n=t(u,e),null!=n?s[n]:null},c=function(e){var t;return t=e.$id,null!=t&&delete s[t],null},p=function(e,n){var r;return r=t(u,e),n.$id=r,s[r]=n,null}):window.Map?(s=new Map,f=function(e){return s.get(e)},c=function(e){return s["delete"](e.item),null},p=function(e,t){return s.set(e,t),null}):(s={},f=function(e){var t;return t=e.$alite_id,t?s[t]:null},c=function(e){var t;return t=e.$id,t&&delete s[t],null},p=function(e,t){var r;return r=n.utils.getId(),e.$alite_id=r,t.$id=r,s[r]=t,null}),a.element_list?function(e){var t,u,s,d,v,m,g,y,w,$,b,x,k,_,D,C,S,T,A,M,O,j,B,N,L,E,V,H,F,P,U,K,I,W,q,G,R,J;for(e&&e.length||(e=[]),C=a.top_element,d=[],F=[],w=0,S=h.length;S>w;w++)H=h[w],H.active=!1;for(l=k=0,T=e.length;T>k;l=++k)b=e[l],H=f(b),H&&(H.active=!0);for(v=[],_=0,A=h.length;A>_;_++)if(H=h[_],!H.active){for(H.prev&&(H.prev.next=H.next),H.next&&(H.next.prev=H.prev),c(H),H.scope.$destroy(),q=H.element_list,D=0,M=q.length;M>D;D++)m=q[D],v.push(m);H.next=null,H.prev=null,H.element_list=null}for(t=[],K=null,W=null,I=!1,g=a.element_list.length-1,l=L=0,O=e.length;O>L;l=++L)if(b=e[l],x=b,b=b||{},H=f(b)){if(a.updateChild(H.scope,b,l,e),H.prev===W){if(I)for(G=H.element_list,E=0,j=G.length;j>E;E++)m=G[E],d.push({element:m,after:C}),C=m;W=H,C=H.element_list[g],H.active=!0,F.push(H);continue}for(H.prev=W,W&&(W.next=H),R=H.element_list,P=0,B=R.length;B>P;P++)m=R[P],d.push({element:m,after:C}),C=m;I=!0,W=H,H.active=!0,F.push(H)}else s=a.makeChild(x,l,e),y=function(){var e,n,i,o;for(i=a.element_list,o=[],n=0,e=i.length;e>n;n++)u=i[n],m=r.clone(u),t.push([s,m]),d.push({element:m,after:C}),o.push(C=m);return o}(),H={scope:s,element_list:y,prev:W,next:null,active:!0,item:b},p(b,H),W?(V=W.next,W.next=H,H.next=V,V&&(V.prev=H)):0===l&&h[0]&&(V=h[0],H.next=V,V.prev=H),W=H,F.push(H);for(h=F,a.rawUpdateDom(v,d),v.length=0,d.length=0,J=o.skippedAttr(),U=0,N=t.length;N>U;U++)$=t[U],n.applyBindings($[0],$[1],{skip_attr:J});return a.storeTo?void i.$setValue(a.storeTo,e):"$scanNoChanges"}:function(t){var u,s,d,v,m,g,y,w,$,b,x,k,_,D,C,S,T,A,M,O,j,B,N,L,E;for(t&&t.length||(t=[]),k=a.top_element,d=[],j=[],m=0,_=h.length;_>m;m++)O=h[m],O.active=!1;for(l=$=0,D=t.length;D>$;l=++$)y=t[l],O=f(y),O&&(O.active=!0);for(v=[],b=0,C=h.length;C>b;b++)O=h[b],O.active||(O.prev&&(O.prev.next=O.next),O.next&&(O.next.prev=O.prev),c(O),O.scope.$destroy(),v.push(O.element),O.next=null,O.prev=null,O.element=null);for(u=[],B=null,L=null,N=!1,l=x=0,S=t.length;S>x;l=++x)if(y=t[l],w=y,y=y||{},O=f(y)){if(a.updateChild(O.scope,y,l,t),O.prev===L){N&&d.push({element:O.element,after:L.element}),L=O,k=O.element,O.active=!0,j.push(O);continue}O.prev=L,L&&(L.next=O),d.push({element:O.element,after:k}),N=!0,k=O.element,L=O,O.active=!0,j.push(O)}else s=a.makeChild(w,l,t),e=r.clone(a.base_element),u.push([s,e]),d.push({element:e,after:k}),O={scope:s,element:e,prev:L,next:null,active:!0,item:y},k=e,p(y,O),L?(M=L.next,L.next=O,O.next=M,M&&(M.prev=O)):0===l&&h[0]&&(M=h[0],O.next=M,M.prev=O),L=O,j.push(O);for(h=j,a.rawUpdateDom(v,d),v.length=0,d.length=0,E=o.skippedAttr(),A=0,T=u.length;T>A;A++)g=u[A],n.applyBindings(g[0],g[1],{skip_attr:E});return a.storeTo?void i.$setValue(a.storeTo,t):"$scanNoChanges"}}()}}}},n.directives.bo.repeat={priority:1e3,init:function(e,t,r,i){var o,a;return a=n.directives.al.repeat.init(e,t,r,i),o=a.start,a.start=function(){return o(),a.watch.stop()},a}},n.text.bindonce=function(e,t,r,i){var o;if(o=n.utils.parsExpression(t),o.hasFilters)throw"Conflict: bindonce and filters, use one-time binding";return i["finally"](r.$eval(t))},n.text.oneTimeBinding=function(e,t,n,r){return n.$watch(t,function(e){return r["finally"](e)},{init:!0,oneTime:!0})},n.filters.date=function(){var e,t;return e=function(e){return 10>e?"0"+e:""+e},t=function(t,n){var r,i,o,a,u;if(!n)return"";for(u=[[/yyyy/g,n.getFullYear()],[/mm/g,e(n.getMonth()+1)],[/dd/g,e(n.getDate())],[/HH/g,e(n.getHours())],[/MM/g,e(n.getMinutes())],[/SS/g,e(n.getSeconds())]],a=t,i=0,o=u.length;o>i;i++)r=u[i],a=a.replace(r[0],r[1]);return a},function(e){return function(n){return t(e,n)}}}(),n.filters.filter=function(e,t,n){var r,i,o;return i=null,o=[],r=function(){var e,t,r,a,u,l,s;if(t=i,!t)return n.setValue(o),null;if("string"==typeof t)t={__all:t};else if("object"!=typeof t)return n.setValue(o),null;return l=function(){var n,i,l;for(l=[],n=0,i=o.length;i>n;n++)if(u=o[n],"object"==typeof u){if(r=!0,t.__all){r=!1,e=t.__all.toLowerCase();for(a in u)if(s=u[a],"$alite_id"!==a&&(""+s).toLowerCase().indexOf(e)>=0){r=!0;break}if(!r)continue}for(a in t)if(s=t[a],"__all"!==a){if(e=u[a],!e){r=!1;break}if((""+e).toLowerCase().indexOf((""+s).toLowerCase())<0){r=!1;break}}if(!r)continue;l.push(u)}else{if(!t.__all)continue;if(e=t.__all.toLowerCase(),(""+u).toLowerCase().indexOf(e)<0)continue;l.push(u)}return l}(),n.setValue(l),null},t.$watch(e,function(e){return i=e,r()},{init:!0,deep:!0}),{onChange:function(e){return o=e,r()}}},n.filters.generator=function(e,t,n){var r;return r=[],{watchMode:"simple",onChange:function(e){if(r.length>=e)r.length=e;else for(;r.length<e;)r.push({});return n.setValue(r)}}},n.filters.json=function(){var e;return e=function(e){return JSON.stringify(n.utils.clone(e),null,4)},function(t,n,r){return{watchMode:"deep",onChange:function(t){return r.setValue(e(t))}}}}(),n.filters.slice=function(e,t,n){var r,i,o,a,u;return r=0,i=null,u=null,a=function(){return u?n.setValue(i?u.slice(r,i):u.slice(r)):void 0},o=e.split(","),t.$watch(o[0],function(e){return r=e,a()},{init:!0}),o[1]&&t.$watch(o[1],function(e){return i=e,a()},{init:!0}),{onChange:function(e){return u=e,a()}}},n.filters.throttle=function(e,t,n){var r;return e=Number(e),r=null,{onChange:function(i){return r&&clearTimeout(r),r=setTimeout(function(){return r=null,n.setValue(i),t.$scan()},e)}}},n.filters.toArray=function(e,t,n){var r,i,o,a;if(e){if(r=e.split(","),2!==r.length)throw"Wrong filter arguments for toArray";i=r[0].trim(),a=r[1].trim()}else i="key",a="value";return o=[],{watchMode:"deep",onChange:function(e){var t,u;o.length=0;for(t in e)u=e[t],r={},r[i]=t,r[a]=u,o.push(r);return n.setValue(o)}}},n.filters.orderBy=function(e,t,n){var r,i,o,a,u,l;return r=e.split(","),u=null,a="key",i=1,l=function(e,t){var n,r;return n=e[a]||null,r=t[a]||null,r>n?-i:n>r?i:0},o=function(){return u instanceof Array?(u.sort(l),n.setValue(u)):void 0},r[0]&&t.$watch(r[0].trim(),function(e){return a=e,o()},{init:!0}),r[1]&&t.$watch(r[1].trim(),function(e){return i=e?1:-1,o()},{init:!0}),{onChange:function(e){return u=e instanceof Array?e.slice():null,o()}}},n}if("function"==typeof define)define(function(){var t=e();return t.makeInstance=e,t});else if("object"==typeof module&&"object"==typeof module.exports){var t=e();t.makeInstance=e,module.exports=t}else if("function"==typeof alightInitCallback)alightInitCallback(e);else{var t=e({globalControllers:!0});window.alight=t,window.f$=t.f$,f$.ready(t.bootstrap)}}();