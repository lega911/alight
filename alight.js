/**
 * Angular Light 0.13.0-alpha22
 * (c) 2016 Oleg Nechaev
 * Released under the MIT License.
 * 2016-09-24, http://angularlight.org/ 
 */!function(){"use strict";function e(){function e(e,t){var n,r=[],i=!1,o=t.cd,a=t.callback;if(t.filterConf.args.length){var c=[];t.filterConf.args.forEach(function(e,t){var n=o.watch(e,function(e){r[t+1]=e,s()});n.$.isStatic||c.push(n)});var l=!1,s=function(){l||(l=!0,o.watch("$onScanOnce",function(){if(l=!1,i){var t=e.apply(null,r);window.Promise&&t instanceof Promise?t.then(function(e){a(e),o.scan()}):a(t)}}))};c.length&&(n=function(){c.forEach(function(e){return e.stop()})})}else var s=function(){var t=e(r[0]);window.Promise&&t instanceof Promise?t.then(function(e){a(e),o.scan()}):a(t)};var u={onChange:function(e){i=!0,r[0]=e,s()},onStop:n,watchMode:t.watchMode};return u}function t(e,t,r,i){var o=null,a=i.oneTime;i.isArray?o="array":i.deep&&(o="deep");for(var c=n.utils.parsFilter(t.filter),l=[],s=c.result.length-1;s>=0;s--){var u=n.core.getFilter(c.result[s].name,e),f=n.core.buildFilterNode(e,c.result[s],u,r);f.watchMode&&(o=f.watchMode),f.onStop&&l.push(f.onStop),r=f.onChange}return i={oneTime:a},"array"===o?i.isArray=!0:"deep"===o&&(i.deep=!0),l.length&&(i.onStop=function(){l.forEach(function(e){return e()}),l.length=0}),e.watch(t.expression,r,i)}var n=function(e,t){return n.bootstrap(e,t)};n.filters={},n.text={},n.core={},n.utils={},n.option={injectScope:!1,globalController:!1,removeAttribute:!0},n.ctrl=n.controllers={},n.d=n.directives={al:{},bo:{},$global:{}},n.hooks={directive:[],binding:[]},n.priority={al:{app:2e3,checked:20,"class":30,css:30,focused:20,"if":700,ifnot:700,model:20,radio:20,repeat:1e3,select:20,stop:-10,value:20,on:10},$component:5,$attribute:-5};var r=n.f$={},i=function(e,t){var n=e.indexOf(t);n>=0?e.splice(n,1):console.warn("trying to remove not exist item")};!function(){r.before=function(e,t){var n=e.parentNode;n.insertBefore(t,e)},r.after=function(e,t){var n=e.parentNode,r=e.nextSibling;r?n.insertBefore(t,r):n.appendChild(t)},r.remove=function(e){var t=e.parentNode;t&&t.removeChild(e)},r.on=function(e,t,n){e.addEventListener(t,n,!1)},r.off=function(e,t,n){e.removeEventListener(t,n,!1)},r.isFunction=function(e){return e&&"[object Function]"===Object.prototype.toString.call(e)},r.isObject=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},r.isElement=function(e){return e instanceof HTMLElement},r.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},r.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")},r.rawAjax=function(e){var t=new XMLHttpRequest;t.open(e.type||"GET",e.url,!0,e.username,e.password);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);e.success&&(t.onload=function(){t.status>=200&&t.status<400?e.success(t.responseText):e.error&&e.error()}),e.error&&(t.onerror=e.error),t.send(e.data||null)},r.ajaxCache={},r.ajax=function(e){if(e.username||e.password||e.headers||e.data||!e.cache)return r.rawAjax(e);var t=e.type||"GET",n=t+":"+e.url,i=r.ajaxCache[n];return i||(r.ajaxCache[n]=i={callback:[]}),i.result?void(e.success&&e.success(i.result)):(i.callback.push(e),void(i.loading||(i.loading=!0,r.rawAjax({type:t,url:e.url,success:function(e){i.loading=!1,i.result=e;for(var t=0;t<i.callback.length;t++)i.callback[t].success&&i.callback[t].success(e);i.callback.length=0},error:function(){i.loading=!1;for(var e=0;e<i.callback.length;e++)i.callback[e].error&&i.callback[e].error();i.callback.length=0}}))))},function(){var e='@charset "UTF-8";[al-cloak],[hidden],.al-hide{display:none !important;}',t=document.querySelectorAll("head")[0],n=document.createElement("style");n.setAttribute("type","text/css"),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}()}(),function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,r,i=t?t:0;if(!this)throw new TypeError;if(r=this.length,0===r||i>=r)return-1;for(0>i&&(i=r-Math.abs(i)),n=i;r>n;n++)if(this[n]===e)return n;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),r.browser=function(){var e,t=navigator.appName,n=navigator.userAgent.toLowerCase(),r=n.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);return r&&null!=(e=n.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),r=r?[r[1],r[2]]:[t,navigator.appVersion,"-?"],{name:r[0],version_string:r[1],version:Number(r[1].match(/\d+/))}}();var e=!1,t=!1,n=!1,i=window.$;if(r.__jquery?(n=5,i=r.__jquery):(("chrome"===r.browser.name||"safari"===r.browser.name)&&(e=!0),"firefox"===r.browser.name&&(t=r.browser.version),"msie"===r.browser.name&&(n=r.browser.version)),n&&9>n&&(r.on=function(e,t,n){i(e).on(t,n)},r.off=function(e,t,n){i(e).off(t,n)}),n&&9>n&&(r.ready=function(e){i(function(){e()})}),n&&9>n){var o=function(){};r.rawAjax=function(e){i.ajax({url:e.url,type:e.type||"GET",username:e.username,password:e.password,headers:e.headers,data:e.data}).then(e.success||o,e.error||o)}}n&&9>n&&(r.isElement=function(e){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument})}(),r.ready=function(){function e(){n=!0,r.off(document,"DOMContentLoaded",e);for(var i=0;i<t.length;i++)t[i]();t.length=0}var t=[],n=!1;return r.on(document,"DOMContentLoaded",e),function(e){n?e():t.push(e)}}(),window.jQuery&&(window.jQuery.fn.alight=function(e){var t=[];return this.each(function(e,n){return t.push(n)}),t.length?n(t,e):void 0}),n.core.getFilter=function(e,t){var r=!1,i=t.scope,o=null;if(i.$ns&&i.$ns.filters&&(o=i.$ns.filters[e],o||i.$ns.inheritGlobal||(r=!0)),o||r||(o=n.filters[e]),!o)throw"Filter not found: "+e;return o},n.core.buildFilterNode=function(t,n,i,o){if(r.isFunction(i))return e(i,{cd:t,filterConf:n,callback:o});if(i.init)return i.init.call(t,t.scope,n.raw,{setValue:o,conf:n,changeDetector:t});if(r.isFunction(i.fn))return e(i.fn,{cd:t,filterConf:n,callback:o,watchMode:i.watchMode});throw"Wrong filter: "+n.name},function(){var e=n.core.buildFilterNode;n.core.buildFilterNode=function(t,n,i,o){if(r.isFunction(i)&&Object.keys(i.prototype).length){var a=new i(n.raw,t.scope,{setValue:o,changeDetector:t});a.setValue=o;var c={};return a.watchMode&&(c.watchMode=a.watchMode),a.onStop&&(c.onStop=a.onStop.bind(a)),a.onChange&&(c.onChange=a.onChange.bind(a)),c}return e(t,n,i,o)}}();var o,a,c,l,s,u,f,p,h,d,m;n.ChangeDetector=function(e){var t,n;return n=new c,t=new o(n,e||{}),n.topCD=t,t},c=function(){return this.watchers={any:[],finishBinding:[],finishScan:[],finishScanOnce:[],onScanOnce:[]},this.status=null,this.extraLoop=!1,this.finishBinding_lock=!1,this.lateScan=!1,this.topCD=null,this},c.prototype.destroy=function(){return this.watchers.any.length=0,this.watchers.finishBinding.length=0,this.watchers.finishScan.length=0,this.watchers.finishScanOnce.length=0,this.watchers.onScanOnce.length=0,this.topCD?this.topCD.destroy():void 0},o=function(e,t){return this.scope=t,this.locals=t,this.root=e,this.watchList=[],this.destroy_callbacks=[],this.parent=null,this.children=[],this.rwatchers={any:[],finishScan:[]},n.option.injectScope&&n.Scope&&n.Scope({changeDetector:this,customScope:t}),this},o.prototype["new"]=function(e,t){var n,r,i;return t=t||{},i=this,null==e&&(e=i.scope),r=new o(i.root,e),r.parent=i,e===i.scope&&(t.locals?(n=i._ChildLocals,n||(i._ChildLocals=n=function(){return this.$$root=e,this},n.prototype=i.locals),r.locals=new n):r.locals=i.locals),i.children.push(r),r},o.prototype.destroy=function(){var e,t,n,r,o,a,c,l,s,u,f,p,h,d,m,v,g,y,w,b,x;for(e=this,b=e.root,e.scope=null,e.parent&&i(e.parent.children,e),m=e.destroy_callbacks,o=0,l=m.length;l>o;o++)(r=m[o])();for(v=e.children.slice(),a=0,s=v.length;s>a;a++)t=v[a],t.destroy();for(e.destroy_callbacks.length=0,g=e.watchList,c=0,u=g.length;u>c;c++)n=g[c],n.onStop&&n.onStop();for(e.watchList.length=0,y=e.rwatchers.any,h=0,f=y.length;f>h;h++)x=y[h],i(b.watchers.any,x);for(e.rwatchers.any.length=0,w=e.rwatchers.finishScan,d=0,p=w.length;p>d;d++)x=w[d],i(b.watchers.finishScan,x);e.rwatchers.finishScan.length=0,b.topCD===e&&(b.topCD=null,b.destroy())},l=function(e){return this.cb=e},d=function(e,t,n){var r,o;return r=e.root,o=new l(n),e.rwatchers[t].push(o),r.watchers[t].push(o),{stop:function(){return i(e.rwatchers[t],o),i(r.watchers[t],o)}}},m=function(){},o.prototype.watch=function(e,o,a){var c,l,s,f,p,h,v,g,y,w;if(a=a||{},a===!0&&(a={isArray:!0}),a.init&&console.warn("watch.init is depticated"),c=this,y=c.root,w=c.scope,r.isFunction(e))f=e,v=n.utils.getId(),p=!0;else{if(p=!1,f=null,e=e.trim(),"::"===e.slice(0,2)&&(e=e.slice(2),a.oneTime=!0),v=e,"$any"===v)return d(c,"any",o);if("$finishScan"===v)return d(c,"finishScan",o);if("$finishScanOnce"===v)return y.watchers.finishScanOnce.push(o);if("$onScanOnce"===v)return y.watchers.onScanOnce.push(o);if("$destroy"===v)return c.destroy_callbacks.push(o);if("$finishBinding"===v)return y.watchers.finishBinding.push(o);v=a.deep?"d#"+v:a.isArray?"a#"+v:"v#"+v}if(n.debug.watch&&console.log("$watch",e),h=!1,!p)if(a.watchText)f=a.watchText.fn;else{if(l=n.utils.compile.expression(e),l.filter)return t(c,l,o,a);h=l.isSimple&&0===l.simpleVariables.length,f=l.fn}return a.deep&&(a.isArray=!1),s={isStatic:h,isArray:Boolean(a.isArray),extraLoop:!a.readOnly,deep:a.deep===!0?10:a.deep,value:m,callback:o,exp:f,src:""+e,onStop:a.onStop||null,el:a.element||null,ea:a.elementAttr||null},h?c.watch("$onScanOnce",function(){return u(w,s,s.exp(w))}):c.watchList.push(s),g={$:s,stop:function(){var t,r;if(a.onStop)try{a.onStop()}catch(r){t=r,n.exceptionHandler(t,"Error in onStop of watcher: "+e,e)}if(!s.isStatic)return i(c.watchList,s)},refresh:function(){var e;return e=s.exp(w),s.value=e&&s.deep?n.utils.clone(e,s.deep):e&&s.isArray?e.slice():e}},a.oneTime&&(s.callback=function(e){return void 0!==e?(g.stop(),o(e)):void 0}),g},o.prototype.watchGroup=function(e,t){var n,i,o,a,c,l;if(n=this,!t&&r.isFunction(e)&&(t=e,e=null),l=!1,i=function(){return l?void 0:(l=!0,n.watch("$onScanOnce",function(){return l=!1,t()}))},e)for(o=0,c=e.length;c>o;o++)a=e[o],n.watch(a,i);return i},f=function(){return window.performance?function(){return Math.floor(performance.now())}:function(){return(new Date).getTime()}}(),p=function(e,t){var n,r,i,o,a,c;if(null===e||null===t)return!0;if(o=typeof e,a=typeof t,o!==a)return!0;if("object"===o){if(e.length!==t.length)return!0;for(n=r=0,i=e.length;i>r;n=++r)if(c=e[n],c!==t[n])return!0}return!1},u=function(e,t,n){t.el?t.ea?t.el.setAttribute(t.ea,n):t.el.nodeValue=n:t.callback.call(e,n)},s=function(e,t,r,i){var o,a;return o={src:r.src,scope:t.scope,locals:t.locals},r.el&&(o.element=r.el),a=1===i?"$scan, error in callback: ":"$scan, error in expression: ",n.exceptionHandler(e,a+r.src,o)},a=function(){},h=function(e,t){var r,i,o,c,l,u,f,h,d,v,g,y,w,b,x,D,k,$,C,B,A;if(k=e.root,h=!1,c=0,C=0,e){for(x=[],d=0,o=e;o;){for($=o.scope,w=o.locals,C+=o.watchList.length,D=o.watchList.slice(),v=0,y=D.length;y>v;v++){A=D[v],g=A.value;try{B=A.exp(w)}catch(u){l=u,B=a}if(g!==B){if(b=!1,A.isArray?(r=Array.isArray(g),i=Array.isArray(B),r===i?r?p(g,B)&&(b=!0,A.value=B.slice()):(b=!0,A.value=B):(b=!0,A.value=i?B.slice():B)):A.deep?n.utils.equal(g,B,A.deep)||(b=!0,A.value=n.utils.clone(B,A.deep)):(b=!0,A.value=B),b)if(b=!1,B===a)s(l,o,A);else{c++;try{A.el?A.ea?null!=B?A.el.setAttribute(A.ea,B):A.el.removeAttribute(A.ea):A.el.nodeValue=B:(g===m&&(g=void 0),"$scanNoChanges"!==A.callback.call($,B,g)&&A.extraLoop&&(h=!0))}catch(f){l=f,s(l,o,A,1)}}n.debug.scan>1&&console.log("changed:",A.src)}}x.push.apply(x,o.children),o=x[d++]}t.total=C,t.changes=c,t.extraLoop=h}},o.prototype.digest=function(){var e,t,r,i,o,a,c,l,s,u;for(l=this.root,o=10,u=0,n.debug.scan&&(s=f()),c={total:0,changes:0,extraLoop:!1,src:"",scope:null,element:null};o;){if(o--,l.extraLoop=!1,l.watchers.onScanOnce.length)for(a=l.watchers.onScanOnce.slice(),l.watchers.onScanOnce.length=0,r=0,i=a.length;i>r;r++)e=a[r],e.call(l);if(h(this,c),u+=c.changes,!c.extraLoop&&!l.extraLoop&&!l.watchers.onScanOnce.length)break}return n.debug.scan&&(t=f()-s,console.log("$scan: loops: ("+(10-o)+"), last-loop changes: "+c.changes+", watches: "+c.total+" / "+t+"ms")),c.mainLoop=o,c.totalChanges=u,c},o.prototype.scan=function(e){var t,i,o,a,c,l,s,u,f,p,h,d,m;if(m=this.root,e=e||{},r.isFunction(e)&&(e={callback:e}),e.callback&&m.watchers.finishScanOnce.push(e.callback),e.late){if(m.lateScan)return;return m.lateScan=!0,void n.nextTick(function(){return m.lateScan?m.topCD.scan():void 0})}if("scaning"===m.status)return void(m.extraLoop=!0);if(m.lateScan=!1,m.status="scaning",d=m.topCD?m.topCD.digest():{},d.totalChanges)for(p=m.watchers.any,a=0,s=p.length;s>a;a++)(i=p[a])();for(m.status=null,h=m.watchers.finishScan,c=0,u=h.length;u>c;c++)(t=h[c])();for(o=m.watchers.finishScanOnce.slice(),m.watchers.finishScanOnce.length=0,l=0,f=o.length;f>l;l++)t=o[l],t.call(m);if(0===d.mainLoop)throw"Infinity loop detected";return d},n.core.ChangeDetector=o,o.prototype.compile=function(e,t){return n.utils.compile.expression(e,t).fn},o.prototype.setValue=function(e,t){var r,i,o,a,c,l,s,u,f,p,h;r=this,a=r.compile(e+" = $value",{input:["$value"],no_return:!0});try{return a(r.locals,t)}catch(o){if(i=o,f="can't set variable: "+e,n.debug.parser&&console.warn(f),(""+i).indexOf("TypeError")>=0&&(h=e.match(/^([\w\d\.]+)\.[\w\d]+$/),h&&h[1])){for(u=r.locals,p=h[1].split("."),c=0,s=p.length;s>c;c++)l=p[c],void 0===u[l]&&(u[l]={}),u=u[l];try{return void a(r.locals,t)}catch(d){}}return n.exceptionHandler(i,f,{name:e,value:t})}},o.prototype.eval=function(e){var t;return(t=this.compile(e))(this.locals)},o.prototype.getValue=function(e){return this.eval(e)};var v,g,y,w,b,x,D,k;n.hooks.scope=[],window.Map?(b=new Map,w=new Map,D=function(e,t){return b.set(e,t)},y=function(e){return b.get(e)},g=function(e){var t,n;return t=w.get(e),t?t:(n=y(e),n.children.length?null:n)},x=function(e,t){return w.set(e,t)}):(D=function(e,t){return e.$rootChangeDetector=t},y=function(e){return e.$rootChangeDetector},g=function(e){return e.$changeDetector?e.$changeDetector:e.$rootChangeDetector.children.length?null:e.$rootChangeDetector},x=function(e,t){return e.$changeDetector=t}),k=function(e,t){x(e.scope,e);try{return t()}finally{x(e.scope,null)}},n.core.cd_setRoot=D,n.core.cd_getRoot=y,n.core.cd_getActive=g,n.core.cd_setActive=x,n.core.scopeWrap=k,n.Scope=function(e){var t,r,i,o,a,c,l,s;if(e=e||{},e.customScope){if(l=e.customScope,!l.$scan)for(a in v.prototype)l[a]=v.prototype[a]}else l=new v;if(t=e.changeDetector?e.changeDetector:e.childFromChangeDetector?e.childFromChangeDetector["new"](l):n.ChangeDetector(l),D(l,t),e.$parent&&(l.$parent=e.$parent),x(l,null),n.hooks.scope.length){for(s={scope:l,changeDetector:t},c=n.hooks.scope,i=0,o=c.length;o>i;i++)r=c[i],r.fn.call(s);l=s.scope}return e.returnChangeDetector?t:l},v=function(){},n.core.Scope=v,v.prototype.$watch=function(e,t,r){var i;return i=g(this),i?i.watch(e,t,r):n.exceptionHandler("","You can do scope.$watch during binding only, use env.watch instead: "+e,{name:e,option:r,scope:this})},v.prototype.$watchGroup=function(e,t){var r;return r=g(this),r?r.watchGroup(e,t):n.exceptionHandler("","You can do scope.$watchGroup during binding only, use env.watchGroup instead: "+name,{keys:e,option:option,scope:this})},v.prototype.$scan=function(e){return y(this).scan(e)},v.prototype.$setValue=function(e,t){y(this).setValue(e,t)},v.prototype.$getValue=function(e){return y(this).getValue(e)},v.prototype.$eval=function(e){return y(this).eval(e)},v.prototype.$compile=function(e,t){return y(this).compile(e,t)},v.prototype.$destroy=function(){y(this).destroy()},v.prototype.$new=function(){var e;if(e=g(this),!e)throw"No change detector";return n.Scope({$parent:this,childFromChangeDetector:e})},v.prototype.$watchText=function(e,t,r){var i;return(i=g(this))?i.watchText(e,t,r):void n.exceptionHandler("","You can do $watchText during binding only, use env.watchText instead: "+e,{expression:e,option:r,scope:this})},function(){var e,t;return n.utils.optmizeElement=e=function(t){var i,o,a,c,l,s,u,f,p,h,d,m,v,g,y,w,b,x,D;if(1===t.nodeType)for(c=t.firstChild;c;)g=c.nextSibling,e(c),c=g;else if(3===t.nodeType){if(x=t.data,m=n.utils.pars_start_tag,s=x.indexOf(m),0>s)return;if(x.slice(s+m.length).indexOf(m)<0)return;for(y="t",i={value:""},b=[i],a=n.utils.parsText(x),u=0,p=a.length;p>u;u++)o=a[u],"text"===o.type?i.value+=o.value:(l=o.list.join("|"),D="{{"+l+"}}",d=l.match(/^([^\w\d\s\$"'\(\u0410-\u044F\u0401\u0451]+)/),d?("t"===y||"d"===y?i.value+=D:(i={value:D},b.push(i)),y="d"):1===o.list.length?("t"===y||"v"===y?i.value+=D:(i={value:D},b.push(i)),y="v"):"t"===y?i.value+=D:(i={value:D},b.push(i)));if(b.length<2)return;for(c=t,c.data=b[0].value,w=b.slice(1),f=0,h=w.length;h>f;f++)o=w[f],v=document.createTextNode(o.value),r.after(c,v),c=v}},n.text.$base=function(e){var t,r,i,o,a;if(o=e.point,t=e.cd,a=t.scope,r=a.$ns&&a.$ns.text?a.$ns.text[e.name]:n.text[e.name],!r)throw"No directive alight.text."+e.name;return i={changeDetector:t,setter:function(t){return e.update?(o.value=null===t?"":""+t,e.update()):void 0},setterRaw:function(t){return e.updateRaw?(o.value=null===t?"":""+t,e.updateRaw()):void 0},"finally":function(t){return e["finally"]?(o.value=null===t?"":""+t,o.type="text",e["finally"](),e.update=null,e["finally"]=null):void 0}},k(t,function(){return r(i.setter,e.exp,a,i)})},t=function(e,t,r){var i,o,a,c,l,s,f,p,h,d,m,v,g,y,w,b,x,D,k,$,C,B,A,_,T,N,S,E,M;if(r=r||{},o=this,n.debug.watchText&&console.log("$watchText",e),_=n.utils.compile.buildSimpleText(e,null))return void o.watch(e,t,{watchText:_,element:r.element,elementAttr:r.elementAttr});for(l=n.utils.parsText(e),E=0,i=!0,C=!1,f=p=s=function(){},g=0,b=l.length;b>g;g++)if(c=l[g],"expression"===c.type)if(h=c.list.join("|"),k=h.match(/^([^\w\d\s\$"'\(\u0410-\u044F\u0401\u0451]+)/))c.isDir=!0,$=k[1],"#"===$?(v=h.indexOf(" "),0>v?($=h.substring(1),h=""):($=h.slice(1,v),h=h.slice(v))):h=h.substring($.length),n.text.$base({name:$,exp:h,cd:o,point:c,update:function(){return f()},updateRaw:function(){return p()},"finally":function(){return f(),s()}}),C=!0,"text"!==c.type&&(i=!1);else if(a=n.utils.compile.expression(h,{string:!0}),a.filter)E++,i=!1,c.watched=!0,function(e){return o.watch(h,function(t){return null==t&&(t=""),e.value=t,f()})}(c);else{if(c.fn=a.fn,!a.rawExpression)throw"Error";a.isSimple&&0===a.simpleVariables.length?(c.type="text",c.value=c.fn()):(c.re=a.rawExpression,E++)}if(i){if(!E){for(N="",y=0,x=l.length;x>y;y++)c=l[y],N+=c.value;return void o.watch("$onScanOnce",function(){return u(o.scope,{callback:t,el:r.element,ea:r.elementAttr},N)})}return _=C?n.utils.compile.buildSimpleText(null,l):n.utils.compile.buildSimpleText(e,l),void o.watch(e,t,{watchText:{fn:_.fn},element:r.element,elementAttr:r.elementAttr})}if(M={callback:t,el:r.element,ea:r.elementAttr},l.scope=o.scope,m=n.utils.compile.buildText(e,l),p=function(){return u(o.scope,M,m())},E){for(S=null,A="",f=function(){A=m()},s=function(){var e,t;for(v=!0,e=0,t=l.length;t>e;e++)if(c=l[e],"expression"===c.type){v=!1;break}v&&(o.watch("$finishScanOnce",function(){return S.stop()}),r.onStatic&&r.onStatic())},B=function(){return A},w=0,D=l.length;D>w;w++)if(c=l[w],"expression"===c.type){if(c.isDir||c.watched)continue;c.watched=!0,function(e,t){return o.watch(t,function(t){return null==t&&(t=""),e.value=t,f()})}(c,c.list.join(" | "))}f(),S=o.watch(B,t,{element:r.element,elementAttr:r.elementAttr})}else T=!1,d=function(){return T=!1,p()},(f=function(){return T?void 0:(T=!0,o.watch("$onScanOnce",d))})()},o.prototype.watchText=t}(),n.core.DoubleBinding=function(){var e,t,n,r,i;return n=[],i=null,e=[],t=function(){var e,t,o,a,c,l,s,u,f,p;for(l=i,i=null,c=0,s=n.length;s>c;c++)if(t=n[c],t.node.index=l,!t.element.parentNode||(u=r(t.element.parentNode),u.index!==l)){p=t.parentDir+" -> ",f=t.node.started;for(o in f)e=f[o],e>1&&(p+=" "+o);a=t.element,3===a.nodeType&&(a=a.parentNode),console.warn(p,a)}n.length=0},r=function(e){var t;return(t=e.__dbiner)?t:(t={started:{},count:0,binder:[]},e.__dbiner=t,t)},{startDirective:function(o,a,c,l){var s;return s=r(o),s.started[a]?(s.started[a]+=1,n.push({element:o,parentDir:e[e.length-1]||"Manual",node:s}),i||(i=setTimeout(t,100))):s.started[a]=1,l?void 0:e.push(a+'="'+c+'"')},finishDirective:function(t){var n;return n=r(t),e.pop()}}};var $,C,B,A,_,T,N,S,E;n.version="0.13.0-alpha22",n.debug={scan:0,directive:!1,watch:!1,watchText:!1,parser:!1,domOptimization:!0,doubleBinding:0,fastBinding:!0},N=function(){return n.core.DoubleBinding?n.core.DoubleBinding():{startDirective:function(){},finishDirective:function(){}}}(),function(){var e;return n.hooks.attribute=e=[],e.push({code:"dataPrefix",fn:function(){"data-"===this.attrName.slice(0,5)&&(this.attrName=this.attrName.slice(5))}}),e.push({code:"colonNameSpace",fn:function(){var e,t;this.directive||this.name||(t=this.attrName.match(/^(\w+)[\-\:](.+)$/),t?(this.ns=t[1],e=t[2]):(this.ns="$global",e=this.attrName),t=e.match(/^([^\.]+)\.(.*)$/),t&&(e=t[1],this.attrArgument=t[2]),this.name=e.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}))}}),e.push({code:"getScopeDirective",fn:function(){var e,t;if(!this.directive&&(e=this.cd.scope.$ns,e&&e.directives))if(t=e.directives[this.ns]){if(this.directive=t[this.name],!this.directive&&!e.inheritGlobal)return this.result="$global"===this.ns?"noNS":"noDirective",void(this.stop=!0)}else e.inheritGlobal||(this.result="noNS",this.stop=!0)}}),e.push({code:"getGlobalDirective",fn:function(){var e;if(!this.directive){if(e=n.d[this.ns],!e)return this.result="noNS",void(this.stop=!0);this.directive=e[this.name],this.directive||(this.result="$global"===this.ns?"noNS":"noDirective",this.stop=!0)}}}),e.push({code:"cloneDirective",fn:function(){var e,t,i,o,a,c;if(a=this.directive,o=this.ns,i=this.name,e={},r.isFunction(a))e.init=a;else{if(!r.isObject(a))throw"Wrong directive: "+o+"."+i;for(t in a)c=a[t],e[t]=c}if(e.priority=a.priority||n.priority[o]&&n.priority[o][i]||0,e.restrict=a.restrict||"A",e.restrict.indexOf(this.attrType)<0)throw"Directive has wrong binding (attribute/element): "+i;this.directive=e}}),e.push({code:"preprocessor",fn:function(){var e,t,r;r=this.ns,t=this.name,e=this.directive,e.$init=function(i,o,a,c){var l,s;return l=function(){var e,t,n,r,i;for(r=s.procLine,t=n=0,i=r.length;i>n;t=++n)if(e=r[t],e.fn.call(s),s.isDeferred){s.procLine=r.slice(t+1);break}return s.async=!0,null},s={element:o,value:a,cd:i,env:c,ns:r,name:t,doBinding:!1,directive:e,isDeferred:!1,procLine:n.hooks.directive,makeDeferred:function(){return s.isDeferred=!0,s.doBinding=!0,s.retStopBinding=!0,s.async=!1,function(){return s.isDeferred=!1,s.async?l():void 0}}},e.stopBinding&&(c.stopBinding=!0),l(),s.retStopBinding?"stopBinding":void 0}}})}(),function(){var e;return e=n.hooks.directive,e.push({code:"init",fn:function(){var e;this.directive.init&&(n.debug.directive&&this.directive.scope&&console.warn(this.ns+"-"+this.name+" uses scope and init together, probably you need use link instead of init"),this.env.changeDetector=this.cd,e=this,k(this.cd,function(){var t;return t=e.directive.init.call(e.env,e.cd.scope,e.element,e.value,e.env),t&&t.start?t.start():void 0}))}}),e.push({code:"templateUrl",fn:function(){var e,t;t=this,this.directive.templateUrl&&(e=this.makeDeferred(),r.ajax({cache:!0,url:this.directive.templateUrl,success:function(n){return t.directive.template=n,e()},error:e}))}}),e.push({code:"template",fn:function(){var e;this.directive.template&&(1===this.element.nodeType?this.element.innerHTML=this.directive.template:8===this.element.nodeType&&(e=document.createElement("p"),e.innerHTML=this.directive.template.trim(),e=e.firstChild,r.after(this.element,e),this.element=e,this.doBinding=!0))}}),e.push({code:"scope",fn:function(){var e,t;if(this.directive.scope){switch(t=this.cd,this.directive.scope){case!0:e=t["new"]({$parent:t.scope});break;case"root":e=n.ChangeDetector({$parent:t.scope}),t.watch("$destroy",function(){return e.destroy()});break;default:throw"Wrong scope value: "+this.directive.scope}this.env.parentChangeDetector=t,this.cd=e,this.doBinding=!0,this.retStopBinding=!0}}}),e.push({code:"link",fn:function(){var e;this.directive.link&&(this.env.changeDetector=this.cd,e=this,k(this.cd,function(){return function(){var t;return t=e.directive.link.call(e.env,e.cd.scope,e.element,e.value,e.env),t&&t.start?t.start():void 0}}(this)))}}),e.push({code:"scopeBinding",fn:function(){this.doBinding&&!this.env.stopBinding&&n.bind(this.cd,this.element,{skip_attr:this.env.skippedAttr()})}})}(),E=function(){var e;return e=function(e,t,r){var i;"A"===t.attr_type?(i=r||{},i.priority=n.priority.$attribute,i.is_attr=!0,i.name=e,i.attrName=e,i.element=t.element,t.list.push(i)):"M"===t.attr_type&&t.list.push(r)},function(t,r){var i,o,a,c,l;if(r.skip_attr.indexOf(t)>=0)return e(t,r,{skip:!0});for(o={attrName:t,attrType:r.attr_type,element:r.element,cd:r.cd,result:null},l=n.hooks.attribute,a=0,c=l.length;c>a&&(i=l[a],i.fn.call(o),!o.stop);a++);return"noNS"===o.result?void e(t,r):"noDirective"===o.result?"E"===r.attr_type?void r.list.push({name:t,priority:-10,attrName:t,noDirective:!0}):void e(t,r,{noDirective:!0}):void r.list.push({name:t,directive:o.directive,priority:o.directive.priority,attrName:t,attrArgument:o.attrArgument})}}(),S=function(e,t){return e.priority===t.priority?0:e.priority>t.priority?-1:1},C=function(e,t,r,i){var o;return o=r,o.indexOf(n.utils.pars_start_tag)<0?void 0:(e.watchText(o,null,{element:t,elementAttr:i}),!0)},T=function(e,t){var r;return r=t.data,r.indexOf(n.utils.pars_start_tag)<0?void 0:(e.watchText(r,null,{element:t}),r)},B=function(e,t){var r,i,o,a,c,l,s,u,f,p,h;if(p=t.nodeValue.trim(),"directive:"===p.slice(0,10)){if(p=p.slice(10).trim(),u=p.indexOf(" "),u>=0?(o=p.slice(0,+(u-1)+1||9e9),h=p.slice(u+1)):(o=p,h=""),r={list:f=[],element:t,attr_type:"M",cd:e,skip_attr:[]},E(o,r),i=f[0],i.noDirective)throw"Comment directive not found: "+o;a=i.directive,l={element:t,attrName:o,attributes:[],skippedAttr:function(){return[]}},n.debug.directive&&console.log("bind",i.attrName,h,i),n.debug.doubleBinding&&N.startDirective(t,i.attrName,h);try{a.$init(e,t,h,l)}catch(s){c=s,n.exceptionHandler(c,"Error in directive: "+i.name,{value:h,env:l,cd:e,scope:e.scope,element:t})}return n.debug.doubleBinding&&N.finishDirective(t,i.attrName),l.skipToElement?{directive:1,skipToElement:l.skipToElement}:{directive:1,skipToElement:null}}},$=function(e){var t,n;for(t in e)n=e[t],this[t]=n;return this},$.prototype.takeAttr=function(e,t){var n,r,i,o,a;for(1===arguments.length&&(t=!0),o=this.attributes,r=0,i=o.length;i>r;r++)if(n=o[r],n.attrName===e)return t&&(n.skip=!0),a=this.element.getAttribute(e),a||!0},$.prototype.skippedAttr=function(){var e,t,n,r,i;for(r=this.attributes,i=[],t=0,n=r.length;n>t;t++)e=r[t],e.skip&&i.push(e.attrName);return i},$.prototype.scan=function(e){return this.changeDetector.scan(e)},$.prototype.watch=function(e,t,n){return this.changeDetector.watch(e,t,n)},$.prototype.watchGroup=function(e,t){return this.changeDetector.watchGroup(e,t)},$.prototype.watchText=function(e,t,n){return this.changeDetector.watchText(e,t,n)},$.prototype.getValue=function(e){return this.changeDetector.getValue(e)},$.prototype.setValue=function(e,t){return this.changeDetector.setValue(e,t)},$.prototype.eval=function(e){return this.changeDetector.eval(e)},$.prototype["new"]=function(e,t){return t===!0?t={locals:!0}:e===!0&&null==t&&(e=null,t={locals:!0}),this.changeDetector["new"](e,t)},$.prototype.bind=function(){var e,t,i,a,c,l,s;for(this.stopBinding=!0,i=0,c=0,l=arguments.length;l>c;c++)e=arguments[c],e instanceof o&&(t=e,i+=1),r.isElement(e)&&(a=e,i+=1);return s=arguments[i],s||(s={skip:this.skippedAttr()}),a||(a=this.element),t||(t=this.changeDetector),n.bind(t,a,s)},A=function(){return function(e,t,r){var i,o,a,c,l,s,u,f,p,h,d,m,v,g,y,w,b,x,D,k,B,A,T,M,O,j,L,F;if(v={attr:[],dir:[],children:[]},l={directive:0,hook:0,skipToElement:null,fb:v},r=r||{},O=!1,L=r.skip_attr,r.skip===!0?r.skip_top=!0:L||(L=r.skip||[]),L instanceof Array||(L=[L]),!r.skip_top){for(i={list:D=[],element:t,skip_attr:L,attr_type:"E",cd:e},a=t.nodeName.toLowerCase(),E(a,i),("script"===a||"style"===a)&&(O=!0),i.attr_type="A",T=t.attributes,y=0,w=T.length;w>y;y++)o=T[y],E(o.name,i);if(r.attachDirective){M=r.attachDirective;for(a in M)c=M[a],E(a,i)}for(D=D.sort(S),k=0,b=D.length;b>k;k++)if(f=D[k],!f.skip){if(f.noDirective)throw"Directive not found: "+f.name;if(f.skip=!0,F=r.attachDirective&&r.attachDirective[f.attrName]?r.attachDirective[f.attrName]:t.getAttribute(f.attrName),f.is_attr)n.debug.doubleBinding&&N.startDirective(t,f.attrName,F,!0),C(e,t,F,f.attrName)&&v.attr.push({attrName:f.attrName,value:F});else{p=f.directive,d=new $({element:t,attrName:f.attrName,attrArgument:f.attrArgument||null,attributes:D,stopBinding:!1,elementCanBeRemoved:r.elementCanBeRemoved}),n.debug.directive&&console.log("bind",f.attrName,F,f),n.debug.doubleBinding&&N.startDirective(t,f.attrName,F);try{"stopBinding"===p.$init(e,t,F,d)&&(O=!0)}catch(m){h=m,n.exceptionHandler(h,"Error in directive: "+f.attrName,{value:F,env:d,cd:e,scope:e.scope,element:t})}if(d.fastBinding?v.dir.push({fb:p.init,attrName:f.attrName,value:F,attrArgument:d.attrArgument}):l.directive++,n.debug.doubleBinding&&N.finishDirective(t,f.attrName),d.stopBinding){O=!0;break}d.skipToElement&&(l.skipToElement=d.skipToElement)}}}if(!O)for(j=null,u=function(){var e,n,r,i;for(r=t.childNodes,i=[],n=0,e=r.length;e>n;n++)s=r[n],i.push(s);return i}(),g=B=0,x=u.length;x>B;g=++B)s=u[g],s&&(j?j===s&&(j=null):(A=_(e,s),l.directive+=A.directive,l.hook+=A.hook,j=A.skipToElement,A.fb&&(A.fb.text||A.fb.attr&&A.fb.attr.length||A.fb.dir&&A.fb.dir.length||A.fb.children&&A.fb.children.length)&&v.children.push({index:g,fb:A.fb})));return l}}(),_=function(e,t,r){var i,o,a,c,l,s,u;if(s={directive:0,hook:0,skipToElement:null,fb:null},n.hooks.binding.length)for(l=n.hooks.binding,o=0,a=l.length;a>o;o++)if(i=l[o],s.hook+=1,c=i.fn(e,t,r),c&&c.owner)return s;return 1===t.nodeType?(c=A(e,t,r),s.directive+=c.directive,s.hook+=c.hook,s.skipToElement=c.skipToElement,s.fb=c.fb):3===t.nodeType?(n.debug.doubleBinding&&N.startDirective(t,"text","",!0),u=T(e,t,r),u&&(s.fb={text:u})):8===t.nodeType&&(c=B(e,t,r),c&&(s.directive+=c.directive,s.skipToElement=c.skipToElement)),s},n.nextTick=function(){var e,t,r;return r=null,t=[],e=function(){var e,i,o,a,c,l,s,u;for(r=null,i=t.slice(),t.length=0,l=0,s=i.length;s>l;l++){c=i[l],e=c[0],u=c[1];try{e.call(u)}catch(a){o=a,n.exceptionHandler(o,"$nextTick, error in function",{fn:e,self:u})}}return null},function(n){return t.push([n,this]),r?void 0:r=setTimeout(e,0)}}(),n.bind=n.applyBindings=function(e,t,r){var i,o,a,c,l,s,u,f;if(!t)throw"No element";if(!e)throw"No Scope";if(r=r||{},o=e instanceof n.core.ChangeDetector?e:r.changeDetector||g(e)||y(e),f=o.root,a=!f.finishBinding_lock,a&&(f.finishBinding_lock=!0,f.bindingResult={directive:0,hook:0}),u=_(o,t,r),f.bindingResult.directive+=u.directive,f.bindingResult.hook+=u.hook,o.digest(),a){for(f.finishBinding_lock=!1,s=f.watchers.finishBinding.slice(),f.watchers.finishBinding.length=0,c=0,l=s.length;l>c;c++)(i=s[c])();u.total=f.bindingResult}return u},n.bootstrap=function(e,t){if(!e)return n.bootstrap("[al-app]"),n.bootstrap("[al\\:app]"),void n.bootstrap("[data-al-app]");var i;if(e instanceof n.core.ChangeDetector)i=e,e=t;else if(t instanceof n.core.ChangeDetector)i=t;else if(r.isFunction(t)){var o={};
i=n.ChangeDetector(o),t.call(i,o)}else t&&(i=n.ChangeDetector(t));if(Array.isArray(e)){for(var a=void 0,c=0,l=e;c<l.length;c++){var s=l[c];a=n.bootstrap(s,i)}return a}if("string"==typeof e){for(var a=void 0,u=document.querySelectorAll(e),f=0,p=u;f<p.length;f++){var h=p[f];a=n.bootstrap(h,i)}return a}if(i||(i=n.ChangeDetector()),r.isElement(e)){for(var d,m,v=0,g=["al-app","al:app","data-al-app"];v<g.length&&(d=g[v],m=e.getAttribute(d),e.removeAttribute(d),!m);v++);var y;return m&&(y={skip_attr:[d],attachDirective:{}},n.d.al.ctrl?y.attachDirective["al-ctrl"]=m:y.attachDirective[m+"!"]=""),n.bind(i,e,y),i}n.exceptionHandler("Error in bootstrap","Error input arguments",{input:e})};var M,O;n.utils.getId=function(){var e,t;return t=function(){var e,t,n,r,i,o;for(o="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n=Math.floor((new Date).valueOf()/1e3)-1388512800,i="";n>0;)e=Math.floor(n/62),r=62*e,t=n-r,n=e,i=o[t]+i;return i}(),e=1,function(){return t+"#"+e++}}(),n.utils.clone=M=function(e,t){var n,r,i,o;if(null==t&&(t=128),1>t)return null;if(!e)return e;if("object"==typeof e){if(e instanceof Array)return i=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)n=e[r],o.push(M(n,t-1));return o}();if(e instanceof Date)return new Date(e.valueOf());if(e.nodeType&&"function"==typeof e.cloneNode)return e;i={};for(r in e)o=e[r],"$"!==r[0]&&(i[r]=M(o,t-1));return i}return e},n.utils.equal=O=function(e,t,n){var r,i,o,a,c,l,s,u;if(null==n&&(n=128),1>n)return!0;if(!e||!t)return e===t;if(l=typeof e,s=typeof t,l!==s)return!1;if("object"===l){if(e instanceof Array){if(e.length!==t.length)return!1;for(r=i=0,a=e.length;a>i;r=++i)if(u=e[r],!O(u,t[r],n-1))return!1;return!0}if(e instanceof Date)return e.valueOf()===t.valueOf();if(e.nodeType&&"function"==typeof e.cloneNode)return e===t;c={};for(o in e)if(u=e[o],"$"!==o[0]&&(c[o]=!0,!O(u,t[o],n-1)))return!1;for(o in t)if(u=t[o],"$"!==o[0]&&!c[o]&&!O(u,e[o],n-1))return!1;return!0}return e===t},n.exceptionHandler=function(e,t,n){var r;return r=[],t&&r.push(t),e&&e.message&&r.push(e.message),n&&r.push(n),e&&r.push(e.stack?e.stack:e),console.error.apply(console,r)},function(){var e,t,r,i,o,a;return a=function(){var e,t,n,r;for(r={},e=0,n=arguments.length;n>e;e++)t=arguments[e],r[t]=!0;return r},o=a("instanceof","typeof","in","null","true","false","undefined","return"),t=function(){var e;return e=/[a-zA-Z\u0410-\u044F\u0401\u0451_\.\$]/,function(t){return t.match(e)}}(),r=function(e){return e.charCodeAt()>=48&&e.charCodeAt()<=57},i=function(){var e;return e=a("+","-",">","<","=","&","|","^","!","~"),function(t){return e[t]||!1}}(),e=a("=","+=","-=","++","--","|=","^=","&=","!=","<<=",">>="),n.utils.parsExpression=function(c,l){var s,u,f,p,h,d,m,v,g,y;return l=l||{},h=a.apply(null,l.input||[]),y=1,d=function(n){var o,a,c,l,s,u,f,p,h,m,v,g,w,b,x,D,k,$,C,B,A,_;for(w=n.line,x=n.result||[],m=n.index||0,g=n.level||0,$=n.stopKey||null,A="",v=null,_=[],D="",f="",k=!1,b="",C="",B="",h="",l=0,p=null,u=function(){return h&&x.push({type:"free",value:h}),h=""};m<=w.length;)if(c=w[m-1],o=w[m++]||"",a=w[m],(k&&h||!o)&&u(),"string"!==k){if("key"===k){if(t(o)||r(o)){A+=o;continue}if("["===o){if(A+=o,s=d({line:w,index:m,level:g+1,stopKey:"]"}),!s.stopKeyOk)throw"Error expression";m=s.index,A+="###"+s.uniq+"###]",_.push(s);continue}if("?"===o&&("."===a||"("===a||"["===a)){A+=o;continue}if("("===o){if(A+=o,s=d({line:w,index:m,level:g+1,stopKey:")"}),!s.stopKeyOk)throw"Error expression";m=s.index,A+="###"+s.uniq+"###)",_.push(s);continue}v={type:"key",value:A,start:m-A.length-1,finish:m-1,children:_},x.push(v),k="",A="",_=[]}else if("sign"===k){if(i(o)){D+=o;continue}if("|"===D&&0===g&&0===l){p=w.substring(m-1),m=w.length+1;continue}(e[D]||"="===D[0]&&"="!==D[1])&&(v.assignment=!0),x.push({type:"sign",value:D}),k="",D=""}else if("digit"===k){if(r(o)||"."===o){f+=o;continue}x.push({type:"digit",value:f}),f=""}if(t(o))k="key",A+=o;else if(i(o))k="sign",D+=o;else if(r(o))k="digit",f+=o;else if('"'!==o&&"'"!==o){if(o===$)return u(),{result:x,index:m,stopKeyOk:!0,uniq:y++};"("===o&&l++,")"===o&&l--,"{"!==o?(":"===o&&"}"===$&&(v.type="free"),h+=o):(u(),s=d({line:w,index:m,level:g+1,stopKey:"}"}),x.push({type:"{}",child:s}),m=s.index)}else C=o,k="string",B+=o}else{if(o===C&&"\\"!==c){B+=o,x.push({type:"string",value:B}),B="",C="",k="";continue}B+=o}return u(),{result:x,index:m,filter:p}},f=d({line:c}),m={isSimple:!f.filter,simpleVariables:[]},f.filter?(m.expression=c.substring(0,c.length-f.filter.length-1),m.filter=f.filter):m.expression=c,v=function(e){var t;return t=e.split(/[\.\[\(\?]/),{count:t.length,firstPart:t[0]}},g=function(e,t){return t?"($$="+e+",$$==null)?undefined:":"($$=$$"+e+",$$==null)?undefined:"},p=function(e){return e.split(/[\.\[\(\?]/)[0]},u=function(e){var t,n,r,i,a,c,l,s,u,f;if("this"===e)return"$$scope";if(t=p(e),i=o[t]||h[t],s=e.split("?"),1===s.length)return i?e:"$$scope."+e;for(i?(f=g(s[0],!0),n=s[0]):(f=g("scope."+s[0]),n="scope."+s[0]),u=s.slice(1,s.length-1),r=0,c=u.length;c>r;r++)l=u[r],"("===l[0]?f+=g(n+l,i):(f+=g(l),n+=l);return a=s[s.length-1],"("===a[0]?(i||(f+="$$"),f+=n+a):f+="$$"+a,"("+f+")"},s=function(e){var t,n,r,i,a,c,l,f,p,h,d,g,y;for(g="",h=e.result,i=0,l=h.length;l>i;i++)if(r=h[i],"key"!==r.type)g+="{}"!==r.type?r.value:"{"+s(r.child)+"}";else{if(r.assignment?(y=v(r.value),p="this"===y.firstPart?"$$scope"+r.value.substring(4):y.count<2?"($$scope.$$root || $$scope)."+r.value:"$$scope."+r.value,m.isSimple=!1):o[r.value]?p=r.value:(p=u(r.value),m.simpleVariables.push(p)),r.children.length)for(d=r.children,a=0,f=d.length;f>a;a++)t=d[a],c="###"+t.uniq+"###",n=s(t),p=p.split(c).join(n);g+=p}return g},m.result=s(f),n.debug.parser&&console.log(c,m),m},n.utils.parsFilter=function(e){var t,r,i;for(i=[],e=e.trim();e;){if(t=e.match(/^(\w+)([^\w])(.*)$/),!t){if(t=e.match(/^(\w+)$/),!t)return null;i.push({name:t[1],args:[],raw:""});break}"|"===t[2]?(i.push({name:t[1],args:[],raw:""}),e=t[3]):(r=n.utils.parsArguments(t[3],{stop:"|"}),i.push({name:t[1],args:r.result,raw:t[3].slice(0,r.length)}),e=t[3].slice(r.length+1).trim())}return{result:i}},n.utils.parsArguments=function(e,t){var n,r,i,o,a,c,l,s;for(t=t||{},a=0,i=[],r="",o=0,l=!1,s=!1,c=function(){r&&(i.push(r),r="")};a<=e.length;)if(n=e[a]||"",a++,l)r+=n,'"'===n&&(l=!1);else if(s)r+=n,"'"===n&&(s=!1);else if('"'!==n)if("'"!==n)if(o)r+=n,"("===n&&o++,")"===n&&o--;else if(" "!==n&&","!==n){if(t.stop&&t.stop===n){c();break}"("===n&&(o=1),r+=n}else c();else r+=n,s=!0;else r+=n,l=!0;return c(),{result:i,length:a-1}}}(),function(){var e,t,r;return n.utils.pars_start_tag="{{",n.utils.pars_finish_tag="}}",r=function(e){var t,r,i,o,a,c,l,s,u;return u=n.utils.pars_start_tag,r=n.utils.pars_finish_tag,l=[],o=0,c=0,i=function(t){var n;return t=t||1,n=e.substring(c,o-t),c=o,n},s=null,a=function(t,n,c){var u,f,p,h;for(t||(s={type:"expression",list:[]},l.push(s)),h=null,u=null;o<e.length;){if(h=u,u=e[o],o+=1,f=h+u,p=e[o],u===n)return;if(!c){if(f===r&&0===t)return s.list.push(i(2)),!0;"("===u?a(t+1,")"):"{"===u?a(t+1,"}"):'"'===u?a(t+1,'"',!0):"'"===u?a(t+1,"'",!0):"|"===u&&0===t&&("|"===p?o+=1:s.list.push(i()))}}},t=function(){var t,n,r,c,s;for(r=null,t=null;o<e.length;)if(r=t,t=e[o],o+=1,n=r+t,n===u){if(s=i(2),s&&l.push({type:"text",value:s}),!a(0))throw"Wrong expression"+e;t=null}return c=i(-1),c?l.push({type:"text",value:c}):void 0},t(),n.debug.parser&&console.log("parsText",l),l},e={},t=function(e){var t,n,r;return r=function(){var r,i,o;for(o=[],r=0,i=e.length;i>r;r++)t=e[r],n={type:t.type,value:t.value},t.list&&(n.list=t.list.slice()),o.push(n);return o}()},n.utils.parsText=function(n){var i;return i=e[n],i||(e[n]=i=r(n)),t(i)}}(),function(){var e;return n.utils.compile=e={},e.cache={},e.Function=Function,e.expression=function(t,r){var i,o,a,c,l,s,u,f,p;if(r=r||{},t=t.trim(),u=t+"#",u+=r.no_return?"+":"-",u+=r.string?"s":"v",r.input&&(u+=r.input.join(",")),s=e.cache[u])return s;s=n.utils.parsExpression(t,{input:r.input}),c=s.result,f=r.no_return||!1,f?p="var $$;"+c:r.string&&!s.filter?(p="var $$, __ = ("+c+"); return '' + (__ || (__ == null?'':__))",s.rawExpression="(__="+c+") || (__ == null?'':__)"):p="var $$;return ("+c+")";try{r.input?(i=r.input.slice(),i.unshift("$$scope"),i.push(p),l=e.Function.apply(null,i)):l=e.Function("$$scope",p)}catch(a){throw o=a,n.exceptionHandler(o,"Wrong expression: "+t,{src:t,cfg:r}),"Wrong expression: "+c}return s.fn=l,e.cache[u]=s},e.cacheText={},e.buildText=function(t,n){var r,i,o,a,c,l,s;if(o=e.cacheText[t])return function(){return o.call(n)};for(s=[],c=a=0,l=n.length;l>a;c=++a)r=n[c],"expression"===r.type?s.push(r.fn?"this["+c+"].fn(this.scope)":"((x=this["+c+"].value) || (x == null?'':x))"):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),s.push('"'+i+'"'));return s=s.join(" + "),o=e.Function("var x; return ("+s+")"),e.cacheText[t]=o,function(){return o.call(n)}},e.cacheSimpleText={},e.buildSimpleText=function(t,n){var r,i,o,a,c,l,s,u,f;if(l=t?e.cacheSimpleText[t]:null,l||!n)return l||null;for(u=[],f=[],c=a=0,s=n.length;s>a;c=++a)r=n[c],"expression"===r.type?(u.push("("+r.re+")"),r.simpleVariables&&f.push.apply(f,r.simpleVariables)):r.value&&(i=r.value.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n"),u.push('"'+i+'"'));return u=u.join(" + "),o=e.Function("$$scope","var $$, __; return ("+u+")"),l={fn:o,simpleVariables:f},t&&(e.cacheSimpleText[t]=l),l}}();var j,L,F;F=function(e){var t,n,r,i;if(!e.length)return"el";for(i="el",n=0,r=e.length;r>n;n++)t=e[n],i+=".childNodes["+t+"]";return i},L=function(e){var t,r,i,o,a,c,l;for(i=n.utils.parsText(e),o=0,c=i.length;c>o;o++)if(r=i[o],"expression"===r.type){if(r.list.length>1)return null;if(a=r.list[0],"#"===a[0])return null;if("="===a[0])return null;if("::"===a.slice(0,2))return null;if(t=n.utils.compile.expression(a,{string:!0}),!t.rawExpression)throw"Error";r.re=t.rawExpression}return l=n.utils.compile.buildSimpleText(e,i),l.fn},n.core.fastBinding=function(e){return n.debug.fastBinding&&!e.directive&&!e.hook&&e.fb?new j(e):void 0},j=function(e){var t,r,i,o;return r=this,i=[],r.fastWatchFn=[],t=[],o=function(e,n){var a,c,l,s,u,f,p,h,d,m,v,g,y,w,b,x;if(e.dir)for(w=F(t),v=e.dir,s=0,h=v.length;h>s;s++)a=v[s],i.push("s.dir("+r.fastWatchFn.length+", "+w+");"),r.fastWatchFn.push(a);if(e.attr)for(g=e.attr,u=0,d=g.length;d>u;u++)l=g[u],x=l.value,f=l.attrName,w=F(t),c=L(x),b=x.replace(/"/g,'\\"').replace(/\n/g,"\\n"),c?(i.push('s.fw("'+b+'", '+r.fastWatchFn.length+", "+w+', "'+f+'");'),r.fastWatchFn.push(c)):i.push("s.wt('"+b+"', "+w+", '"+f+"');");if(e.text&&(w=F(t),c=L(e.text),b=e.text.replace(/"/g,'\\"').replace(/\n/g,"\\n"),c?(i.push('s.fw("'+b+'", '+r.fastWatchFn.length+", "+w+");"),r.fastWatchFn.push(c)):i.push('s.wt("'+b+'", '+w+");")),e.children)for(y=e.children,p=0,m=y.length;m>p;p++)l=y[p],t.length=n+1,t[n]=l.index,o(l.fb,n+1);return null},o(e.fb,0),i=i.join("\n"),r.resultFn=n.utils.compile.Function("s","el","f$",i),this},j.prototype.bind=function(e,t){this.currentCD=e,this.resultFn(this,t,r)},j.prototype.dir=function(e,t){var n,r,i,o;return r=this.fastWatchFn[e],n=this.currentCD,i=new $({attrName:r.attrName,attrArgument:r.attrArgument,changeDetector:n}),o=r.fb.call(i,n.scope,t,r.value,i),o&&o.start&&o.start(),null},j.prototype.fw=function(e,t,n,r){var i,o,a,c;i=this.currentCD,o=this.fastWatchFn[t],a=o(i.locals),c={isStatic:!1,isArray:!1,extraLoop:!1,deep:!1,value:a,callback:null,exp:o,src:e,onStop:null,el:n,ea:r||null},i.watchList.push(c),u(i.scope,c,a)},j.prototype.wt=function(e,t,n){this.currentCD.watchText(e,null,{element:t,elementAttr:n})},function(){var e,t,i,o,a,c,l,s;return n.hooks.attribute.unshift({code:"events",fn:function(){var e;e=this.attrName.match(/^\@([\w\.\-]+)$/),e&&(this.ns="al",this.name="on",this.attrArgument=e[1])}}),n.hooks.eventModifier={},s=function(e,t){return n.hooks.eventModifier[e]={event:["keydown","keypress","keyup"],fn:function(e,n){e[t]||(n.stop=!0)}}},s("alt","altKey"),s("control","ctrlKey"),s("ctrl","ctrlKey"),s("meta","metaKey"),s("shift","shiftKey"),i=function(e,t){var n,i,o,a,c,l;if(l={},"string"==typeof e?l.event=e:"object"==typeof e&&e.event&&(l.event=e.event),"string"==typeof l.event&&(l.event=l.event.split(/\s+/)),t&&l.event){for(o=!1,c=l.event,i=0,a=c.length;a>i;i++)if(n=c[i],t.indexOf(n)>=0){o=!0;break}if(!o)return null}return r.isFunction(e)?l.fn=e:e.fn&&(l.fn=e.fn),e.init&&(l.init=e.init),l},n.d.al.on=function(t,n,i,o){var c,s,u,f,p,h,d,m;if(o.fastBinding=!0,o.attrArgument){for(p=o.attrArgument.split(".")[0],u=l(o.attrArgument,e[p]),u.scope=t,u.element=n,u.expression=i,u.cd=c=o.changeDetector,u.fn=c.compile(i,{no_return:!0,input:["$event","$element","$value"]}),f=function(e){return a(u,e)},m=u.eventList,h=0,d=m.length;d>h;h++)s=m[h],r.on(n,s,f);u.initFn&&u.initFn(t,n,i,o),c.watch("$destroy",function(){var e,t,i,o;for(i=u.eventList,o=[],e=0,t=i.length;t>e;e++)s=i[e],o.push(r.off(n,s,f));return o})}},c={enter:13,tab:9,"delete":46,backspace:8,esc:27,space:32,up:38,down:40,left:37,right:39},e={click:{stop:!0,prevent:!0},dblclick:{stop:!0,prevent:!0},submit:{stop:!0,prevent:!0},keyup:{filterByKey:!0},keypress:{filterByKey:!0},keydown:{filterByKey:!0}},l=function(e,t){var r,o,a,l,s,u,f,p,h;for(t=t||{},o={attrArgument:e,throttle:null,throttleId:null,debounce:null,debounceTime:0,initFn:null,eventList:null,stop:t.stop||!1,prevent:t.prevent||!1,scan:!0,modifiers:[]},r=e.split("."),a=r[0],l=null,p=n.hooks.eventModifier[a],p&&(p=i(p),p.event&&(o.eventList=p.event,p.fn&&o.modifiers.push(p),p.init&&(o.initFn=p.init))),o.eventList||(o.eventList=[a]),h=r.slice(1),s=0,f=h.length;f>s;s++)u=h[s],"stop"!==u?"prevent"!==u?"nostop"!==u?"noprevent"!==u?"noscan"!==u?"throttle-"!==u.substring(0,9)?"debounce-"!==u.substring(0,9)?(p=n.hooks.eventModifier[u],p?(p=i(p,o.eventList),p&&o.modifiers.push(p)):t.filterByKey&&(null===l&&(l={}),c[u]&&(u=c[u]),l[u]=!0)):o.debounce=Number(u.substring(9)):o.throttle=Number(u.substring(9)):o.scan=!1:o.prevent=!1:o.stop=!1:o.prevent=!0:o.stop=!0;return o.filterByKey=l,o},o=function(e,t){var n;return n=e.element,"checkbox"===n.type?n.checked:"radio"===n.type?n.value||n.checked:t.component?t.value:n.value},t=function(e,t){var r,i;try{e.fn(e.cd.locals,t,e.element,o(e,t))}catch(i){r=i,n.exceptionHandler(r,"Error in event: "+e.attrArgument+" = "+e.expression,{attr:e.attrArgument,exp:e.expression,scope:e.scope,cd:e.cd,element:e.element,event:t})}e.scan&&e.cd.scan()},a=function(e,n){var r,i,o,a,c;if(!e.filterByKey||e.filterByKey[n.keyCode]){if(e.modifiers.length)for(r={stop:!1},c=e.modifiers,i=0,o=c.length;o>i;i++)if(a=c[i],a.fn(n,r),r.stop)return;e.prevent&&n.preventDefault(),e.stop&&n.stopPropagation(),e.throttle?(e.throttleId&&clearTimeout(e.throttleId),e.throttleId=setTimeout(function(){return e.throttleId=null,t(e,n)},e.throttle)):e.debounce?e.debounceTime<Date.now()&&(e.debounceTime=Date.now()+e.debounce,t(e,n)):t(e,n)}}}(),n.hooks.attribute.unshift({code:"directDirective",fn:function(){var e=this.attrName.match(/^(.*)\!$/);if(e){var t=e[1].replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),i=this.cd.locals[t]||n.option.globalController&&window[t];r.isFunction(i)?this.directive=function(e,t,r,o){var a=o.changeDetector;if(r){for(var c=n.utils.parsArguments(r),l=Array(c.result.length),s=0;s<c.result.length;s++)l[s]=n.utils.compile.expression(c.result[s],{input:["$element","$env"]}).fn(a.locals,t,o);k(a,function(){i.apply(a,l)})}else k(a,function(){i.call(a,e,t,r,o)})}:(this.result="noDirective",this.stop=!0)}}});var H;return H=function(e){return{priority:10,stopPropagation:!0,link:function(t,i,o,a){var c;return c={stopPropagation:this.stopPropagation,callback:a.compile(o,{no_return:!0,input:["$event"]}),start:function(){c.onDom(),c.stop=a.takeAttr("al-click-stop")},onDom:function(){r.on(i,e,c.doCallback),a.watch("$destroy",c.offDom)},offDom:function(){r.off(i,e,c.doCallback)},doCallback:function(e){var r;if(c.stop||(e.preventDefault(),c.stopPropagation&&e.stopPropagation()),!i.getAttribute("disabled")){try{c.callback(t,e)}catch(r){e=r,n.exceptionHandler(e,"al-click, error in expression: "+o,{name:o,scope:t,element:i})}c.stop&&a.eval(c.stop)&&(e.preventDefault(),c.stopPropagation&&e.stopPropagation()),a.scan()}}}}}},n.d.al.click=H("click"),n.d.al.dblclick=H("dblclick"),n.d.al.value=function(e,t,n,i){var o;return i.fastBinding=!0,o={onDom:function(){r.on(t,"input",o.updateModel),r.on(t,"change",o.updateModel),i.watch("$destroy",o.offDom)},offDom:function(){r.off(t,"input",o.updateModel),r.off(t,"change",o.updateModel)},updateModel:function(){i.setValue(n,t.value),o.watch.refresh(),i.scan()},watchModel:function(){o.watch=i.watch(n,o.updateDom)},updateDom:function(e){return null==e&&(e=""),t.value=e,"$scanNoChanges"},start:function(){o.onDom(),o.watchModel()}}},n.d.al.checked=function(e,t,n,i){var o;return i.fastBinding=!0,o={start:function(){o.onDom(),o.watchModel()},onDom:function(){r.on(t,"change",o.updateModel),i.watch("$destroy",o.offDom)},offDom:function(){r.off(t,"change",o.updateModel)},updateModel:function(){var e;e=t.checked,i.setValue(n,e),o.watch.refresh(),i.scan()},watchModel:function(){o.watch=i.watch(n,o.updateDom)},updateDom:function(e){return t.checked=!!e,"$scanNoChanges"}}},n.d.al["if"]=function(e,t,i,o){var a;return o.elementCanBeRemoved?(n.exceptionHandler(null,o.attrName+" can't control element because of "+o.elementCanBeRemoved,{scope:e,element:t,value:i,env:o}),{}):(o.stopBinding=!0,a={item:null,childCD:null,base_element:null,top_element:null,start:function(){a.prepare(),a.watchModel()},prepare:function(){a.base_element=t,a.top_element=document.createComment(" "+o.attrName+": "+i+" "),r.before(t,a.top_element),r.remove(t)},updateDom:function(e){e?a.insertBlock(e):a.removeBlock()},removeBlock:function(){a.childCD&&(a.childCD.destroy(),a.childCD=null,a.removeDom(a.item),a.item=null)},insertBlock:function(){a.childCD||(a.item=a.base_element.cloneNode(!0),a.insertDom(a.top_element,a.item),a.childCD=o.changeDetector["new"](),n.bind(a.childCD,a.item,{skip_attr:o.skippedAttr(),elementCanBeRemoved:o.attrName}))},watchModel:function(){o.watch(i,a.updateDom)},removeDom:function(e){r.remove(e)},insertDom:function(e,t){r.after(e,t)}})},n.d.al.ifnot=function(e,t,r,i){var o;return o=n.d.al["if"](e,t,r,i),o.updateDom=function(e){e?o.removeBlock():o.insertBlock()},o},n.directives.al.repeat={restrict:"AM",init:function(e,t,i,o){var a,c;return o.elementCanBeRemoved?(n.exceptionHandler(null,o.attrName+" can't control element because of "+o.elementCanBeRemoved,{scope:e,element:t,value:i,env:o}),{}):(o.stopBinding=!0,a=o.changeDetector,c={start:function(){c.parsExpression(),c.prepareDom(),c.buildUpdateDom(),c.watchModel()},parsExpression:function(){var e,t;if(t=i.trim(),"("===t[0])if(c.objectMode=!0,e=t.match(/\((\w+),\s*(\w+)\)\s+in\s+(.+)\s+orderBy:(.+)\s*$/))c.objectKey=e[1],c.objectValue=e[2],c.expression=e[3]+(" | toArray:"+c.objectKey+","+c.objectValue+" | orderBy:"+e[4]),c.nameOfKey="$item",c.trackExpression="$item."+c.objectKey;else{if(e=t.match(/\((\w+),\s*(\w+)\)\s+in\s+(.+)\s*$/),!e)throw"Wrong repeat: "+i;c.objectKey=e[1],c.objectValue=e[2],c.expression=e[3]+(" | toArray:"+c.objectKey+","+c.objectValue),c.nameOfKey="$item",c.trackExpression="$item."+c.objectKey}else{if(e=t.match(/(.*) track by ([\w\.\$\(\)]+)/),e&&(c.trackExpression=e[2],t=e[1]),e=t.match(/\s*(\w+)\s+in\s+(.+)/),!e)throw"Wrong repeat: "+i;c.nameOfKey=e[1],c.expression=e[2]}},watchModel:function(){var e;e=c.objectMode?{deep:!0}:{isArray:!0},c.watch=a.watch(c.expression,c.updateDom,e)},prepareDom:function(){var e,a,l,s,u,f;if(8===t.nodeType){for(c.top_element=t,c.element_list=a=[],e=t.nextSibling;e;){if(8===e.nodeType&&(u=e.nodeValue,f=u.trim().split(/\s+/),"/directive:"===f[0]&&"al-repeat"===f[1])){o.skipToElement=e;break}a.push(e),e=e.nextSibling}for(l=0,s=a.length;s>l;l++)e=a[l],r.remove(e)}else c.base_element=t,c.top_element=document.createComment(" "+i+" "),r.before(t,c.top_element),r.remove(t),n.option.removeAttribute&&t.removeAttribute(o.attrName)},makeChild:function(e,t,n){var r;return r=a["new"](null,{locals:!0}),c.updateLocals(r,e,t,n),r},updateLocals:function(e,t,n,r){var i;i=e.locals,c.objectMode?(i[c.objectKey]=t[c.objectKey],i[c.objectValue]=t[c.objectValue]):i[c.nameOfKey]=t,i.$index=n,i.$first=0===n,i.$last=n===r.length-1},rawUpdateDom:function(e,t){var n,i,o,a,c,l;for(i=0,c=e.length;c>i;i++)n=e[i],r.remove(n);for(a=0,l=t.length;l>a;a++)o=t[a],r.after(o.after,o.element)},buildUpdateDom:function(){return c.updateDom=function(){var e,r,i,l,s,u,f,p,h,d,m;return m=[],u=0,i=null,"$index"===c.trackExpression?(f={},h=function(){var e;return e=u,f[e]||null},p=function(e){var t;t=e.$id,null!=t&&delete f[t]},d=function(e,t){var n;n=u,t.$id=n,f[n]=t}):c.trackExpression?(f={},e=function(){var e;return e=a.compile(c.trackExpression,{input:["$id",c.nameOfKey]}),function(t,n){return e(a.scope,t,n)}}(),r=function(e){var t;return(t=e.$alite_id)?t:t=e.$alite_id=n.utils.getId()},h=function(t){var n;return n=e(r,t),null!=n?f[n]:null},p=function(e){var t;t=e.$id,null!=t&&delete f[t]},d=function(t,n){var i;i=e(r,t),n.$id=i,f[i]=n}):window.Map?(f=new Map,h=function(e){return f.get(e)},p=function(e){f["delete"](e.item)},d=function(e,t){f.set(e,t)}):(f={},h=function(e){var t;return"object"!=typeof e?f[e]||null:(t=e.$alite_id)?f[t]:null},p=function(e){var t;t=e.$id,f[t]&&(e.$id=null,delete f[t])},d=function(e,t){var r;"object"==typeof e?(r=n.utils.getId(),e.$alite_id=r,t.$id=r,f[r]=t):(t.$id=e,f[e]=t)}),l=[],s=function(e){var t,n;if(n=typeof e,"object"!==n){if("number"===n)t=Math.floor(e);else if("string"===n&&(t=Math.floor(e),isNaN(t)))return[];if(t<l.length)l.length=t;else for(;l.length<t;)l.push(l.length);return l}return e&&e.length?e:[]},c.element_list?function(e){var t,r,i,a,l,f,v,g,y,w,b,x,D,k,$,C,B,A,_,T,N,S,E,M,O,j,L,F,H,I,V,K,R,W,P,U,q,G,z;for(O=s(e),C=c.top_element,a=[],I=[],y=0,B=m.length;B>y;y++)H=m[y],H.active=!1;for(u=D=0,A=O.length;A>D;u=++D)b=O[u],H=h(b),H&&(H.active=!0);for(l=[],k=0,_=m.length;_>k;k++)if(H=m[k],!H.active){for(H.prev&&(H.prev.next=H.next),H.next&&(H.next.prev=H.prev),p(H),H.CD.destroy(),U=H.element_list,$=0,T=U.length;T>$;$++)f=U[$],l.push(f);H.next=null,H.prev=null,H.element_list=null}for(t=[],R=null,P=null,W=!1,v=c.element_list.length-1,u=j=0,N=O.length;N>j;u=++j)if(b=O[u],x=b,H=h(b)){if(c.updateLocals(H.CD,b,u,O),H.prev===P){if(W)for(q=H.element_list,L=0,S=q.length;S>L;L++)f=q[L],a.push({element:f,after:C}),C=f;P=H,C=H.element_list[v],H.active=!0,I.push(H);continue}for(H.prev=P,P&&(P.next=H),G=H.element_list,V=0,E=G.length;E>V;V++)f=G[V],a.push({element:f,after:C}),C=f;W=!0,P=H,H.active=!0,I.push(H)}else i=c.makeChild(x,u,O),g=function(){var e,n,o,l;for(o=c.element_list,l=[],n=0,e=o.length;e>n;n++)r=o[n],f=r.cloneNode(!0),t.push({cd:i,el:f}),a.push({element:f,after:C}),l.push(C=f);return l}(),H={CD:i,element_list:g,prev:P,next:null,active:!0,item:b},d(b,H),P?(F=P.next,P.next=H,H.next=F,F&&(F.prev=H)):0===u&&m[0]&&(F=m[0],H.next=F,F.prev=H),P=H,I.push(H);for(m=I,c.rawUpdateDom(l,a),l.length=0,a.length=0,z=o.skippedAttr(),K=0,M=t.length;M>K;K++)w=t[K],n.bind(w.cd,w.el,{skip_attr:z,elementCanBeRemoved:o.attrName})}:function(e){var r,a,l,f,v,g,y,w,b,x,D,k,$,C,B,A,_,T,N,S,E,M,O,j,L,F,H;for(T=s(e),k=c.top_element,l=[],M=[],v=0,$=m.length;$>v;v++)E=m[v],E.active=!1;for(u=b=0,C=T.length;C>b;u=++b)y=T[u],E=h(y),E&&(E.active=!0);for(f=[],x=0,B=m.length;B>x;x++)E=m[x],E.active||(E.prev&&(E.prev.next=E.next),E.next&&(E.next.prev=E.prev),p(E),E.CD.destroy(),f.push(E.element),E.next=null,E.prev=null,E.element=null);for(r=[],O=null,L=null,j=!1,u=D=0,A=T.length;A>D;u=++D)if(y=T[u],w=y,E=h(y)){if(c.updateLocals(E.CD,y,u,T),E.prev===L){j&&l.push({element:E.element,after:L.element}),L=E,k=E.element,E.active=!0,M.push(E);continue}E.prev=L,L&&(L.next=E),l.push({element:E.element,after:k}),j=!0,k=E.element,L=E,E.active=!0,M.push(E)}else a=c.makeChild(w,u,T),t=c.base_element.cloneNode(!0),r.push({cd:a,el:t}),l.push({element:t,after:k}),E={CD:a,element:t,prev:L,next:null,active:!0,item:y},k=t,d(y,E),L?(S=L.next,L.next=E,E.next=S,S&&(S.prev=E)):0===u&&m[0]&&(S=m[0],E.next=S,S.prev=E),L=E,M.push(E);for(m=M,c.rawUpdateDom(f,l),f.length=0,l.length=0,H=o.skippedAttr(),N=0,_=r.length;_>N;N++)g=r[N],i?i.bind(g.cd,g.el):(F=n.bind(g.cd,g.el,{skip_attr:H,elementCanBeRemoved:o.attrName}),null===i&&(i=n.core.fastBinding(F)||!1))}}()}})}},n.d.al.init=function(e,t,r,i){var o,a,c,l,s;i.fastBinding=!0,o=i.changeDetector,s=["$element"],"window"===i.attrArgument&&s.push("window");try{l=o.compile(r,{no_return:!0,input:s}),l(o.locals,t,window)}catch(c){a=c,n.exceptionHandler(a,"al-init, error in expression: "+r,{exp:r,scope:e,cd:o,element:t})}},n.d.al["class"]=n.d.al.css=function(e,t,i,o){var a;return a={start:function(){a.parsLine(),a.prepare()},parsLine:function(){var r,o,c,l,s,u;for(a.list=s=[],u=i.split(","),c=0,l=u.length;l>c;c++)r=u[c],o=r.indexOf(":"),0>o?n.exceptionHandler(r,"al-css, error in expression: "+i,{exp:i,e:r,scope:e,element:t}):s.push({css:r.slice(0,+(o-1)+1||9e9).trim().split(" "),exp:r.slice(o+1).trim()})},prepare:function(){var e,t,n,r,i;for(i=a.list,n=0,r=i.length;r>n;n++)t=i[n],e=function(e){return function(t){return a.draw(e,t),"$scanNoChanges"}}(t),o.watch(t.exp,e)},draw:function(e,n){var i,o,a,c,l,s,u;if(n)for(s=e.css,o=0,c=s.length;c>o;o++)i=s[o],r.addClass(t,i);else for(u=e.css,a=0,l=u.length;l>a;a++)i=u[a],r.removeClass(t,i)}}},n.d.al.src=function(e,t,n){var r;r=function(e){return e||(e=""),t.setAttribute("src",e),"$scanNoChanges"},this.watchText(n,r)},n.d.al.text=function(e,t,n,r){var i;return i={start:function(){i.watchModel()},updateDom:function(e){return null==e&&(e=""),void 0!==t.textContent?t.textContent=e:t.innerText=e,"$scanNoChanges"},watchModel:function(){r.watch(n,i.updateDom)}}},n.d.al.app={stopBinding:!0},n.d.bo["switch"]={priority:500,ChangeDetector:!0,link:function(e,t,n,r){r.changeDetector.$switch={value:r.eval(n),on:!1}}},n.d.bo.switchWhen={priority:500,link:function(e,t,n,i){var o;o=i.changeDetector,o.$switch.value!==n?(r.remove(t),i.stopBinding=!0):o.$switch.on=!0}},n.d.bo.switchDefault={priority:500,link:function(e,t,n,i){i.changeDetector.$switch.on&&(r.remove(t),i.stopBinding=!0)}},function(){var e;return e=function(e){var t;return t={priority:700,link:function(t,n,i,o){var a;a=o.eval(i),!a===e&&(r.remove(n),o.stopBinding=!0)}}},n.d.bo["if"]=e(!0),n.d.bo.ifnot=e(!1)}(),n.d.al.stop={restrict:"AE",stopBinding:!0},n.d.al.include={priority:100,link:function(e,t,i,o){var a,c,l,s,u;return o.elementCanBeRemoved?(n.exceptionHandler(null,o.attrName+" can't control element because of "+o.elementCanBeRemoved,{scope:e,element:t,value:i,env:o}),{}):(o.stopBinding=!0,l=null,c=null,u=null,a=null,s={start:function(){s.prepare(),s.watchModel()},prepare:function(){c=t,u=document.createComment(" "+o.attrName+": "+i+" "),r.before(t,u),r.remove(t)},loadHtml:function(e){r.ajax(e)},removeBlock:function(){l&&(l.destroy(),l=null),a&&(s.removeDom(a),a=null)},insertBlock:function(e){a=c.cloneNode(!0),a.innerHTML=e,s.insertDom(u,a),l=o.changeDetector["new"](),n.bind(l,a,{skip_attr:o.skippedAttr(),elementCanBeRemoved:o.attrName})},updateDom:function(e){return e?void s.loadHtml({cache:!0,url:e,success:function(e){return s.removeBlock(),s.insertBlock(e)},error:s.removeBlock}):void s.removeBlock()},removeDom:function(e){r.remove(e)},insertDom:function(e,t){r.after(e,t)},watchModel:function(){o.watch(i,s.updateDom)}})}},n.d.al.cloak=function(e,t,n,i){t.removeAttribute(i.attrName),n&&r.removeClass(t,n)},n.d.al.enable=function(e,t,n){var r;r=function(e){e?t.removeAttribute("disabled"):t.setAttribute("disabled","disabled")},this.watch(n,r)},n.d.al.disable=function(e,t,n){var r;r=function(e){e?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")},this.watch(n,r)},n.d.al.focused=function(e,t,n,i){var o;return o={updateModel:function(e){i.getValue(n)!==e&&(i.setValue(n,e),self.watch.refresh(),i.scan())},onDom:function(){var e,n;n=function(){return o.updateModel(!0)},e=function(){return o.updateModel(!1)},r.on(t,"focus",n),r.on(t,"blur",e),i.watch("$destroy",function(){return r.off(t,"focus",n),r.off(t,"blur",e)})},updateDom:function(e){return e?t.focus():t.blur(),"$scanNoChanges"},watchModel:function(){self.watch=i.watch(n,o.updateDom)},start:function(){o.onDom(),o.watchModel()}}},n.d.al.readonly=function(e,t,n){var r;r=function(e){t.readOnly=!!e},this.watch(n,r,{readOnly:!0})},n.d.al.submit=function(e,t,i,o){var a;return a={callback:o.compile(i,{no_return:!0,input:["$event"]}),start:function(){a.onDom()},onDom:function(){r.on(t,"submit",a.doCallback),o.watch("$destroy",a.offDom)},offDom:function(){r.off(t,"submit",a.doCallback)},doCallback:function(r){var c;r.preventDefault(),r.stopPropagation();try{a.callback(e,r)}catch(c){r=c,n.exceptionHandler(r,"al-submit, error in expression: "+i,{name:i,scope:e,element:t})}o.scan()}}},function(){var e,t,i,o,a;for(o=["keydown","keypress","keyup","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","focus","blur","change"],a=[],e=0,i=o.length;i>e;e++)t=o[e],a.push(function(e){return n.d.al[e]=function(t,i,o,a){var c;return c={start:function(){c.makeCaller(),c.onDom()},makeCaller:function(){c.caller=a.compile(o,{no_return:!0,input:["$event"]})},onDom:function(){r.on(i,e,c.callback),a.watch("$destroy",c.offDom)},offDom:function(){r.off(i,e,c.callback)},callback:function(r){var l;try{c.caller(t,r)}catch(l){r=l,n.exceptionHandler(r,e+", error in expression: "+o,{exp:o,scope:t,element:i})}a.scan()}}}}(t));return a}(),n.d.al.html={restrict:"AM",priority:100,modifier:{},link:function(e,t,i,o){var a;return o.elementCanBeRemoved&&8!==t.nodeType?(n.exceptionHandler(null,o.attrName+" can't control element because of "+o.elementCanBeRemoved,{scope:e,element:t,value:i,env:o}),{}):(o.stopBinding=!0,a={baseElement:null,topElement:null,activeElement:null,childCD:null,name:i,watchMode:null,start:function(){a.parsing(),a.prepare(),a.watchModel()},parsing:function(){var r,c,l,s;if(o.attrArgument)for(s=o.attrArgument.split("."),r=0,c=s.length;c>r;r++)l=s[r],"literal"!==l?"tpl"!==l?n.d.al.html.modifier[l]&&n.d.al.html.modifier[l](a,{scope:e,element:t,inputName:i,env:o}):a.watchMode="tpl":a.watchMode="literal"},prepare:function(){8===t.nodeType?(a.baseElement=null,a.topElement=t):(a.baseElement=t,a.topElement=document.createComment(" "+o.attrName+": "+i+" "),r.before(t,a.topElement),r.remove(t))},removeBlock:function(){var e,t,n,r;if(a.childCD&&(a.childCD.destroy(),a.childCD=null),a.activeElement){if(Array.isArray(a.activeElement))for(r=a.activeElement,t=0,n=r.length;n>t;t++)e=r[t],a.removeDom(e);else a.removeDom(a.activeElement);a.activeElement=null}},insertBlock:function(e){var t,r,i;if(a.baseElement)a.activeElement=a.baseElement.cloneNode(!1),a.activeElement.innerHTML=e,a.domOptimization&&n.utils.optmizeElement(a.activeElement),a.insertDom(a.topElement,a.activeElement),a.childCD=o.changeDetector["new"](),n.bind(a.childCD,a.activeElement,{skip_attr:o.skippedAttr(),elementCanBeRemoved:o.attrName});else for(i=document.createElement("body"),i.innerHTML=e,a.domOptimization&&n.utils.optmizeElement(i),t=a.topElement,a.activeElement=[],a.childCD=o.changeDetector["new"]();r=i.firstChild;)a.insertDom(t,r),t=r,a.activeElement.push(r),n.bind(a.childCD,t,{skip_attr:o.skippedAttr(),elementCanBeRemoved:o.attrName})},updateDom:function(e){a.removeBlock(),e&&a.insertBlock(e)},removeDom:function(e){r.remove(e)},insertDom:function(e,t){r.after(e,t)},watchModel:function(){"literal"===a.watchMode?a.updateDom(a.name):"tpl"===a.watchMode?o.watchText(a.name,a.updateDom):o.watch(a.name,a.updateDom)}})}},n.d.al.html.modifier.id=function(e){return e.updateDom=function(t){var n,r;e.removeBlock(),r=document.getElementById(t),r&&(n=r.innerHTML,n&&e.insertBlock(n))}},n.d.al.html.modifier.url=function(e){return e.domOptimization=n.debug.domOptimization,e.loadHtml=function(e){r.ajax(e)},e.updateDom=function(t){return t?void e.loadHtml({cache:!0,url:t,success:function(t){e.removeBlock(),e.insertBlock(t)},error:e.removeBlock}):void e.removeBlock()
}},n.d.al.html.modifier.scope=function(e,t){var r,i,o,a;if(r=e.name.split(":"),2===r.length)e.name=r[0],a=r[1];else{if(r=e.name.match(/(.+)\:\s*\:\:([\d\w]+)$/))o=!0;else if(o=!1,r=e.name.match(/(.+)\:\s*([\.\w]+)$/),!r)throw"Wrong expression "+e.name;e.name=r[1],a=r[2]}return i="outer",e.insertBlock=function(r){var c,l,s;e.activeElement=e.baseElement.cloneNode(!1),e.activeElement.innerHTML=r,e.insertDom(e.topElement,e.activeElement),l=t.env.changeDetector,c=e.childCD=l["new"](null,{locals:!0}),c.locals[i]=null,s=l.watch(a,function(e){return c.locals[i]=e},{oneTime:o}),e.childCD.watch("$destroy",function(){return s.stop()}),n.bind(e.childCD,e.activeElement,{skip_attr:t.env.skippedAttr()})}},n.d.al.html.modifier.inline=function(e,t){var n;return n=e.prepare,e.prepare=function(){return n(),t.env.setValue(e.name,e.baseElement.innerHTML)}},n.d.al.radio=function(e,t,n,i){var o;return o={start:function(){o.makeValue(),o.onDom(),o.watchModel()},makeValue:function(){var e,t;e=i.takeAttr("al-value"),t=e?i.eval(e):i.takeAttr("value"),o.value=t},onDom:function(){r.on(t,"change",o.updateModel),i.watch("$destroy",o.offDom)},offDom:function(){r.off(t,"change",o.updateModel)},updateModel:function(){i.setValue(n,o.value),o.watch.refresh(),i.scan()},watchModel:function(){o.watch=i.watch(n,o.updateDom)},updateDom:function(e){return t.checked=e===o.value,"$scanNoChanges"}}},n.d.al.show=function(e,t,n,i){var o;return o={showDom:function(){r.removeClass(t,"al-hide")},hideDom:function(){r.addClass(t,"al-hide")},updateDom:function(e){return e?o.showDom():o.hideDom(),"$scanNoChanges"},watchModel:function(){i.watch(n,o.updateDom)},start:function(){o.watchModel()}}},n.d.al.hide=function(e,t,r,i){var o;return o=n.d.al.show.call(this,e,t,r,i),o.updateDom=function(e){return e?o.hideDom():o.showDom(),"$scanNoChanges"},o},n.d.al.style=function(e,t,n){var r,i;r={},i=function(e){var n,i,o,a;for(i in r)a=r[i],t.style[i]="";r={},o=e||{};for(n in o)a=o[n],i=n.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),r[i]=a,t.style[i]=a||""},env.watch(n,i,{deep:!0})},function(){var e;return window.Map?(e=function(){return this.idByItem=new Map,this.itemById={},this.index=1,this},e.prototype.acquire=function(e){var t;return t="i"+this.index++,this.idByItem.set(e,t),this.itemById[t]=e,t},e.prototype.release=function(e){var t;t=this.itemById[e],delete this.itemById[e],this.idByItem["delete"](t)},e.prototype.replace=function(e,t){var n;n=this.itemById[e],this.idByItem["delete"](n),this.idByItem.set(t,e),this.itemById[e]=t},e.prototype.getId=function(e){return this.idByItem.get(e)},e.prototype.getItem=function(e){return this.itemById[e]||null}):(e=function(){return this.itemById={"i#null":null},this},e.prototype.acquire=function(e){var t;return null===e?"i#null":("object"==typeof e?(t=e.$alite_id,t||(e.$alite_id=t=n.utils.getId())):t=""+e,this.itemById[t]=e,t)},e.prototype.release=function(e){delete this.itemById[e]},e.prototype.replace=function(e,t){this.itemById[e]=t},e.prototype.getId=function(e){return null===e?"i#null":"object"==typeof e?e.$alite_id:""+e},e.prototype.getItem=function(e){return this.itemById[e]||null}),n.d.al.select=function(t,i,o,a){var c,l,s,u,f,p;return c=a.changeDetector["new"](),a.stopBinding=!0,c.$select={mapper:s=new e},l=null,c.$select.change=function(){return n.nextTick(function(){return f(l)})},f=function(e){var t;return t=s.getId(e),t?i.value=t:i.selectedIndex=-1},p=c.watch(o,function(e){return l=e,f(e)}),u=function(e){return l=s.getItem(e.target.value),c.setValue(o,l),p.refresh(),c.scan()},r.on(i,"input",u),r.on(i,"change",u),c.watch("$destroy",function(){return r.off(i,"input",u),r.off(i,"change",u)}),n.bind(c,i,{skip_attr:a.skippedAttr()})},n.d.al.option=function(e,t,r,i){var o,a,c,l,s,u,f;for(o=f=i.changeDetector,a=l=0;4>=l&&!(u=f.$select);a=++l)f=f.parent||{};return u?(s=u.mapper,c=null,o.watch(r,function(e){c?s.getId(e)!==c?(s.release(c),c=s.acquire(e),t.value=c,u.change()):s.replace(c,e):(c=s.acquire(e),t.value=c,u.change())}),void o.watch("$destroy",function(){return s.release(c),u.change()})):void n.exceptionHandler("","Error in al-option - al-select is not found",{cd:o,scope:o.scope,element:t,value:r})}}(),n.d.al.ctrl={stopBinding:!0,priority:500,link:function(e,t,r,i){var o,a;return o=function(o,a){n.exceptionHandler(o,a,{name:r,env:i,scope:e,element:t})},a={getController:function(t){var r,i;return r=e.$ns,r&&r.ctrl&&(i=r.ctrl[t],!i&&!r.inheritGlobal)?void o("","Controller not found in $ns: "+t):(i||(i=n.ctrl[t],!i&&n.option.globalController&&(i=window[t])),i||o("","Controller not found: "+t),i)},start:function(){var c,l,s,u,f,p,h,d,m,g,y,w;if(r){if(d=a.getController(r),!d)return}else d=null;if(d&&Object.keys(d.prototype).length){l=function(){},g=v.prototype;for(m in g)w=g[m],l.prototype[m]=w;y=d.prototype;for(m in y)w=y[m],l.prototype[m]=w;f=new l}else f={};f.$parent=e,s=i.changeDetector["new"](f);try{d&&(c=function(){return this},c.prototype=i,u=new c,u.changeDetector=s,u.parentChangeDetector=i.changeDetector,k(s,function(){return d.call(f,f,t,r,u)}))}catch(h){p=h,o(p,"Error in controller: "+r)}n.bind(s,t,{skip_attr:i.skippedAttr()})}}}},function(){var e;return n.hooks.attribute.unshift({code:"attribute",fn:function(){var e,t;e=this.attrName.match(/^\:([\w\.\-]+)$/),e&&(t=e[1],"html"===t.split(".")[0]?(this.name="html",t=t.substring(5)):this.name="attr",this.ns="al",this.attrArgument=t)}}),e={checked:"checked",readonly:"readOnly",value:"value",selected:"selected",muted:"muted",disabled:"disabled",hidden:"hidden"},n.d.al.attr=function(t,n,i,o){var a,c,l,s,u,f,p,h;if(o.fastBinding=!0,o.attrArgument){if(l=o.attrArgument.split("."),c=l[0],f=e[c],s=l.indexOf("tpl")>0,a={readOnly:!0},"style"===c){if(!l[1])throw"Style is not declared";h=l[1].replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),p=function(e){return null==e&&(e=""),n.style[h]=e}}else"class"===c&&l.length>1?(s=!1,u=l.slice(1),p=function(e){var t,i,o,a,c,l,s;if(e){for(l=[],i=0,a=u.length;a>i;i++)t=u[i],l.push(r.addClass(n,t));return l}for(s=[],o=0,c=u.length;c>o;o++)t=u[o],s.push(r.removeClass(n,t));return s}):"focus"===c?p=function(e){return e?n.focus():n.blur()}:f?p=function(e){return f&&(void 0===e&&(e=null),n[f]!==e)?n[f]=e:void 0}:(a.element=n,a.elementAttr=c);return s?o.changeDetector.watchText(i,p,a):o.changeDetector.watch(i,p,a)}}}(),n.d.al.model=function(e,t,r,i){var o;if(o=t.nodeName.toLowerCase(),"select"===o)return n.d.al.select.call(this,e,t,r,i);if("input"===o){if("checkbox"===t.type)return n.d.al.checked.call(this,e,t,r,i);if("radio"===t.type)return n.d.al.radio.call(this,e,t,r,i)}return n.d.al.value.call(this,e,t,r,i)},n.filters.slice=function(e,t,n){return e?n?e.slice(t,n):e.slice(t):null},function(){var e;return e=function(e){return 10>e?"0"+e:""+e},n.filters.date=function(t,n){var r,i,o,a,c;if(!t)return"";for(t=new Date(t),c=[[/yyyy/g,t.getFullYear()],[/mm/g,e(t.getMonth()+1)],[/dd/g,e(t.getDate())],[/HH/g,e(t.getHours())],[/MM/g,e(t.getMinutes())],[/SS/g,e(t.getSeconds())]],a=n,i=0,o=c.length;o>i;i++)r=c[i],a=a.replace(r[0],r[1]);return a}}(),n.filters.json={watchMode:"deep",fn:function(e){return JSON.stringify(n.utils.clone(e),null,4)}},n.filters.filter=function(e,t,n){var r,i,o,a,c,l,s,u,f,p,h,d;if(2===arguments.length)c=null,d=t;else{if(3!==arguments.length)return e;c=t,d=n}if(!e||null==d||""===d)return e;if(u=[],p=(""+d).toLowerCase(),c)for(i=0,l=e.length;l>i;i++)r=e[i],r[c]===d?u.push(r):(f=(""+r[c]).toLowerCase(),f.indexOf(p)>=0&&u.push(r));else for(o=0,s=e.length;s>o;o++){r=e[o];for(a in r)h=r[a],h===d?u.push(r):(f=(""+h).toLowerCase(),f.indexOf(p)>=0&&u.push(r))}return u},n.filters.orderBy=function(e,t,n){return!e instanceof Array?null:(n=n?1:-1,e.sort(function(e,r){return e[t]<r[t]?-n:e[t]>r[t]?n:0}))},n.filters.throttle={init:function(e,t,n){var r;return t=Number(t),r=null,{onChange:function(e){return r&&clearTimeout(r),r=setTimeout(function(){return r=null,n.setValue(e),n.changeDetector.scan()},t)}}}},n.filters.toArray={init:function(e,t,n){var r,i,o;return 2===n.conf.args.length?(r=n.conf.args[0],o=n.conf.args[1]):(r="key",o="value"),i=[],{watchMode:"deep",onChange:function(e){var t,a,c;i.length=0;for(a in e)c=e[a],t={},t[r]=a,t[o]=c,i.push(t);return n.setValue(i)}}}},n.filters.storeTo={init:function(e,t,n){return{onChange:function(e){return n.changeDetector.setValue(t,e),n.setValue(e)}}}},n.text["="]=function(e,t,r,i){var o;if(o=n.utils.compile.expression(t),o.filters)throw"Conflict: bindonce and filters, use one-time binding";i["finally"](o.fn(i.changeDetector.locals))},n.text["::"]=function(e,t,n,r){r.changeDetector.watch(t,function(e){return r["finally"](e)},{oneTime:!0})},n.text["&"]=function(e,t,n,r){var i,o,a;return o=t.split(":"),i=r.changeDetector,a=i.compile(o[1],{input:["$value"]}),i.watch(o[0],function(t){var r;return r=a(n,t),window.Promise&&r instanceof Promise?r.then(function(t){return e(t),i.scan()}):e(r)})},function(){function e(e){var n,r=e.listener,i=e.childCD,o=e.name,a=e.parentName,c=e.parentCD,l={};if(r&&r!==!0)if(t.isFunction(r))n=r;else{if(n=r.onChange,"copy"===r||"copy"===r.watchMode)return void(n?n(a):i.scope[o]=a);("array"===r||"array"===r.watchMode)&&(l.isArray=!0),("deep"===r||"deep"===r.watchMode)&&(l.deep=!0)}n||(n=function(e){i.scope[o]=e,i.scan()}),c.watch(a,n,l)}var t=n.f$;n.component=function(r,i){var o,a,c=r.match(/^(\w+)[\-](.+)$/);c?(o=c[1],a=c[2]):(o="$global",a=r),a=a.replace(/(-\w)/g,function(e){return e.substring(1).toUpperCase()}),n.d[o]||(n.d[o]={}),n.d[o][a]={restrict:"E",stopBinding:!0,priority:n.priority.$component,init:function(o,a,c,l){function s(t,n){var r=":"+t,i=d.takeAttr(r);if(!i){if(i=d.takeAttr(t),!i)return;n="copy"}e({childCD:h,listener:n,name:t,parentName:i,parentCD:p})}function u(){_||p.digest(),n.bind(h,a,{skip:!0})}l.fastBinding=!0;var f={$sendEvent:function(e,t){var n=new CustomEvent(e);n.value=t,n.component=!0,a.dispatchEvent(n)}},p=l.changeDetector["new"](),h=n.ChangeDetector(f),d=new $({element:a,attributes:l.attributes,changeDetector:h,parentChangeDetector:p});try{var m=i(f,a,d)||{}}catch(v){return void n.exceptionHandler(v,"Error in component <"+r+">: ",{element:a,scope:f,cd:h})}m.onStart&&h.watch("$finishBinding",m.onStart);var g=!1;if(p.watch("$destroy",function(){g=!0,h.destroy()}),h.watch("$destroy",function(){m.onDestroy&&m.onDestroy(),g||p.destroy()}),m.api){var y=d.takeAttr(":api");y&&(p.locals[y]=m.api)}if(m.props)if(Array.isArray(m.props))for(var w=0,b=m.props;w<b.length;w++){var x=b[w];s(x,!0)}else for(var x in m.props)s(x,m.props[x]);else for(var D=0,k=a.attributes;D<k.length;D++){var C=k[D],B=C.name,y=C.value;if(y){var A=B.match(/^\:(.*)$/);A&&e({childCD:h,name:A[1],parentName:y,parentCD:p})}}var _=!1;if(p.watch("$onScanOnce",function(){return _=!0}),m.template&&(a.innerHTML=m.template),m.templateId){var T=document.getElementById(m.templateId);if(!T)throw"No template "+m.templateId;a.innerHTML=T.innerHTML}m.templateUrl?t.ajax({url:m.templateUrl,cache:!0,success:function(e){a.innerHTML=e,u(!0)},error:function(){console.error("Template is not loaded",m.templateUrl)}}):u()}}}}(),n}var t=e();t.makeInstance=e,"function"==typeof alightInitCallback?alightInitCallback(t):"function"==typeof define?define(function(){return t}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t:(t.option.globalController=!0,window.alight=t,t.f$.ready(t.bootstrap))}();